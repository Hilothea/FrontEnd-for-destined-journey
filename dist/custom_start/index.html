<head><script type="module">import{createPinia as e,defineStore as t,storeToRefs as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';import{default as l}from'https://testingcf.jsdelivr.net/npm/json5/+esm';var o={42:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},n={};const c=Vue,s={class:'creator-app'};var r=function e(t){var a=n[t];if(void 0!==a)return a.exports;var l=n[t]={exports:{}};return o[t](l,l.exports,e),l.exports}(42);const i={},d=(0,r.A)(i,[['render',function(e,t){const a=(0,c.resolveComponent)('RouterView');return(0,c.openBlock)(),(0,c.createElementBlock)('div',s,[(0,c.createVNode)(a)])}],['__scopeId','data-v-15ec88ba']]),m=['男','女','雌性','雄性','自定义'],u={地精:-10,人类:0,兽族:0,翼民:10,矮人:10,魔物:10,半身人:10,亡灵种族:10,深渊魔族:20,巨人:30,妖精:30,精灵:40,血族:50,龙族:60,自定义:80},p={沦为奴隶:-20,魔王残党:-20,自由平民:0,游荡亡灵:0,野生魔物:0,中产阶级:20,贵族阶级:40,自定义:80},v=['大陆东南部区域-索伦蒂斯王国','大陆东北部区域-诺斯加德联盟','大陆东北部沿海区域-伯伦斯法环联邦-雾晶港','大陆中东部区域-奥古斯提姆帝国','大陆中央区域-神迹山脉-天空圣域高原-圣都梵尼亚','大陆中西部区域-无尽风痕草原-卡拉什特里斯(兽族联盟)','大陆西南端-翡翠之心-艾尔文海姆(精灵王国)','大陆西南部区域-无尽树海-奥古斯提姆帝国-诺瓦·瓦伦蒂亚城','大陆西南部区域-无尽树海-雨林中层区域','大陆西南部区域-诺瓦尔河流域-主河道中游河底','大陆西南部区域-无尽树海-雨林中央-无尽深渊地城-地下23层','大陆南端-悲鸣沼泽-伯恩·瑞瑟喃斯(骸响之都)-城门内','大陆上空-泣歌云海-艾琉德雷姆·尼尔(泣空遗迹)','无尽海东部-碎星群岛-蓝泪岛','自定义'],V=['力量','敏捷','体质','智力','精神'],f=e=>e>=1&&e<=4?0:e>=5&&e<=8?1:e>=9&&e<=12?2:e>=13&&e<=16?3:e>=17&&e<=20?4:e>=21&&e<=24?5:e>=25?6:0,k=t('character',()=>{const e=(0,c.ref)({name:'',gender:'男',customGender:'',age:18,race:'人类',customRace:'',identity:'自由平民',customIdentity:'',startLocation:'大陆东南部区域-索伦蒂斯王国',customStartLocation:'',level:1,attributePoints:{力量:0,敏捷:0,体质:0,智力:0,精神:0},reincarnationPoints:300,destinyPoints:0}),t=(0,c.ref)([]),a=(0,c.ref)([]),l=(0,c.ref)([]),o=(0,c.ref)([]),n=(0,c.ref)(null),s=(0,c.ref)(0),r=(0,c.computed)(()=>{let n=0;n+=u[e.value.race]||0;n+=p[e.value.identity]||0;n+=i.value;n+=t.value.reduce((e,t)=>e+t.cost,0);n+=a.value.reduce((e,t)=>e+t.cost,0);n+=l.value.reduce((e,t)=>e+t.cost,0);return n+=o.value.reduce((e,t)=>e+t.cost,0),n+=s.value,n}),i=(0,c.computed)(()=>Object.values(e.value.attributePoints).reduce((e,t)=>e+t,0)),d=(0,c.computed)(()=>{return t=e.value.level,5+Math.max(0,t-1);var t}),m=(0,c.computed)(()=>d.value-i.value),v=(0,c.computed)(()=>{const t=f(e.value.level),a={};for(const l of V)a[l]=4+t+e.value.attributePoints[l];return a});return{character:e,consumedPoints:r,exchangedReincarnationPoints:s,selectedEquipments:t,selectedItems:a,selectedSkills:l,selectedDestinedOnes:o,selectedBackground:n,usedAP:i,maxAP:d,remainingAP:m,finalAttributes:v,updateCharacterField:(t,a)=>{e.value[t]=a},updateAttribute:(t,a)=>{e.value.attributePoints[t]=Math.max(0,a)},addAttributePoint:t=>{m.value>0&&e.value.attributePoints[t]++},removeAttributePoint:t=>{e.value.attributePoints[t]>0&&e.value.attributePoints[t]--},rollInitialPoints:()=>{const t=(e=>{if(e&&(e=>{const t=e.toLowerCase();return['[dev]','[test]'].some(e=>t.includes(e))})(e))return 9999;const t=Math.random();return t<.7?Math.floor(201*Math.random())+100:t<.9?Math.floor(201*Math.random())+300:Math.floor(501*Math.random())+500})(e.value.name);return e.value.reincarnationPoints=t,t},resetCharacter:()=>{e.value={name:'',gender:'男',customGender:'',age:18,race:'人类',customRace:'',identity:'自由平民',customIdentity:'',startLocation:'大陆东南部区域-索伦蒂斯王国',customStartLocation:'',level:1,attributePoints:{力量:0,敏捷:0,体质:0,智力:0,精神:0},reincarnationPoints:300,destinyPoints:0}},addEquipment:e=>{t.value.push(e)},removeEquipment:e=>{const a=t.value.findIndex(t=>t.name===e.name);-1!==a&&t.value.splice(a,1)},addItem:e=>{a.value.push(e)},removeItem:e=>{const t=a.value.findIndex(t=>t.name===e.name);-1!==t&&a.value.splice(t,1)},addSkill:e=>{l.value.push(e)},removeSkill:e=>{const t=l.value.findIndex(t=>t.name===e.name);-1!==t&&l.value.splice(t,1)},clearSelections:()=>{t.value=[],a.value=[],l.value=[]},addDestinedOne:e=>{o.value.push(e)},removeDestinedOne:e=>{const t=o.value.findIndex(t=>t.name===e.name);-1!==t&&o.value.splice(t,1)},setBackground:e=>{n.value=e},exchangeDestinyPoints:t=>{const a=10*t;e.value.destinyPoints+=a,s.value+=t},setDestinyPoints:t=>{e.value.destinyPoints=Math.max(0,t)},resetExchangedPoints:()=>{s.value=0}}}),N=e(),y=VueRouter,E={only:'唯一',common:'普通',uncommon:'优良',rare:'稀有',epic:'史诗',legendary:'传说',mythic:'神话'};function g(e){const t={gold:0,silver:0,copper:0},a=e.match(/(\d+)金币/);a&&(t.gold=parseInt(a[1]));const l=e.match(/(\d+)银币/);l&&(t.silver=parseInt(l[1]));const o=e.match(/(\d+)铜币/);return o&&(t.copper=parseInt(o[1])),t}const b={class:'steps'},h={class:'title'},B=(0,c.defineComponent)({__name:'Steps',props:{steps:{default:()=>[]},step:{default:1}},setup(e,{expose:t}){const a=e;return t({steps:a.steps,step:a.step}),(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',b,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.steps,(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:a,class:(0,c.normalizeClass)(['step',{pass:e.step>=a+1}])},[(0,c.createElementVNode)('div',h,(0,c.toDisplayString)(t.title),1)],2))),128))]))}}),C=(0,r.A)(B,[['__scopeId','data-v-4595f292']]),S={class:'layout'},D={class:'points-panel'},w={class:'points-display'},x={class:'points-total'},q=['disabled','title'],P={key:0,class:'action-buttons'},I={class:'content-area'},L={class:'navigation'},M=['disabled'],A=['disabled','title'],U={class:'text'},F=(0,c.defineComponent)({__name:'index',setup(e){const t=(0,y.useRouter)(),l=(0,y.useRoute)(),o=k(),{character:n}=a(o),s=(0,c.computed)(()=>{const e=o.consumedPoints;return n.value.reincarnationPoints-e}),r=(0,c.computed)(()=>0===o.consumedPoints),i=(0,c.ref)(null),d=(0,c.ref)(0),m=(0,c.ref)(0);(0,c.provide)('randomGenerateTrigger',d),(0,c.provide)('resetPageTrigger',m);const u=()=>{o.rollInitialPoints()},p=()=>{d.value++},v=()=>{m.value++},V=(0,c.ref)([{title:'信息/属性'},{title:'装备/技能'},{title:'对象/背景'},{title:'确认'}]),N={BasicInfo:1,Selections:2,Background:3,Confirm:4},b={1:'BasicInfo',2:'Selections',3:'Background',4:'Confirm'},h=(0,c.computed)(()=>{const e=l.meta?.step;if(e)return e;const t=l.name;return N[t]||1}),B=()=>{const e=h.value-1;if(e>=1){const a=b[e];t.push({name:a})}},F=async()=>{if(h.value===V.value.length)return void await R();const e=h.value+1;if(e<=V.value.length){const a=b[e];t.push({name:a})}},R=async()=>{try{await async function(e,t,a,l){await waitGlobalInitialized('Mvu');const o=a.filter(e=>!e.isCustom),n=t.filter(e=>!e.isCustom),c=l.filter(e=>!e.isCustom),s=[];s.push(`_.set('命定系统.命运点数', ${e.destinyPoints}); // 初始化命运点数`);for(const e of o){const t={品质:E[e.rarity]||'普通',类型:e.type,消耗:e.consume||'',标签:e.tag,效果:e.effect,描述:e.description};s.push(`_.insert('技能列表', '${e.name}', ${JSON.stringify(t)}); // 添加技能：${e.name}`)}for(const e of n)if('货币'===e.type){const t=g(e.description);t.gold>0&&s.push(`_.add('财产.货币.金币', ${t.gold}); // 添加金币`),t.silver>0&&s.push(`_.add('财产.货币.银币', ${t.silver}); // 添加银币`),t.copper>0&&s.push(`_.add('财产.货币.铜币', ${t.copper}); // 添加铜币`)}else{const t={品质:E[e.rarity]||'普通',数量:1,类型:e.type,标签:e.tag,效果:e.effect,描述:e.description};s.push(`_.insert('财产.背包', '${e.name}', ${JSON.stringify(t)}); // 添加道具：${e.name}`)}for(const e of c){const t={是否在场:'是',生命层级:e.lifeLevel,等级:e.level,种族:e.race,身份:[...e.identity],职业:[...e.career],性格:e.personality,喜爱:e.like,外貌特质:e.app,衣物装饰:e.cloth,属性:{力量:e.attributes.strength,敏捷:e.attributes.dexterity,体质:e.attributes.constitution,智力:e.attributes.intelligence,精神:e.attributes.mind},登神长阶:{是否开启:e.stairway.isOpen?'是':'否'},是否缔结契约:e.isContract,好感度:e.affinity,评价:e.comment||'',背景故事:e.backgroundInfo||'',装备:{},技能:{}};for(const a of e.equip)a.name&&(t.装备[a.name]={品质:a.rarity&&E[a.rarity]||'普通',类型:a.type||'',标签:a.tag||'',效果:a.effect||'',描述:a.description||''});for(const a of e.skills)t.技能[a.name]={品质:E[a.rarity]||'普通',类型:a.type,消耗:a.consume||'',标签:a.tag,效果:a.effect,描述:a.description};s.push(`_.insert('命定系统.命定之人', '${e.name}', ${JSON.stringify(t)}); // 添加命定之人：${e.name}`)}const r=Mvu.getMvuData({type:'chat'}),i=Mvu.getMvuData({type:'message',message_id:'latest'}),d=s.join('\n'),m=await Mvu.parseMessage(d,r),u=await Mvu.parseMessage(d,i);m&&u?(await Mvu.replaceMvuData(m,{type:'chat'}),await Mvu.replaceMvuData(u,{type:'message',message_id:'latest'}),console.log('✅ 预设数据已成功写入聊天变量和消息楼层变量（保持可扩展性）')):console.warn('⚠️ MVU 命令解析失败，数据未写入')}(n.value,o.selectedItems,o.selectedSkills,o.selectedDestinedOnes),console.log('✅ 角色数据已写入 MVU 变量');const e=function(e,t,a,l,o,n){const c=[];c.push('# 角色信息\n');const s='自定义'===e.gender?e.customGender:e.gender,r='自定义'===e.race?e.customRace:e.race,i='自定义'===e.identity?e.customIdentity:e.identity,d='自定义'===e.startLocation?e.customStartLocation:e.startLocation;c.push('## 基本信息'),c.push(`- 姓名：${e.name}`),c.push(`- 性别：${s}`),c.push(`- 年龄：${e.age} 岁`),c.push(`- 种族：${r}`),c.push(`- 身份：${i}`),c.push(`- 出生地：${d}`),c.push(`- 等级：Lv.${e.level}`);const m=f(e.level),u=4+m+e.attributePoints.力量,p=4+m+e.attributePoints.敏捷,v=4+m+e.attributePoints.体质,V=4+m+e.attributePoints.智力,k=4+m+e.attributePoints.精神;c.push('\n## 角色属性'),c.push(`- 力量：${u}`),c.push(`- 敏捷：${p}`),c.push(`- 体质：${v}`),c.push(`- 智力：${V}`),c.push(`- 精神：${k}`),t.length>0&&(c.push('\n## 装备列表'),t.forEach((e,t)=>{c.push(`\n### ${t+1}. ${e.name}`),c.push(`- 类型：${e.type}`),c.push(`- 品质：${E[e.rarity]||e.rarity}`),e.tag&&c.push(`- 标签：${e.tag}`),c.push(`- 效果：${e.effect}`),e.description&&c.push(`- 描述：${e.description}`)}));const N=o.filter(e=>e.isCustom);N.length>0&&(c.push('\n## 自定义道具列表'),N.forEach((e,t)=>{c.push(`\n### ${t+1}. ${e.name||'未命名'}`),e.type&&c.push(`- 类型：${e.type}`),e.rarity&&c.push(`- 品质：${E[e.rarity]||e.rarity}`),e.tag&&c.push(`- 标签：${e.tag}`),e.effect&&c.push(`- 效果：${e.effect}`),e.description&&c.push(`- 描述：${e.description}`)}));const y=n.filter(e=>e.isCustom);y.length>0&&(c.push('\n## 自定义技能列表'),y.forEach((e,t)=>{c.push(`\n### ${t+1}. ${e.name||'未命名'}`),e.type&&c.push(`- 类型：${e.type}`),e.rarity&&c.push(`- 品质：${E[e.rarity]||e.rarity}`),e.tag&&c.push(`- 标签：${e.tag}`),e.consume&&c.push(`- 消耗：${e.consume}`),e.effect&&c.push(`- 效果：${e.effect}`),e.description&&c.push(`- 描述：${e.description}`)}));const g=a.filter(e=>e.isCustom);return g.length>0&&(c.push('\n## 命定之人'),g.forEach((e,t)=>{c.push(`\n### ${t+1}. ${e.name}`),c.push(`- 种族：${e.race}`),c.push(`- 身份：${e.identity.join('、')}`),e.career.length>0&&c.push(`- 职业：${e.career.join('、')}`),c.push(`- 生命层级：${e.lifeLevel}`),c.push(`- 等级：${e.level}`),c.push(`- 性格：${e.personality}`),c.push(`- 喜爱：${e.like}`),c.push(`- 外貌：${e.app}`),c.push(`- 衣着：${e.cloth}`),e.equip.length>0&&(c.push('- 装备：'),e.equip.forEach(e=>{e.name&&c.push(`  - ${e.name}${e.description?`：${e.description}`:''}`)})),c.push(`- 属性：力量${e.attributes.strength} 敏捷${e.attributes.dexterity} 体质${e.attributes.constitution} 智力${e.attributes.intelligence} 精神${e.attributes.mind}`),e.stairway.isOpen&&(c.push('- 登神长阶：已开启'),e.stairway.elements?.描述&&c.push(`  - 描述：${e.stairway.elements.描述}`)),c.push(`- 是否缔结契约：${e.isContract}`),c.push(`- 好感度：${e.affinity}`),e.comment&&c.push(`- 评价：${e.comment}`),e.backgroundInfo&&c.push(`- 背景：${e.backgroundInfo}`),e.skills.length>0&&(c.push('- 技能：'),e.skills.forEach(e=>c.push(`  - ${e.name}：${e.effect}`)))})),l&&(c.push('\n## 初始开局剧情'),c.push(`### ${l.name}`),l.requiredRace&&c.push(`- 种族限制：${l.requiredRace}`),l.requiredLocation&&c.push(`- 地点限制：${l.requiredLocation}`),c.push(`\n${l.description}`)),c.push('\n---\n'),c.push('务必按照<status_current_variables>和以上内容，生成一个符合描述和情景的初始剧情！\n'),c.push('(注意：生成初始剧情时，还需根据内容，将相关数据在<UpdateVariable>内进行记录和更新，严禁任何修改和省略。如有数据是不完整的，务必参考相关设定进行完善)'),c.join('\n')}(n.value,o.selectedEquipments,o.selectedDestinedOnes,o.selectedBackground,o.selectedItems,o.selectedSkills);console.log('✅ AI 提示词已生成：\n',e);const t=`/send raw=true compact=false ${e}`;await triggerSlash(t),console.log('✅ 角色信息已发送给 AI')}catch(e){console.error('❌ 踏上旅程时发生错误：',e)}},O=(0,c.computed)(()=>h.value>1),j=(0,c.computed)(()=>h.value===V.value.length&&s.value<0),G=(0,c.computed)(()=>h.value===V.value.length?'踏上旅程':'下一步'),T=(0,c.ref)('slide-left');return(0,c.watch)(()=>l.name,(e,t)=>{const a=N[e]||1,l=N[t]||1;T.value=a>l?'slide-left':'slide-right'}),(e,t)=>{const a=(0,c.resolveComponent)('router-view');return(0,c.openBlock)(),(0,c.createElementBlock)('div',S,[t[5]||(t[5]=(0,c.createElementVNode)('h1',{class:'main-title'},'命定之诗与黄昏之歌',-1)),(0,c.createCommentVNode)(' 转生点数显示和 Roll 点按钮 '),(0,c.createElementVNode)('div',D,[(0,c.createElementVNode)('div',w,[t[0]||(t[0]=(0,c.createElementVNode)('span',{class:'points-label'},'可用转生点：',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['points-value',{negative:(0,c.unref)(s)<0}])},(0,c.toDisplayString)((0,c.unref)(s)),3),(0,c.createElementVNode)('span',x,'/ '+(0,c.toDisplayString)((0,c.unref)(n).reincarnationPoints),1)]),(0,c.createElementVNode)('button',{class:'roll-button',disabled:!(0,c.unref)(r),title:(0,c.unref)(r)?'随机生成新的转生点数':'已消耗点数，无法重新 Roll（请先重置）',onClick:u},[...t[1]||(t[1]=[(0,c.createElementVNode)('span',{class:'button-text'},'🎲 Roll 点数',-1)])],8,q)]),(0,c.createVNode)(C,{ref_key:'stepRef',ref:i,steps:(0,c.unref)(V),step:(0,c.unref)(h)},null,8,['steps','step']),(0,c.createCommentVNode)(' 随机生成和重置按钮（确认页面不显示） '),4!==(0,c.unref)(h)?((0,c.openBlock)(),(0,c.createElementBlock)('div',P,[(0,c.createElementVNode)('button',{class:'action-button random-button',title:'随机生成当前页面内容',onClick:p},[...t[2]||(t[2]=[(0,c.createElementVNode)('span',{class:'icon'},'✨',-1),(0,c.createElementVNode)('span',{class:'text'},'随机当前页',-1)])]),(0,c.createElementVNode)('button',{class:'action-button reset-button',title:'重置当前页面',onClick:v},[...t[3]||(t[3]=[(0,c.createElementVNode)('span',{class:'icon'},'🔄',-1),(0,c.createElementVNode)('span',{class:'text'},'重置当前页',-1)])])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',I,[(0,c.createVNode)(a,null,{default:(0,c.withCtx)(({Component:e,route:t})=>[(0,c.createVNode)(c.Transition,{name:(0,c.unref)(T),mode:'out-in'},{default:(0,c.withCtx)(()=>[((0,c.openBlock)(),(0,c.createBlock)((0,c.resolveDynamicComponent)(e),{key:t.path}))]),_:2},1032,['name'])]),_:1})]),(0,c.createElementVNode)('div',L,[(0,c.createElementVNode)('button',{class:'nav-button prev-button',disabled:!(0,c.unref)(O),onClick:B},[...t[4]||(t[4]=[(0,c.createElementVNode)('span',{class:'text'},'上一步',-1)])],8,M),(0,c.createElementVNode)('button',{class:'nav-button next-button',disabled:(0,c.unref)(j),title:(0,c.unref)(j)?'可用转生点数不能为负':void 0,onClick:F},[(0,c.createElementVNode)('span',U,(0,c.toDisplayString)((0,c.unref)(G)),1)],8,A)])])}}}),R=(0,r.A)(F,[['__scopeId','data-v-78698970']]);async function O(e,t){try{const o=await fetch((a=`https://testingcf.jsdelivr.net/gh/The-poem-of-destiny/FrontEnd-for-destined-journey/public/assets/data/${e}`,`${a}?t=${Date.now()}`));if(!o.ok)return console.log(`📝 未找到自定义数据文件 (${e})`),{};const n=await o.text(),c=l.parse(n);return console.log(`✅ 成功加载自定义${t}数据`),c}catch(e){return console.log(`📝 未找到自定义${t}数据或格式错误:`,e),{}}var a}function j(e,t){const a={...e};for(const[e,l]of Object.entries(t))a[e]?a[e]=[...a[e],...l]:a[e]=l;return a}const G={通用开局:[{name:'【自定义开局】',description:'自由发挥你的想象力，编写你自己的人物初始背景。'}]};let T=null;function J(){return T||G}!async function(){const e=await async function(){return O('backgrounds.json','初始剧情')}();T=j(G,e)}();const K={};let X=null;function H(){return X||K}!async function(){const e=await async function(){return O('destinedOnes.json','命定之人')}();X=j(K,e)}();const Q={class:'background-category-nav'},W=['onClick'],Y=(0,c.defineComponent)({__name:'BackgroundCategoryNav',props:{modelValue:{},categories:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t;return(t,o)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Q,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(a.categories,t=>((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:t,class:(0,c.normalizeClass)(['category-item',{active:e.modelValue===t}]),onClick:e=>(e=>{l('update:modelValue',e)})(t)},(0,c.toDisplayString)(t),11,W))),128))]))}}),Z=(0,r.A)(Y,[['__scopeId','data-v-42bb04b4']]),ee={class:'form-textarea-wrapper'},te=['rows','placeholder','disabled','readonly','maxlength'],ae=(0,c.defineComponent)({__name:'FormTextarea',props:{modelValue:{},rows:{default:3},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:{},autoResize:{type:Boolean,default:!1}},emits:['update:modelValue','focus','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.ref)(),n=(0,c.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),s=e=>{l('focus',e)},r=e=>{l('blur',e)},i=()=>{a.autoResize&&o.value&&(0,c.nextTick)(()=>{o.value&&(o.value.style.height='auto',o.value.style.height=`${o.value.scrollHeight}px`)})};return(0,c.watch)(()=>a.modelValue,i),(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',ee,[(0,c.withDirectives)((0,c.createElementVNode)('textarea',{ref_key:'textareaRef',ref:o,'onUpdate:modelValue':a[0]||(a[0]=e=>n.value=e),rows:e.rows,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength,class:(0,c.normalizeClass)(['form-textarea',{'is-disabled':e.disabled,'is-readonly':e.readonly,'auto-resize':e.autoResize}]),onFocus:s,onBlur:r,onInput:i},null,42,te),[[c.vModelText,n.value]])]))}}),le=(0,r.A)(ae,[['__scopeId','data-v-517d0cac']]),oe={class:'background-list'},ne={key:0,class:'empty-message'},ce=['onClick'],se={class:'card-header'},re={class:'background-name'},ie=['onClick'],de={class:'background-summary'},me={key:0,class:'background-details'},ue={key:0,class:'background-description'},pe={key:1,class:'requirements'},ve={key:0,class:'requirement-item'},Ve={key:1,class:'requirement-item'},fe={key:1,class:'requirement-warning'},ke={key:2,class:'custom-input-area'},Ne=(0,c.defineComponent)({__name:'BackgroundList',props:{items:{},selectedItem:{},characterRace:{},characterLocation:{}},emits:['select','update:customDescription'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.ref)(new Set),n=e=>o.value.has(e),s=e=>a.selectedItem?.name===e.name,r=e=>(!e.requiredRace||'自定义'===a.characterRace||e.requiredRace===a.characterRace)&&(!e.requiredLocation||'自定义'===a.characterLocation||e.requiredLocation===a.characterLocation),i=(0,c.ref)(''),d=e=>{i.value=e,l('update:customDescription',e)},m=e=>'【自定义开局】'===e.name;return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',oe,[0===e.items.length?((0,c.openBlock)(),(0,c.createElementBlock)('div',ne,'该分类暂无初始剧情')):(0,c.createCommentVNode)('v-if',!0),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.items,t=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t.name,class:(0,c.normalizeClass)(['background-card',{selected:s(t),disabled:!r(t),expanded:n(t.name)}]),onClick:e=>(e=>{r(e)&&(l('select',e),'【自定义开局】'===e.name&&(i.value=''))})(t)},[(0,c.createElementVNode)('div',se,[(0,c.createElementVNode)('h3',re,(0,c.toDisplayString)(t.name),1),t.description.length>100||t.requiredRace||t.requiredLocation?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:0,class:'expand-btn',onClick:e=>{return a=t.name,e.stopPropagation(),void(o.value.has(a)?o.value.delete(a):o.value.add(a));var a}},(0,c.toDisplayString)(n(t.name)?'收起':'展开'),9,ie)):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createCommentVNode)(' 简要描述（始终显示） '),(0,c.createElementVNode)('p',de,(0,c.toDisplayString)(t.description.substring(0,100))+(0,c.toDisplayString)(t.description.length>100?'...':''),1),(0,c.createCommentVNode)(' 详细内容（可折叠） '),n(t.name)?((0,c.openBlock)(),(0,c.createElementBlock)('div',me,[t.description.length>100?((0,c.openBlock)(),(0,c.createElementBlock)('p',ue,(0,c.toDisplayString)(t.description),1)):(0,c.createCommentVNode)('v-if',!0),t.requiredRace||t.requiredLocation?((0,c.openBlock)(),(0,c.createElementBlock)('div',pe,[t.requiredRace?((0,c.openBlock)(),(0,c.createElementBlock)('div',ve,[a[0]||(a[0]=(0,c.createElementVNode)('span',{class:'requirement-label'},'种族要求：',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['requirement-value',{'requirement-met':e.characterRace===t.requiredRace||'自定义'===e.characterRace,'requirement-unmet':e.characterRace!==t.requiredRace&&'自定义'!==e.characterRace}])},(0,c.toDisplayString)(t.requiredRace),3)])):(0,c.createCommentVNode)('v-if',!0),t.requiredLocation?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ve,[a[1]||(a[1]=(0,c.createElementVNode)('span',{class:'requirement-label'},'地区要求：',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['requirement-value',{'requirement-met':e.characterLocation===t.requiredLocation||'自定义'===e.characterLocation,'requirement-unmet':e.characterLocation!==t.requiredLocation&&'自定义'!==e.characterLocation}])},(0,c.toDisplayString)(t.requiredLocation),3)])):(0,c.createCommentVNode)('v-if',!0)])):(0,c.createCommentVNode)('v-if',!0)])):(0,c.createCommentVNode)('v-if',!0),(0,c.createCommentVNode)(' 不满足要求时显示提示 '),r(t)?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('div',fe,'⚠️ 不满足该剧情的限定条件')),(0,c.createCommentVNode)(' 自定义开局输入框 '),m(t)&&s(t)?((0,c.openBlock)(),(0,c.createElementBlock)('div',ke,[a[2]||(a[2]=(0,c.createElementVNode)('div',{class:'custom-input-label'},'请编写您的自定义开局剧情：',-1)),(0,c.createVNode)(le,{'model-value':i.value,rows:6,placeholder:'在这里发挥您的想象力，编写您自己的人物初始剧情...\n\n例如：您可以描述角色的出身、经历的事件、当前的处境等等。','onUpdate:modelValue':d},null,8,['model-value'])])):(0,c.createCommentVNode)('v-if',!0)],10,ce))),128))]))}}),ye=(0,r.A)(Ne,[['__scopeId','data-v-4f0236e3']]),Ee={class:'form-input-wrapper'},ge=['type','placeholder','disabled','readonly','maxlength'],be=(0,c.defineComponent)({__name:'FormInput',props:{modelValue:{},type:{default:'text'},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:{}},emits:['update:modelValue','focus','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.computed)({get:()=>a.modelValue,set:e=>l('update:modelValue',e)}),n=e=>{l('focus',e)},s=e=>{l('blur',e)};return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Ee,[(0,c.withDirectives)((0,c.createElementVNode)('input',{'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),type:e.type,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength,class:(0,c.normalizeClass)(['form-input',{'is-disabled':e.disabled,'is-readonly':e.readonly}]),onFocus:n,onBlur:s},null,42,ge),[[c.vModelDynamic,o.value]])]))}}),he=(0,r.A)(be,[['__scopeId','data-v-68bda4ea']]),Be=['for'],Ce={key:0,class:'required-mark'},Se=(0,c.defineComponent)({__name:'FormLabel',props:{label:{},required:{type:Boolean,default:!1},htmlFor:{}},setup:e=>(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('label',{for:e.htmlFor,class:(0,c.normalizeClass)(['form-label',{'is-required':e.required}])},[(0,c.createTextVNode)((0,c.toDisplayString)(e.label)+' ',1),e.required?((0,c.openBlock)(),(0,c.createElementBlock)('span',Ce,'*')):(0,c.createCommentVNode)('v-if',!0)],10,Be))}),De=(0,r.A)(Se,[['__scopeId','data-v-2dd9d352']]),we={class:'form-number-wrapper'},xe=['min','max','step','placeholder','disabled','readonly'],_e={key:0,class:'number-controls'},qe=['disabled'],Pe=['disabled'],$e=(0,c.defineComponent)({__name:'FormNumber',props:{modelValue:{},min:{default:1},max:{default:1e4},step:{default:1},placeholder:{default:''},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},showControls:{type:Boolean,default:!0}},emits:['update:modelValue','change','blur'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.ref)(),n=(0,c.computed)({get:()=>a.modelValue,set:e=>{const t=Number(e);if(!isNaN(t)){const e=Math.max(a.min,Math.min(a.max,t));l('update:modelValue',e),l('change',e)}}}),s=()=>{if(!a.disabled&&!a.readonly){const e=Math.min(a.max,a.modelValue+a.step);l('update:modelValue',e),l('change',e)}},r=()=>{if(!a.disabled&&!a.readonly){const e=Math.max(a.min,a.modelValue-a.step);l('update:modelValue',e),l('change',e)}},i=e=>{let t;t=isNaN(a.modelValue)||null===a.modelValue?a.min:Math.max(a.min,Math.min(a.max,a.modelValue)),t!==a.modelValue&&(l('update:modelValue',t),l('change',t)),o.value&&(o.value.value=String(t)),l('blur',e)};return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',we,[(0,c.withDirectives)((0,c.createElementVNode)('input',{ref_key:'inputRef',ref:o,'onUpdate:modelValue':a[0]||(a[0]=e=>n.value=e),type:'number',min:e.min,max:e.max,step:e.step,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,class:(0,c.normalizeClass)(['form-number',{'is-disabled':e.disabled,'is-readonly':e.readonly,'has-controls':e.showControls}]),onBlur:i},null,42,xe),[[c.vModelText,n.value,void 0,{number:!0}]]),e.showControls?((0,c.openBlock)(),(0,c.createElementBlock)('div',_e,[(0,c.createElementVNode)('button',{type:'button',class:'control-btn up',disabled:e.disabled||e.readonly||e.modelValue>=e.max,onClick:s},' ▲ ',8,qe),(0,c.createElementVNode)('button',{type:'button',class:'control-btn down',disabled:e.disabled||e.readonly||e.modelValue<=e.min,onClick:r},' ▼ ',8,Pe)])):(0,c.createCommentVNode)('v-if',!0)]))}}),Ie=(0,r.A)($e,[['__scopeId','data-v-1b44ae38']]),Le={common:{min:5,max:30},uncommon:{min:20,max:60},rare:{min:35,max:100},epic:{min:80,max:200},legendary:{min:150,max:400},mythic:{min:300,max:1e3},only:{min:666,max:666}};const Me={min:100,max:1e3};function Ae(e){if(e<1||e>7)throw new Error('层级必须在 1 到 7 之间');const{min:t,max:a}=Me,l=(a-t)/6;return Math.round(t+l*(e-1))}const Ue={class:'form-body'},Fe={class:'form-row'},Re={class:'form-row'},Oe={class:'level-buttons'},ze=['onClick'],je={class:'cost-info'},Ge={class:'cost-value'},Te={class:'form-row'},Je={class:'form-row'},Ke={class:'field-hint'},Xe={class:'form-row'},He={class:'form-row'},Qe={class:'form-row'},We={class:'form-row'},Ye={class:'form-row'},Ze={class:'form-row'},et={class:'form-row'},tt={class:'form-row'},at={class:'form-row'},lt={class:'form-row'},ot={key:0,class:'field-hint'},nt={class:'form-row'},ct={class:'radio-group'},st={class:'radio-label'},rt={class:'radio-label'},it={class:'form-row'},dt={class:'form-row'},mt={class:'form-row'},ut={class:'form-row'},pt={class:'form-actions'},vt=['disabled'],Vt=(0,c.defineComponent)({__name:'CustomDestinedOneForm',emits:['add'],setup(e,{emit:t}){const a=t,l=(0,c.ref)(!1),o={1:{name:'第一层级 (普通层级)',minGrade:1,maxGrade:4},2:{name:'第二层级 (中坚层级)',minGrade:5,maxGrade:8},3:{name:'第三层级 (精英层级)',minGrade:9,maxGrade:12},4:{name:'第四层级 (史诗层级)',minGrade:13,maxGrade:16},5:{name:'第五层级 (传说层级)',minGrade:17,maxGrade:20},6:{name:'第六层级 (神话层级)',minGrade:21,maxGrade:24},7:{name:'第七层级 (神祗)',minGrade:25,maxGrade:25}},n=(0,c.ref)(''),s=(0,c.ref)(1),r=(0,c.ref)(''),i=(0,c.ref)(1),d=(0,c.ref)(''),m=(0,c.ref)(''),u=(0,c.ref)(''),p=(0,c.ref)(''),v=(0,c.ref)(''),V=(0,c.ref)(''),f=(0,c.ref)(''),k=(0,c.ref)(''),N=(0,c.ref)(''),y=(0,c.ref)(''),E=(0,c.ref)('是'),g=(0,c.ref)(0),b=(0,c.ref)(''),h=(0,c.ref)(''),B=(0,c.ref)(''),C=(0,c.computed)(()=>Ae(s.value)),S=(0,c.computed)(()=>o[s.value]);(0,c.watch)(()=>s.value,e=>{const t=o[e];t&&(r.value=t.name,(i.value<t.minGrade||i.value>t.maxGrade)&&(i.value=t.minGrade))},{immediate:!0});const D=(0,c.computed)(()=>''!==n.value.trim()&&''!==d.value.trim()),w=()=>{n.value='',s.value=1,r.value='',i.value=1,d.value='',m.value='',u.value='',p.value='',v.value='',V.value='',f.value='',k.value='',N.value='',y.value='',E.value='是',g.value=0,b.value='',h.value='',B.value=''},x=e=>e.trim()?e.split(/[,，\n]/).map(e=>e.trim()).filter(e=>e.length>0):[],q=e=>{if(!e.trim())return[];return e.split(/\n\n+/).map(e=>e.trim()).filter(e=>e.length>0).map(e=>{const t=e.split('\n');return{name:t[0]||'未命名装备',description:t.slice(1).join('\n')||void 0}})},P=e=>{if(!e.trim())return{strength:0,dexterity:0,constitution:0,intelligence:0,mind:0};const t={strength:0,dexterity:0,constitution:0,intelligence:0,mind:0},a=e.split(/[,，]/).map(e=>e.trim());for(const e of a){const[a,l]=e.split(/[:：]/).map(e=>e.trim()),o=parseInt(l)||0;a.includes('力量')?t.strength=o:a.includes('敏捷')?t.dexterity=o:a.includes('体质')?t.constitution=o:a.includes('智力')?t.intelligence=o:a.includes('精神')&&(t.mind=o)}return t},I=e=>{if(!e.trim())return[];return e.split(/\n\n+/).map(e=>e.trim()).filter(e=>e.length>0).map(e=>{const t=e.split('\n');return{name:t[0]||'未命名技能',type:'主动',tag:'',rarity:'common',effect:t.slice(1).join('\n')||'无描述',description:''}})},L=()=>{if(!D.value)return;const e={name:n.value.trim(),cost:C.value,lifeLevel:r.value.trim()||'未知',level:i.value,race:d.value.trim(),identity:x(m.value),career:x(u.value),personality:p.value.trim()||'未知',like:v.value.trim()||'未知',app:V.value.trim()||'未知',cloth:f.value.trim()||'未知',equip:q(k.value),attributes:P(N.value),stairway:(t=y.value,t.trim()?{isOpen:!0,elements:{描述:t}}:{isOpen:!1}),isContract:E.value,affinity:g.value,comment:b.value.trim(),backgroundInfo:h.value.trim(),skills:I(B.value),isCustom:!0};var t;a('add',e),w(),l.value=!1};return(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{class:(0,c.normalizeClass)(['custom-destined-form',{expanded:l.value}])},[(0,c.createElementVNode)('div',{class:'form-header',onClick:t[0]||(t[0]=e=>l.value=!l.value)},[t[20]||(t[20]=(0,c.createElementVNode)('div',{class:'header-left'},[(0,c.createElementVNode)('h3',{class:'form-title'},'✨ 自定义命定之人'),(0,c.createElementVNode)('div',{class:'form-desc'},'创建您的专属命定之人')],-1)),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['toggle-icon',{rotated:l.value}])},'▼',2)]),(0,c.withDirectives)((0,c.createElementVNode)('div',Ue,[(0,c.createCommentVNode)(' 姓名 '),(0,c.createElementVNode)('div',Fe,[(0,c.createVNode)(De,{label:'姓名',required:''}),(0,c.createVNode)(he,{modelValue:n.value,'onUpdate:modelValue':t[1]||(t[1]=e=>n.value=e),placeholder:'请输入姓名',maxlength:50},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 层级 '),(0,c.createElementVNode)('div',Re,[(0,c.createVNode)(De,{label:'层级',required:''}),(0,c.createElementVNode)('div',Oe,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(7,e=>(0,c.createElementVNode)('button',{key:e,class:(0,c.normalizeClass)(['level-btn',{active:s.value===e}]),onClick:t=>s.value=e},' 第'+(0,c.toDisplayString)(['一','二','三','四','五','六','七'][e-1])+'层级 ',11,ze)),64))]),(0,c.createElementVNode)('div',je,[t[21]||(t[21]=(0,c.createElementVNode)('span',{class:'cost-label'},'消耗点数：',-1)),(0,c.createElementVNode)('span',Ge,(0,c.toDisplayString)(C.value),1)])]),(0,c.createCommentVNode)(' 生命层级（自动填充） '),(0,c.createElementVNode)('div',Te,[(0,c.createVNode)(De,{label:'生命层级（根据层级自动填充）'}),(0,c.createVNode)(he,{modelValue:r.value,'onUpdate:modelValue':t[2]||(t[2]=e=>r.value=e),readonly:'',disabled:''},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 等级 '),(0,c.createElementVNode)('div',Je,[(0,c.createVNode)(De,{label:`等级（${S.value.minGrade}-${S.value.maxGrade}级）`},null,8,['label']),(0,c.createVNode)(Ie,{modelValue:i.value,'onUpdate:modelValue':t[3]||(t[3]=e=>i.value=e),min:S.value.minGrade,max:S.value.maxGrade,placeholder:`${S.value.minGrade}-${S.value.maxGrade}`},null,8,['modelValue','min','max','placeholder']),(0,c.createElementVNode)('div',Ke,' 该层级的等级范围：'+(0,c.toDisplayString)(S.value.minGrade)+'-'+(0,c.toDisplayString)(S.value.maxGrade)+'级 ',1)]),(0,c.createCommentVNode)(' 种族 '),(0,c.createElementVNode)('div',Xe,[(0,c.createVNode)(De,{label:'种族',required:''}),(0,c.createVNode)(he,{modelValue:d.value,'onUpdate:modelValue':t[4]||(t[4]=e=>d.value=e),placeholder:'例如：人类、精灵等',maxlength:20},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 身份 '),(0,c.createElementVNode)('div',He,[(0,c.createVNode)(De,{label:'身份（多个用逗号或换行分隔）'}),(0,c.createVNode)(le,{modelValue:m.value,'onUpdate:modelValue':t[5]||(t[5]=e=>m.value=e),placeholder:'例如：\n吟游诗人\n异世界的猩红女巫',rows:2},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 职业 '),(0,c.createElementVNode)('div',Qe,[(0,c.createVNode)(De,{label:'职业（多个用逗号或换行分隔）'}),(0,c.createVNode)(le,{modelValue:u.value,'onUpdate:modelValue':t[6]||(t[6]=e=>u.value=e),placeholder:'例如：\n调律者\n指挥家',rows:2},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 性格 '),(0,c.createElementVNode)('div',We,[(0,c.createVNode)(De,{label:'性格'}),(0,c.createVNode)(he,{modelValue:p.value,'onUpdate:modelValue':t[7]||(t[7]=e=>p.value=e),placeholder:'描述角色的性格特征...'},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 喜爱 '),(0,c.createElementVNode)('div',Ye,[(0,c.createVNode)(De,{label:'喜爱'}),(0,c.createVNode)(le,{modelValue:v.value,'onUpdate:modelValue':t[8]||(t[8]=e=>v.value=e),placeholder:'描述喜好和习惯...',rows:2},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 外貌特质 '),(0,c.createElementVNode)('div',Ze,[(0,c.createVNode)(De,{label:'外貌特质'}),(0,c.createVNode)(le,{modelValue:V.value,'onUpdate:modelValue':t[9]||(t[9]=e=>V.value=e),placeholder:'描述外貌特征...',rows:2},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 衣物装饰 '),(0,c.createElementVNode)('div',et,[(0,c.createVNode)(De,{label:'衣物装饰'}),(0,c.createVNode)(le,{modelValue:f.value,'onUpdate:modelValue':t[10]||(t[10]=e=>f.value=e),placeholder:'描述穿着打扮...',rows:2},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 装备 '),(0,c.createElementVNode)('div',tt,[(0,c.createVNode)(De,{label:'装备（每个装备用空行分隔，第一行为装备名）'}),(0,c.createVNode)(le,{modelValue:k.value,'onUpdate:modelValue':t[11]||(t[11]=e=>k.value=e),placeholder:'装备名称\n装备效果和描述\n\n另一个装备名称\n装备效果和描述',rows:4},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 属性 '),(0,c.createElementVNode)('div',at,[(0,c.createVNode)(De,{label:'属性（格式：力量:6,敏捷:6,体质:6,智力:11,精神:12）'}),(0,c.createVNode)(he,{modelValue:N.value,'onUpdate:modelValue':t[12]||(t[12]=e=>N.value=e),placeholder:'力量:6,敏捷:6,体质:6,智力:11,精神:12'},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 登神长阶 '),(0,c.createElementVNode)('div',lt,[(0,c.createVNode)(De,{label:'登神长阶（需等级 ≥ 13）'}),(0,c.createVNode)(le,{modelValue:y.value,'onUpdate:modelValue':t[13]||(t[13]=e=>y.value=e),disabled:i.value<13,placeholder:i.value>=13?'描述登神长阶信息...':'等级需达到 13 级或以上才可填写',rows:2},null,8,['modelValue','disabled','placeholder']),i.value<13?((0,c.openBlock)(),(0,c.createElementBlock)('div',ot,' ⚠️ 当前等级 '+(0,c.toDisplayString)(i.value)+' 级，需要达到 13 级才能开启登神长阶 ',1)):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createCommentVNode)(' 是否缔结契约 '),(0,c.createElementVNode)('div',nt,[(0,c.createVNode)(De,{label:'是否缔结契约'}),(0,c.createElementVNode)('div',ct,[(0,c.createElementVNode)('label',st,[(0,c.withDirectives)((0,c.createElementVNode)('input',{'onUpdate:modelValue':t[14]||(t[14]=e=>E.value=e),type:'radio',value:'是'},null,512),[[c.vModelRadio,E.value]]),t[22]||(t[22]=(0,c.createTextVNode)(' 是 ',-1))]),(0,c.createElementVNode)('label',rt,[(0,c.withDirectives)((0,c.createElementVNode)('input',{'onUpdate:modelValue':t[15]||(t[15]=e=>E.value=e),type:'radio',value:'否'},null,512),[[c.vModelRadio,E.value]]),t[23]||(t[23]=(0,c.createTextVNode)(' 否 ',-1))])])]),(0,c.createCommentVNode)(' 好感度 '),(0,c.createElementVNode)('div',it,[(0,c.createVNode)(De,{label:'好感度 (-100~100)'}),(0,c.createVNode)(Ie,{modelValue:g.value,'onUpdate:modelValue':t[16]||(t[16]=e=>g.value=e),min:-100,max:100,placeholder:'49'},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 评价 '),(0,c.createElementVNode)('div',dt,[(0,c.createVNode)(De,{label:'评价'}),(0,c.createVNode)(le,{modelValue:b.value,'onUpdate:modelValue':t[17]||(t[17]=e=>b.value=e),placeholder:'该角色对你的评价...',rows:2},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 背景故事 '),(0,c.createElementVNode)('div',mt,[(0,c.createVNode)(De,{label:'背景故事'}),(0,c.createVNode)(le,{modelValue:h.value,'onUpdate:modelValue':t[18]||(t[18]=e=>h.value=e),placeholder:'描述背景故事...',rows:3},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 技能 '),(0,c.createElementVNode)('div',ut,[(0,c.createVNode)(De,{label:'技能（每个技能用空行分隔，第一行为技能名）'}),(0,c.createVNode)(le,{modelValue:B.value,'onUpdate:modelValue':t[19]||(t[19]=e=>B.value=e),placeholder:'技能名称\n技能描述\n\n另一个技能名称\n技能描述',rows:4},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 操作按钮 '),(0,c.createElementVNode)('div',pt,[(0,c.createElementVNode)('button',{class:'btn-reset',onClick:w},'清空'),(0,c.createElementVNode)('button',{class:'btn-submit',disabled:!D.value,onClick:L},'添加到已选项目',8,vt)])],512),[[c.vShow,l.value]])],2))}}),ft=(0,r.A)(Vt,[['__scopeId','data-v-fdfdc7ae']]),kt=ft,Nt={class:'destined-one-list'},yt={key:0,class:'empty-message'},Et=['onClick'],gt={class:'card-header'},bt={class:'item-name'},ht={class:'header-actions'},Bt={class:'item-cost'},Ct=['onClick'],St={class:'card-summary'},Dt={class:'summary-row'},wt={class:'value'},xt={class:'summary-row'},_t={class:'value'},qt={class:'summary-row'},Pt={class:'value'},$t={class:'summary-row'},It={class:'value'},Lt={key:0,class:'card-body'},Mt={class:'info-section'},At={class:'info-row'},Ut={class:'value'},Ft={class:'info-row'},Rt={class:'value'},Ot={class:'info-row'},zt={class:'value'},jt={class:'info-row'},Gt={class:'value'},Tt={class:'info-section'},Jt={class:'info-block'},Kt={class:'block-content'},Xt={class:'info-block'},Ht={class:'block-content'},Qt={class:'info-block'},Wt={class:'block-content'},Yt={class:'info-section'},Zt={class:'attributes'},ea={class:'attr-item'},ta={class:'attr-value'},aa={class:'attr-item'},la={class:'attr-value'},oa={class:'attr-item'},na={class:'attr-value'},ca={class:'attr-item'},sa={class:'attr-value'},ra={class:'attr-item'},ia={class:'attr-value'},da={key:0,class:'info-section'},ma={class:'equipment-list'},ua={class:'equip-name'},pa={key:0,class:'equip-info'},va={key:1,class:'equip-info'},Va={key:2,class:'equip-info'},fa={key:3,class:'equip-desc'},ka={key:1,class:'info-section'},Na={class:'skills-list'},ya={class:'skill-header'},Ea={class:'skill-name'},ga={class:'skill-type'},ba={key:0,class:'skill-tag'},ha={key:1,class:'skill-consume'},Ba={class:'skill-effect'},Ca={class:'skill-desc'},Sa={key:2,class:'info-section'},Da={class:'stairway-content'},wa={key:0,class:'stairway-section'},xa={key:1,class:'stairway-section'},_a={key:2,class:'stairway-section'},qa={key:3,class:'stairway-item'},Pa={key:4,class:'stairway-section'},$a={class:'stairway-item'},Ia={class:'stairway-desc'},La={key:3,class:'info-section'},Ma={class:'info-block'},Aa={class:'block-content'},Ua={key:4,class:'comment'},Fa=(0,c.defineComponent)({__name:'DestinedOneList',props:{items:{},selectedItems:{},availablePoints:{}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.ref)(new Set),n=e=>o.value.has(e),s=e=>a.selectedItems.some(t=>t.name===e.name),r=e=>a.availablePoints>=e.cost;return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Nt,[0===e.items.length?((0,c.openBlock)(),(0,c.createElementBlock)('div',yt,'该层级暂无命定之人')):(0,c.createCommentVNode)('v-if',!0),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.items,e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:(0,c.normalizeClass)(['destined-one-card',{selected:s(e),disabled:!s(e)&&!r(e),expanded:n(e.name)}]),onClick:t=>(e=>{s(e)?l('deselect',e):r(e)&&l('select',e)})(e)},[(0,c.createElementVNode)('div',gt,[(0,c.createElementVNode)('h3',bt,(0,c.toDisplayString)(e.name),1),(0,c.createElementVNode)('div',ht,[(0,c.createElementVNode)('div',Bt,(0,c.toDisplayString)(e.cost)+' 点',1),(0,c.createElementVNode)('button',{class:'expand-btn',onClick:t=>{return a=e.name,t.stopPropagation(),void(o.value.has(a)?o.value.delete(a):o.value.add(a));var a}},(0,c.toDisplayString)(n(e.name)?'收起':'展开'),9,Ct)])]),(0,c.createCommentVNode)(' 基本信息（始终显示） '),(0,c.createElementVNode)('div',St,[(0,c.createElementVNode)('div',Dt,[a[0]||(a[0]=(0,c.createElementVNode)('span',{class:'label'},'层级：',-1)),(0,c.createElementVNode)('span',wt,(0,c.toDisplayString)(e.lifeLevel),1)]),(0,c.createElementVNode)('div',xt,[a[1]||(a[1]=(0,c.createElementVNode)('span',{class:'label'},'种族：',-1)),(0,c.createElementVNode)('span',_t,(0,c.toDisplayString)(e.race),1)]),(0,c.createElementVNode)('div',qt,[a[2]||(a[2]=(0,c.createElementVNode)('span',{class:'label'},'等级：',-1)),(0,c.createElementVNode)('span',Pt,'Lv.'+(0,c.toDisplayString)(e.level),1)]),(0,c.createElementVNode)('div',$t,[a[3]||(a[3]=(0,c.createElementVNode)('span',{class:'label'},'好感度：',-1)),(0,c.createElementVNode)('span',It,(0,c.toDisplayString)(e.affinity),1)])]),(0,c.createCommentVNode)(' 详细信息（可折叠） '),n(e.name)?((0,c.openBlock)(),(0,c.createElementBlock)('div',Lt,[(0,c.createElementVNode)('div',Mt,[(0,c.createElementVNode)('div',At,[a[4]||(a[4]=(0,c.createElementVNode)('span',{class:'label'},'身份：',-1)),(0,c.createElementVNode)('span',Ut,(0,c.toDisplayString)(e.identity.join('、')),1)]),(0,c.createElementVNode)('div',Ft,[a[5]||(a[5]=(0,c.createElementVNode)('span',{class:'label'},'职业：',-1)),(0,c.createElementVNode)('span',Rt,(0,c.toDisplayString)(e.career.join('、')),1)]),(0,c.createElementVNode)('div',Ot,[a[6]||(a[6]=(0,c.createElementVNode)('span',{class:'label'},'性格：',-1)),(0,c.createElementVNode)('span',zt,(0,c.toDisplayString)(e.personality),1)]),(0,c.createElementVNode)('div',jt,[a[7]||(a[7]=(0,c.createElementVNode)('span',{class:'label'},'是否缔结契约：',-1)),(0,c.createElementVNode)('span',Gt,(0,c.toDisplayString)(e.isContract),1)])]),(0,c.createElementVNode)('div',Tt,[(0,c.createElementVNode)('div',Jt,[a[8]||(a[8]=(0,c.createElementVNode)('div',{class:'block-title'},'喜好',-1)),(0,c.createElementVNode)('div',Kt,(0,c.toDisplayString)(e.like),1)]),(0,c.createElementVNode)('div',Xt,[a[9]||(a[9]=(0,c.createElementVNode)('div',{class:'block-title'},'外貌',-1)),(0,c.createElementVNode)('div',Ht,(0,c.toDisplayString)(e.app),1)]),(0,c.createElementVNode)('div',Qt,[a[10]||(a[10]=(0,c.createElementVNode)('div',{class:'block-title'},'服饰',-1)),(0,c.createElementVNode)('div',Wt,(0,c.toDisplayString)(e.cloth),1)])]),(0,c.createElementVNode)('div',Yt,[a[16]||(a[16]=(0,c.createElementVNode)('div',{class:'block-title'},'属性',-1)),(0,c.createElementVNode)('div',Zt,[(0,c.createElementVNode)('div',ea,[a[11]||(a[11]=(0,c.createElementVNode)('span',{class:'attr-label'},'力量：',-1)),(0,c.createElementVNode)('span',ta,(0,c.toDisplayString)(e.attributes.strength),1)]),(0,c.createElementVNode)('div',aa,[a[12]||(a[12]=(0,c.createElementVNode)('span',{class:'attr-label'},'敏捷：',-1)),(0,c.createElementVNode)('span',la,(0,c.toDisplayString)(e.attributes.dexterity),1)]),(0,c.createElementVNode)('div',oa,[a[13]||(a[13]=(0,c.createElementVNode)('span',{class:'attr-label'},'体质：',-1)),(0,c.createElementVNode)('span',na,(0,c.toDisplayString)(e.attributes.constitution),1)]),(0,c.createElementVNode)('div',ca,[a[14]||(a[14]=(0,c.createElementVNode)('span',{class:'attr-label'},'智力：',-1)),(0,c.createElementVNode)('span',sa,(0,c.toDisplayString)(e.attributes.intelligence),1)]),(0,c.createElementVNode)('div',ra,[a[15]||(a[15]=(0,c.createElementVNode)('span',{class:'attr-label'},'精神：',-1)),(0,c.createElementVNode)('span',ia,(0,c.toDisplayString)(e.attributes.mind),1)])])]),e.equip&&e.equip.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',da,[a[17]||(a[17]=(0,c.createElementVNode)('div',{class:'block-title'},'装备',-1)),(0,c.createElementVNode)('div',ma,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.equip,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:'equipment-item'},[(0,c.createElementVNode)('div',ua,(0,c.toDisplayString)(e.name),1),e.type?((0,c.openBlock)(),(0,c.createElementBlock)('div',pa,'类型：'+(0,c.toDisplayString)(e.type),1)):(0,c.createCommentVNode)('v-if',!0),e.tag?((0,c.openBlock)(),(0,c.createElementBlock)('div',va,'标签：'+(0,c.toDisplayString)(e.tag),1)):(0,c.createCommentVNode)('v-if',!0),e.effect?((0,c.openBlock)(),(0,c.createElementBlock)('div',Va,'效果：'+(0,c.toDisplayString)(e.effect),1)):(0,c.createCommentVNode)('v-if',!0),e.description?((0,c.openBlock)(),(0,c.createElementBlock)('div',fa,(0,c.toDisplayString)(e.description),1)):(0,c.createCommentVNode)('v-if',!0)]))),128))])])):(0,c.createCommentVNode)('v-if',!0),e.skills&&e.skills.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',ka,[a[18]||(a[18]=(0,c.createElementVNode)('div',{class:'block-title'},'技能',-1)),(0,c.createElementVNode)('div',Na,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.skills,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:'skill-item'},[(0,c.createElementVNode)('div',ya,[(0,c.createElementVNode)('span',Ea,(0,c.toDisplayString)(e.name),1),(0,c.createElementVNode)('span',ga,(0,c.toDisplayString)(e.type),1)]),e.tag?((0,c.openBlock)(),(0,c.createElementBlock)('div',ba,(0,c.toDisplayString)(e.tag),1)):(0,c.createCommentVNode)('v-if',!0),e.consume?((0,c.openBlock)(),(0,c.createElementBlock)('div',ha,'消耗：'+(0,c.toDisplayString)(e.consume),1)):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',Ba,(0,c.toDisplayString)(e.effect),1),(0,c.createElementVNode)('div',Ca,(0,c.toDisplayString)(e.description),1)]))),128))])])):(0,c.createCommentVNode)('v-if',!0),e.stairway.isOpen?((0,c.openBlock)(),(0,c.createElementBlock)('div',Sa,[a[23]||(a[23]=(0,c.createElementVNode)('div',{class:'block-title'},'登神长阶',-1)),(0,c.createElementVNode)('div',Da,[e.stairway.elements?((0,c.openBlock)(),(0,c.createElementBlock)('div',wa,[a[19]||(a[19]=(0,c.createElementVNode)('div',{class:'stairway-label'},'元素：',-1)),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.stairway.elements,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:'stairway-item'},(0,c.toDisplayString)(t)+'：'+(0,c.toDisplayString)(e),1))),128))])):(0,c.createCommentVNode)('v-if',!0),e.stairway.powers?((0,c.openBlock)(),(0,c.createElementBlock)('div',xa,[a[20]||(a[20]=(0,c.createElementVNode)('div',{class:'stairway-label'},'权能：',-1)),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.stairway.powers,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:'stairway-item'},(0,c.toDisplayString)(t)+'：'+(0,c.toDisplayString)(e),1))),128))])):(0,c.createCommentVNode)('v-if',!0),e.stairway.laws?((0,c.openBlock)(),(0,c.createElementBlock)('div',_a,[a[21]||(a[21]=(0,c.createElementVNode)('div',{class:'stairway-label'},'法则：',-1)),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.stairway.laws,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:t,class:'stairway-item'},(0,c.toDisplayString)(t)+'：'+(0,c.toDisplayString)(e),1))),128))])):(0,c.createCommentVNode)('v-if',!0),e.stairway.godlyRank?((0,c.openBlock)(),(0,c.createElementBlock)('div',qa,'神位：'+(0,c.toDisplayString)(e.stairway.godlyRank),1)):(0,c.createCommentVNode)('v-if',!0),e.stairway.godKingdom?((0,c.openBlock)(),(0,c.createElementBlock)('div',Pa,[a[22]||(a[22]=(0,c.createElementVNode)('div',{class:'stairway-label'},'神国：',-1)),(0,c.createElementVNode)('div',$a,(0,c.toDisplayString)(e.stairway.godKingdom.name),1),(0,c.createElementVNode)('div',Ia,(0,c.toDisplayString)(e.stairway.godKingdom.description),1)])):(0,c.createCommentVNode)('v-if',!0)])])):(0,c.createCommentVNode)('v-if',!0),e.backgroundInfo?((0,c.openBlock)(),(0,c.createElementBlock)('div',La,[(0,c.createElementVNode)('div',Ma,[a[24]||(a[24]=(0,c.createElementVNode)('div',{class:'block-title'},'背景故事',-1)),(0,c.createElementVNode)('div',Aa,(0,c.toDisplayString)(e.backgroundInfo),1)])])):(0,c.createCommentVNode)('v-if',!0),e.comment?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ua,'"'+(0,c.toDisplayString)(e.comment)+'"',1)):(0,c.createCommentVNode)('v-if',!0)])):(0,c.createCommentVNode)('v-if',!0)],10,Et))),128))]))}}),Ra=(0,r.A)(Fa,[['__scopeId','data-v-4a1f1a86']]),Oa=['value','disabled'],za={class:'radio-label'},ja=(Boolean,{class:'form-select-wrapper'}),Ga=['disabled'],Ta={key:0,value:'',disabled:''},Ja=['value','disabled'],Ka=(0,c.defineComponent)({__name:'FormSelect',props:{modelValue:{},options:{},placeholder:{default:'请选择'},disabled:{type:Boolean,default:!1}},emits:['update:modelValue','change'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.computed)({get:()=>a.modelValue,set:e=>{l('update:modelValue',e),l('change',e)}}),n=(0,c.computed)(()=>a.options.map(e=>'string'==typeof e?{label:e,value:e,disabled:!1}:e));return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',ja,[(0,c.withDirectives)((0,c.createElementVNode)('select',{'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),disabled:e.disabled,class:(0,c.normalizeClass)(['form-select',{'is-disabled':e.disabled}])},[e.placeholder?((0,c.openBlock)(),(0,c.createElementBlock)('option',Ta,(0,c.toDisplayString)(e.placeholder),1)):(0,c.createCommentVNode)('v-if',!0),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(n.value,e=>((0,c.openBlock)(),(0,c.createElementBlock)('option',{key:e.value,value:e.value,disabled:e.disabled},(0,c.toDisplayString)(e.label),9,Ja))),128))],10,Ga),[[c.vModelSelect,o.value]]),a[1]||(a[1]=(0,c.createElementVNode)('span',{class:'select-arrow'},'▼',-1))]))}}),Xa=(0,r.A)(Ka,[['__scopeId','data-v-6f040dd7']]),Ha={class:'form-stepper'},Qa={key:0,class:'stepper-label'},Wa={class:'stepper-controls'},Ya=['disabled'],Za={class:'stepper-value'},el=['disabled'],tl=(0,c.defineComponent)({__name:'FormStepper',props:{modelValue:{},min:{default:0},max:{default:100},step:{default:1},disabled:{type:Boolean,default:!1},disableIncrement:{type:Boolean,default:!1},label:{}},emits:['update:modelValue','increment','decrement'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.computed)(()=>!a.disabled&&a.modelValue>a.min),n=(0,c.computed)(()=>!a.disabled&&!a.disableIncrement&&a.modelValue<a.max),s=()=>{if(n.value){const e=Math.min(a.max,a.modelValue+a.step);l('update:modelValue',e),l('increment')}},r=()=>{if(o.value){const e=Math.max(a.min,a.modelValue-a.step);l('update:modelValue',e),l('decrement')}};return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Ha,[e.label?((0,c.openBlock)(),(0,c.createElementBlock)('span',Qa,(0,c.toDisplayString)(e.label),1)):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',Wa,[(0,c.createElementVNode)('button',{type:'button',class:'stepper-btn decrement',disabled:!o.value,onClick:r},'−',8,Ya),(0,c.createElementVNode)('span',Za,(0,c.toDisplayString)(e.modelValue),1),(0,c.createElementVNode)('button',{type:'button',class:'stepper-btn increment',disabled:!n.value,onClick:s},'+',8,el)])]))}}),al=(0,r.A)(tl,[['__scopeId','data-v-30202c02']]),ll={class:'destiny-exchange'},ol={class:'exchange-body'},nl={class:'current-display'},cl={class:'value'},sl={class:'exchange-controls'},rl=['disabled'],il=['disabled'],dl=(0,c.defineComponent)({__name:'DestinyPointsExchange',props:{availablePoints:{},currentDestinyPoints:{}},emits:['exchange'],setup(e,{emit:t}){const a=e,l=t,o=(0,c.ref)(0),n=(0,c.computed)(()=>10*o.value),s=(0,c.computed)(()=>a.availablePoints),r=()=>{o.value>0&&o.value<=s.value&&(l('exchange',o.value),o.value=0)};return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',ll,[a[3]||(a[3]=(0,c.createElementVNode)('div',{class:'exchange-header'},[(0,c.createElementVNode)('span',{class:'exchange-icon'},'💫'),(0,c.createElementVNode)('span',{class:'exchange-title'},'命运点数'),(0,c.createElementVNode)('span',{class:'exchange-rate'},'(1转生点 = 10命运点)')],-1)),(0,c.createElementVNode)('div',ol,[(0,c.createElementVNode)('div',nl,[a[2]||(a[2]=(0,c.createElementVNode)('span',{class:'label'},'剩余：',-1)),(0,c.createElementVNode)('span',cl,(0,c.toDisplayString)(e.currentDestinyPoints),1)]),(0,c.createElementVNode)('div',sl,[(0,c.createVNode)((0,c.unref)(Ie),{modelValue:o.value,'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),min:0,max:s.value,placeholder:'0',class:'exchange-input'},null,8,['modelValue','max']),(0,c.createElementVNode)('button',{class:'exchange-button',disabled:o.value<=0||o.value>s.value,onClick:r},' 兑换 '+(0,c.toDisplayString)(n.value)+' 命运点 ',9,rl),(0,c.createElementVNode)('button',{class:'exchange-all-button',disabled:s.value<=0,title:'将所有剩余转生点数兑换为命运点数',onClick:a[1]||(a[1]=e=>l('exchange',s.value))},' 全部兑换 ',8,il)])])]))}}),ml=(0,r.A)(dl,[['__scopeId','data-v-a46a61a0']]),ul={class:'level-tabs'},pl=['onClick'],vl=(0,c.defineComponent)({__name:'LevelTabs',props:{modelValue:{},levels:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=e,l=t;return(t,o)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',ul,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(a.levels,t=>((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:t,class:(0,c.normalizeClass)(['level-tab',{active:e.modelValue===t}]),onClick:e=>(e=>{l('update:modelValue',e)})(t)},(0,c.toDisplayString)(t),11,pl))),128))]))}}),Vl=(0,r.A)(vl,[['__scopeId','data-v-18f949f6']]),fl={class:'background-page'},kl={class:'destined-ones-section'},Nl={class:'destined-ones-content'},yl={class:'background-section'},El={class:'background-container'},gl={class:'background-sidebar'},bl={class:'background-content'},hl={class:'summary-section'},Bl={class:'summary-card'},Cl={class:'summary-header'},Sl={class:'summary-title-row'},Dl={class:'points-info'},wl={class:'points-total'},xl={class:'summary-content'},_l={key:0,class:'summary-group'},ql={class:'summary-label'},Pl={class:'summary-items'},$l={class:'item-name'},Il={class:'item-cost'},Ll={key:1,class:'summary-group'},Ml={class:'summary-items'},Al={class:'summary-item full'},Ul={class:'item-name'},Fl={key:2,class:'empty-state'},Rl=(0,c.defineComponent)({__name:'index',setup(e){const t=k(),a=(0,c.inject)('randomGenerateTrigger',(0,c.ref)(0)),l=(0,c.inject)('resetPageTrigger',(0,c.ref)(0)),o=(0,c.ref)(''),n=(0,c.ref)(''),s=(0,c.ref)(''),r=(0,c.computed)(()=>Object.keys(H())),i=(0,c.computed)(()=>Object.keys(J())),d=(0,c.computed)(()=>o.value&&H()[o.value]||[]),m=(0,c.computed)(()=>n.value&&J()[n.value]||[]),u=(0,c.computed)(()=>t.character.reincarnationPoints-t.consumedPoints),p=e=>{t.addDestinedOne(e)},v=e=>{t.removeDestinedOne(e)},V=e=>{t.addDestinedOne(e)},f=e=>{t.setBackground(e)},N=e=>{if(s.value=e,'【自定义开局】'===t.selectedBackground?.name){const a={...t.selectedBackground,description:e||'自由发挥你的想象力，编写你自己的人物初始背景。'};t.setBackground(a)}},y=e=>{t.exchangeDestinyPoints(e)},E=()=>{t.selectedDestinedOnes.splice(0),t.setBackground(null),s.value=''};return(0,c.watch)(a,()=>{(()=>{if(d.value.length>0){const e=Math.floor(Math.random()*d.value.length),a=d.value[e];u.value>=a.cost&&(t.selectedDestinedOnes.splice(0),t.addDestinedOne(a))}if(m.value.length>0){const e=m.value.filter(e=>'【自定义开局】'!==e.name);if(e.length>0){const a=e[Math.floor(Math.random()*e.length)];t.setBackground(a)}}})()}),(0,c.watch)(l,()=>{t.selectedDestinedOnes.splice(0),t.setBackground(null),s.value='',t.setDestinyPoints(0),t.resetExchangedPoints(),r.value.length>0&&(o.value=r.value[0]),i.value.length>0&&(n.value=i.value[0])}),(0,c.onMounted)(()=>{r.value.length>0&&(o.value=r.value[0]),i.value.length>0&&(n.value=i.value[0])}),(e,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',fl,[(0,c.createCommentVNode)(' 命定之人区域 '),(0,c.createElementVNode)('section',kl,[a[2]||(a[2]=(0,c.createElementVNode)('h2',{class:'section-title'},'选择命定之人',-1)),(0,c.createCommentVNode)(' 层级导航 '),(0,c.createVNode)(Vl,{modelValue:o.value,'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e),levels:r.value},null,8,['modelValue','levels']),(0,c.createCommentVNode)(' 命定之人列表 '),(0,c.createElementVNode)('div',Nl,[(0,c.createVNode)(Ra,{items:d.value,'selected-items':(0,c.unref)(t).selectedDestinedOnes,'available-points':u.value,onSelect:p,onDeselect:v},null,8,['items','selected-items','available-points'])])]),(0,c.createCommentVNode)(' 自定义命定之人表单 '),(0,c.createVNode)(kt,{onAdd:V}),(0,c.createCommentVNode)(' 命运点数兑换 '),(0,c.createVNode)(ml,{'available-points':u.value,'current-destiny-points':(0,c.unref)(t).character.destinyPoints,onExchange:y},null,8,['available-points','current-destiny-points']),(0,c.createCommentVNode)(' 初始剧情区域 '),(0,c.createElementVNode)('section',yl,[a[3]||(a[3]=(0,c.createElementVNode)('h2',{class:'section-title'},'选择初始开局剧情',-1)),(0,c.createElementVNode)('div',El,[(0,c.createCommentVNode)(' 左侧：分类导航 '),(0,c.createElementVNode)('div',gl,[(0,c.createVNode)(Z,{modelValue:n.value,'onUpdate:modelValue':a[1]||(a[1]=e=>n.value=e),categories:i.value},null,8,['modelValue','categories'])]),(0,c.createCommentVNode)(' 右侧：背景列表 '),(0,c.createElementVNode)('div',bl,[(0,c.createVNode)(ye,{items:m.value,'selected-item':(0,c.unref)(t).selectedBackground,'character-race':(0,c.unref)(t).character.race,'character-location':(0,c.unref)(t).character.startLocation,onSelect:f,'onUpdate:customDescription':N},null,8,['items','selected-item','character-race','character-location'])])])]),(0,c.createCommentVNode)(' 已选信息面板 '),(0,c.createElementVNode)('section',hl,[(0,c.createElementVNode)('div',Bl,[(0,c.createElementVNode)('div',Cl,[(0,c.createElementVNode)('div',Sl,[a[5]||(a[5]=(0,c.createElementVNode)('h3',{class:'summary-title'},'已选择',-1)),(0,c.createElementVNode)('div',Dl,[(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['points-value',{insufficient:u.value<0}])},(0,c.toDisplayString)(u.value),3),a[4]||(a[4]=(0,c.createElementVNode)('span',{class:'points-separator'},'/',-1)),(0,c.createElementVNode)('span',wl,(0,c.toDisplayString)((0,c.unref)(t).character.reincarnationPoints),1)])]),(0,c.unref)(t).selectedDestinedOnes.length>0||(0,c.unref)(t).selectedBackground?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:0,class:'clear-btn',onClick:E},' 清空选择 ')):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createElementVNode)('div',xl,[(0,c.createCommentVNode)(' 命定之人摘要 '),(0,c.unref)(t).selectedDestinedOnes.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',_l,[(0,c.createElementVNode)('div',ql,'命定之人 ('+(0,c.toDisplayString)((0,c.unref)(t).selectedDestinedOnes.length)+')',1),(0,c.createElementVNode)('div',Pl,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(t).selectedDestinedOnes,e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'summary-item'},[(0,c.createElementVNode)('span',$l,(0,c.toDisplayString)(e.name),1),(0,c.createElementVNode)('span',Il,(0,c.toDisplayString)(e.cost)+' 点',1)]))),128))])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createCommentVNode)(' 背景摘要 '),(0,c.unref)(t).selectedBackground?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ll,[a[6]||(a[6]=(0,c.createElementVNode)('div',{class:'summary-label'},'初始开局剧情',-1)),(0,c.createElementVNode)('div',Ml,[(0,c.createElementVNode)('div',Al,[(0,c.createElementVNode)('span',Ul,(0,c.toDisplayString)((0,c.unref)(t).selectedBackground.name),1)])])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createCommentVNode)(' 空状态提示 '),0!==(0,c.unref)(t).selectedDestinedOnes.length||(0,c.unref)(t).selectedBackground?(0,c.createCommentVNode)('v-if',!0):((0,c.openBlock)(),(0,c.createElementBlock)('div',Fl,' 尚未选择任何内容 '))])])])]))}}),Ol=(0,r.A)(Rl,[['__scopeId','data-v-259b064e']]),zl={class:'basic-info'},jl={class:'form-container'},Gl={class:'form-row'},Tl={class:'form-field'},Jl={class:'form-field'},Kl={class:'form-row'},Xl={class:'form-field'},Hl={class:'form-field'},Ql={class:'level-input-group'},Wl={class:'level-indicator'},Yl={class:'form-row'},Zl={class:'form-field'},eo={class:'form-field'},to={class:'form-row full-width'},ao={class:'form-field'},lo={class:'attributes-panel'},oo={class:'panel-header'},no={class:'ap-info'},co={class:'panel-content'},so={class:'attributes-grid'},ro={class:'attribute-display'},io={class:'final-value'},mo={key:0,class:'status-message error'},uo={key:1,class:'status-message success'},po={key:2,class:'status-message info'},vo=(0,c.defineComponent)({__name:'index',setup(e){const t=k(),{character:l}=a(t),{addAttributePoint:o,removeAttributePoint:n}=t,s=(0,c.inject)('randomGenerateTrigger'),r=(0,c.inject)('resetPageTrigger'),i=(0,c.computed)(()=>Object.keys(u)),d=(0,c.computed)(()=>Object.keys(p)),N=(0,c.computed)(()=>f(l.value.level)),y=(0,c.computed)(()=>l.value.reincarnationPoints-t.consumedPoints),E=(0,c.computed)(()=>{const e=(e=>e>=1&&e<=4?'第一层级':e>=5&&e<=8?'第二层级':e>=9&&e<=12?'第三层级':e>=13&&e<=16?'第四层级':e>=17&&e<=20?'第五层级':e>=21&&e<=24?'第六层级':e>=25?'第七层级':'未知层级')(l.value.level);return e});(0,c.watch)(()=>s?.value,()=>{s&&s.value>0&&g()}),(0,c.watch)(()=>r?.value,()=>{r&&r.value>0&&b()});const g=()=>{const e=m.filter(e=>'自定义'!==e);l.value.gender=e[Math.floor(Math.random()*e.length)],l.value.age=Math.floor(83*Math.random())+18;const t=i.value.filter(e=>'自定义'!==e);l.value.race=t[Math.floor(Math.random()*t.length)];const a=d.value.filter(e=>'自定义'!==e);l.value.identity=a[Math.floor(Math.random()*a.length)],l.value.level=Math.floor(10*Math.random())+1;const o=v.filter(e=>'自定义'!==e);l.value.startLocation=o[Math.floor(Math.random()*o.length)],console.log('基本信息已随机生成')},b=()=>{l.value.name='',l.value.gender='男',l.value.customGender='',l.value.age=18,l.value.race='人类',l.value.customRace='',l.value.identity='自由平民',l.value.customIdentity='',l.value.level=1,l.value.startLocation='大陆东南部区域-索伦蒂斯王国',l.value.customStartLocation='',console.log('基本信息已重置')};return(e,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',zl,[(0,c.createElementVNode)('div',jl,[(0,c.createCommentVNode)(' 第一行：姓名和性别 '),(0,c.createElementVNode)('div',Gl,[(0,c.createElementVNode)('div',Tl,[(0,c.createVNode)((0,c.unref)(De),{label:'姓名',required:''}),(0,c.createVNode)((0,c.unref)(he),{modelValue:(0,c.unref)(l).name,'onUpdate:modelValue':a[0]||(a[0]=e=>(0,c.unref)(l).name=e),placeholder:'请输入角色姓名'},null,8,['modelValue'])]),(0,c.createElementVNode)('div',Jl,[(0,c.createVNode)((0,c.unref)(De),{label:'性别',required:''}),(0,c.createVNode)((0,c.unref)(Xa),{modelValue:(0,c.unref)(l).gender,'onUpdate:modelValue':a[1]||(a[1]=e=>(0,c.unref)(l).gender=e),options:(0,c.unref)(m)},null,8,['modelValue','options']),'自定义'===(0,c.unref)(l).gender?((0,c.openBlock)(),(0,c.createBlock)((0,c.unref)(le),{key:0,modelValue:(0,c.unref)(l).customGender,'onUpdate:modelValue':a[2]||(a[2]=e=>(0,c.unref)(l).customGender=e),rows:2,placeholder:'请输入自定义性别'},null,8,['modelValue'])):(0,c.createCommentVNode)('v-if',!0)])]),(0,c.createCommentVNode)(' 第二行：年龄和等级 '),(0,c.createElementVNode)('div',Kl,[(0,c.createElementVNode)('div',Xl,[(0,c.createVNode)((0,c.unref)(De),{label:'年龄'}),(0,c.createVNode)((0,c.unref)(Ie),{modelValue:(0,c.unref)(l).age,'onUpdate:modelValue':a[3]||(a[3]=e=>(0,c.unref)(l).age=e),min:1,max:1e4},null,8,['modelValue'])]),(0,c.createElementVNode)('div',Hl,[(0,c.createVNode)((0,c.unref)(De),{label:'等级',required:''}),(0,c.createElementVNode)('div',Ql,[(0,c.createVNode)((0,c.unref)(Ie),{modelValue:(0,c.unref)(l).level,'onUpdate:modelValue':a[4]||(a[4]=e=>(0,c.unref)(l).level=e),min:(0,c.unref)(1),max:(0,c.unref)(10)},null,8,['modelValue','min','max']),(0,c.createElementVNode)('span',Wl,(0,c.toDisplayString)(E.value),1)])])]),(0,c.createCommentVNode)(' 第三行：种族和身份 '),(0,c.createElementVNode)('div',Yl,[(0,c.createElementVNode)('div',Zl,[(0,c.createVNode)((0,c.unref)(De),{label:'种族',required:''}),(0,c.createVNode)((0,c.unref)(Xa),{modelValue:(0,c.unref)(l).race,'onUpdate:modelValue':a[5]||(a[5]=e=>(0,c.unref)(l).race=e),options:i.value.map(e=>({label:e+(0!==(0,c.unref)(u)[e]?` (${(0,c.unref)(u)[e]>0?'-':'+'}${Math.abs((0,c.unref)(u)[e])}点)`:''),value:e}))},null,8,['modelValue','options']),'自定义'===(0,c.unref)(l).race?((0,c.openBlock)(),(0,c.createBlock)((0,c.unref)(le),{key:0,modelValue:(0,c.unref)(l).customRace,'onUpdate:modelValue':a[6]||(a[6]=e=>(0,c.unref)(l).customRace=e),rows:2,placeholder:'请输入自定义种族'},null,8,['modelValue'])):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createElementVNode)('div',eo,[(0,c.createVNode)((0,c.unref)(De),{label:'身份',required:''}),(0,c.createVNode)((0,c.unref)(Xa),{modelValue:(0,c.unref)(l).identity,'onUpdate:modelValue':a[7]||(a[7]=e=>(0,c.unref)(l).identity=e),options:d.value.map(e=>({label:e+(0!==(0,c.unref)(p)[e]?` (${(0,c.unref)(p)[e]>0?'-':'+'}${Math.abs((0,c.unref)(p)[e])}点)`:''),value:e}))},null,8,['modelValue','options']),'自定义'===(0,c.unref)(l).identity?((0,c.openBlock)(),(0,c.createBlock)((0,c.unref)(le),{key:0,modelValue:(0,c.unref)(l).customIdentity,'onUpdate:modelValue':a[8]||(a[8]=e=>(0,c.unref)(l).customIdentity=e),rows:2,placeholder:'请输入自定义身份'},null,8,['modelValue'])):(0,c.createCommentVNode)('v-if',!0)])]),(0,c.createCommentVNode)(' 第四行：起始地点 '),(0,c.createElementVNode)('div',to,[(0,c.createElementVNode)('div',ao,[(0,c.createVNode)((0,c.unref)(De),{label:'起始地点',required:''}),(0,c.createVNode)((0,c.unref)(Xa),{modelValue:(0,c.unref)(l).startLocation,'onUpdate:modelValue':a[9]||(a[9]=e=>(0,c.unref)(l).startLocation=e),options:(0,c.unref)(v)},null,8,['modelValue','options']),'自定义'===(0,c.unref)(l).startLocation?((0,c.openBlock)(),(0,c.createBlock)((0,c.unref)(le),{key:0,modelValue:(0,c.unref)(l).customStartLocation,'onUpdate:modelValue':a[10]||(a[10]=e=>(0,c.unref)(l).customStartLocation=e),rows:2,placeholder:'请输入自定义起始地点'},null,8,['modelValue'])):(0,c.createCommentVNode)('v-if',!0)])]),(0,c.createCommentVNode)(' 初始属性分配面板 '),(0,c.createElementVNode)('div',lo,[(0,c.createElementVNode)('div',oo,[a[12]||(a[12]=(0,c.createElementVNode)('h3',null,'初始属性分配',-1)),(0,c.createElementVNode)('div',no,[(0,c.createElementVNode)('span',null,[a[11]||(a[11]=(0,c.createTextVNode)('剩余AP: ',-1)),(0,c.createElementVNode)('strong',{class:(0,c.normalizeClass)({error:(0,c.unref)(t).remainingAP<0,success:0===(0,c.unref)(t).remainingAP})},(0,c.toDisplayString)((0,c.unref)(t).remainingAP),3),(0,c.createTextVNode)(' / '+(0,c.toDisplayString)((0,c.unref)(t).maxAP),1)])])]),(0,c.createElementVNode)('div',co,[(0,c.createElementVNode)('div',so,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(V),e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e,class:'attribute-item'},[(0,c.createVNode)((0,c.unref)(al),{'model-value':(0,c.unref)(l).attributePoints[e],label:e,min:0,max:(0,c.unref)(t).maxAP,'disable-increment':(0,c.unref)(t).remainingAP<=0,onIncrement:t=>(0,c.unref)(o)(e),onDecrement:t=>(0,c.unref)(n)(e)},null,8,['model-value','label','max','disable-increment','onIncrement','onDecrement']),(0,c.createElementVNode)('div',ro,[(0,c.createTextVNode)((0,c.toDisplayString)((0,c.unref)(4))+' ',1),a[13]||(a[13]=(0,c.createElementVNode)('span',{class:'dim'},'(基础)',-1)),(0,c.createTextVNode)(' + '+(0,c.toDisplayString)(N.value)+' ',1),a[14]||(a[14]=(0,c.createElementVNode)('span',{class:'dim'},'(层级)',-1)),(0,c.createTextVNode)(' + '+(0,c.toDisplayString)((0,c.unref)(l).attributePoints[e])+' ',1),a[15]||(a[15]=(0,c.createElementVNode)('span',{class:'dim'},'(额外)',-1)),a[16]||(a[16]=(0,c.createTextVNode)(' = ',-1)),(0,c.createElementVNode)('strong',io,(0,c.toDisplayString)((0,c.unref)(t).finalAttributes[e]),1)])]))),128))]),y.value<0?((0,c.openBlock)(),(0,c.createElementBlock)('div',mo,'⚠️ 转生点数不足！')):0===(0,c.unref)(t).remainingAP?((0,c.openBlock)(),(0,c.createElementBlock)('div',uo,'✓ 属性点已全部分配')):(0,c.unref)(t).remainingAP>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',po,' 还有 '+(0,c.toDisplayString)((0,c.unref)(t).remainingAP)+' 点未分配 ',1)):(0,c.createCommentVNode)('v-if',!0)])])])]))}}),Vo=(0,r.A)(vo,[['__scopeId','data-v-56d4e153']]),fo={class:'confirm-page'},ko={class:'confirm-panel'},No={class:'panel-content'},yo={class:'doc-section points-section'},Eo={class:'points-grid'},go={class:'point-item'},bo={class:'point-value gold'},ho={class:'point-item'},Bo={class:'point-value'},Co={class:'point-item'},So={class:'point-item destiny'},Do={class:'point-value purple'},wo={class:'doc-section'},xo={class:'doc-text'},_o={class:'doc-section'},qo={class:'doc-text attributes'},Po={class:'attr-detail'},$o={class:'doc-section'},Io={class:'section-title'},Lo={key:0,class:'doc-text'},Mo={class:'item-title'},Ao={class:'item-cost'},Uo={class:'item-meta'},Fo={key:0},Ro={class:'item-desc'},Oo={key:0,class:'item-flavor'},zo={key:1,class:'empty-text'},jo={class:'doc-section'},Go={class:'section-title'},To={key:0,class:'doc-text'},Jo={class:'item-title'},Ko={class:'item-cost'},Xo={class:'item-meta'},Ho={key:0},Qo={class:'item-desc'},Wo={key:0,class:'item-flavor'},Yo={key:1,class:'empty-text'},Zo={class:'doc-section'},en={class:'section-title'},tn={key:0,class:'doc-text'},an={class:'item-title'},ln={class:'item-cost'},on={class:'item-meta'},nn={key:0},cn={key:1},sn={class:'item-desc'},rn={key:0,class:'item-flavor'},dn={key:1,class:'empty-text'},mn={class:'doc-section'},un={class:'section-title'},pn={key:0,class:'doc-text'},vn={class:'item-title'},Vn={class:'item-cost'},fn={class:'item-meta'},kn={key:0},Nn={key:1,class:'item-flavor'},yn={key:2,class:'sub-list'},En={key:3,class:'sub-list'},gn={key:1,class:'empty-text'},bn={class:'doc-section'},hn={key:0,class:'doc-text'},Bn={class:'item-title'},Cn={key:0,class:'item-meta'},Sn={key:0},Dn={key:1},wn={key:2},xn={class:'background-desc'},_n={key:1,class:'empty-text'},qn={key:0,class:'final-notice'},Pn={key:0,class:'notice warning'},$n={key:1,class:'notice info'},In=(0,c.defineComponent)({__name:'index',setup(e){const t=k(),a=(0,c.computed)(()=>t.consumedPoints),l=(0,c.computed)(()=>t.character.reincarnationPoints-a.value),o=(0,c.computed)(()=>'自定义'===t.character.gender?t.character.customGender||'自定义':t.character.gender),n=(0,c.computed)(()=>'自定义'===t.character.race?t.character.customRace||'自定义':t.character.race),s=(0,c.computed)(()=>'自定义'===t.character.identity?t.character.customIdentity||'自定义':t.character.identity),r=(0,c.computed)(()=>'自定义'===t.character.startLocation?t.character.customStartLocation||'自定义':t.character.startLocation),i={common:'#9e9e9e',uncommon:'#4caf50',rare:'#2196f3',epic:'#9c27b0',legendary:'#ff9800',mythic:'#e91e63',only:'#ff0000'};return(e,d)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',fo,[(0,c.createElementVNode)('div',ko,[(0,c.createCommentVNode)(' 标题 '),d[16]||(d[16]=(0,c.createElementVNode)('div',{class:'panel-header'},[(0,c.createElementVNode)('h2',{class:'panel-title'},'信息确认'),(0,c.createElementVNode)('p',{class:'panel-subtitle'},'非自定义数据（除了装备）会直接写入 MVU 变量中，不会发送给 AI')],-1)),(0,c.createCommentVNode)(' 文档内容 '),(0,c.createElementVNode)('div',No,[(0,c.createCommentVNode)(' 点数统计 '),(0,c.createElementVNode)('section',yo,[(0,c.createElementVNode)('div',Eo,[(0,c.createElementVNode)('div',go,[d[0]||(d[0]=(0,c.createElementVNode)('span',{class:'point-label'},'转生点数',-1)),(0,c.createElementVNode)('span',bo,(0,c.toDisplayString)((0,c.unref)(t).character.reincarnationPoints),1)]),(0,c.createElementVNode)('div',ho,[d[1]||(d[1]=(0,c.createElementVNode)('span',{class:'point-label'},'已消耗',-1)),(0,c.createElementVNode)('span',Bo,(0,c.toDisplayString)(a.value),1)]),(0,c.createElementVNode)('div',Co,[d[2]||(d[2]=(0,c.createElementVNode)('span',{class:'point-label'},'剩余',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['point-value',{negative:l.value<0,positive:l.value>=0}])},(0,c.toDisplayString)(l.value),3)]),(0,c.createElementVNode)('div',So,[d[3]||(d[3]=(0,c.createElementVNode)('span',{class:'point-label'},'命运点数',-1)),(0,c.createElementVNode)('span',Do,(0,c.toDisplayString)((0,c.unref)(t).character.destinyPoints),1)])])]),(0,c.createCommentVNode)(' 基本信息 '),(0,c.createElementVNode)('section',wo,[d[11]||(d[11]=(0,c.createElementVNode)('h3',{class:'section-title'},'📋 基本信息',-1)),(0,c.createElementVNode)('div',xo,[(0,c.createElementVNode)('p',null,[d[4]||(d[4]=(0,c.createElementVNode)('strong',null,'姓名：',-1)),(0,c.createTextVNode)((0,c.toDisplayString)((0,c.unref)(t).character.name||'（未设置）'),1)]),(0,c.createElementVNode)('p',null,[d[5]||(d[5]=(0,c.createElementVNode)('strong',null,'性别：',-1)),(0,c.createTextVNode)((0,c.toDisplayString)(o.value),1)]),(0,c.createElementVNode)('p',null,[d[6]||(d[6]=(0,c.createElementVNode)('strong',null,'年龄：',-1)),(0,c.createTextVNode)((0,c.toDisplayString)((0,c.unref)(t).character.age)+' 岁',1)]),(0,c.createElementVNode)('p',null,[d[7]||(d[7]=(0,c.createElementVNode)('strong',null,'种族：',-1)),(0,c.createTextVNode)((0,c.toDisplayString)(n.value),1)]),(0,c.createElementVNode)('p',null,[d[8]||(d[8]=(0,c.createElementVNode)('strong',null,'身份：',-1)),(0,c.createTextVNode)((0,c.toDisplayString)(s.value),1)]),(0,c.createElementVNode)('p',null,[d[9]||(d[9]=(0,c.createElementVNode)('strong',null,'出生地：',-1)),(0,c.createTextVNode)((0,c.toDisplayString)(r.value),1)]),(0,c.createElementVNode)('p',null,[d[10]||(d[10]=(0,c.createElementVNode)('strong',null,'等级：',-1)),(0,c.createTextVNode)('Lv.'+(0,c.toDisplayString)((0,c.unref)(t).character.level),1)])])]),(0,c.createCommentVNode)(' 属性 '),(0,c.createElementVNode)('section',_o,[d[12]||(d[12]=(0,c.createElementVNode)('h3',{class:'section-title'},'⚔️ 角色属性',-1)),(0,c.createElementVNode)('div',qo,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(t).finalAttributes,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('p',{key:t},[(0,c.createElementVNode)('strong',null,(0,c.toDisplayString)(t)+'：',1),(0,c.createElementVNode)('span',Po,(0,c.toDisplayString)(e),1)]))),128))])]),(0,c.createCommentVNode)(' 装备 '),(0,c.createElementVNode)('section',$o,[(0,c.createElementVNode)('h3',Io,'🛡️ 装备 ('+(0,c.toDisplayString)((0,c.unref)(t).selectedEquipments.length)+')',1),(0,c.unref)(t).selectedEquipments.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',Lo,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(t).selectedEquipments,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,c.createElementVNode)('p',Mo,[(0,c.createElementVNode)('strong',null,(0,c.toDisplayString)(t+1)+'. ',1),(0,c.createElementVNode)('span',{style:(0,c.normalizeStyle)({color:i[e.rarity]})},(0,c.toDisplayString)(e.name),5),(0,c.createElementVNode)('span',Ao,'['+(0,c.toDisplayString)(e.cost)+' 点]',1)]),(0,c.createElementVNode)('p',Uo,[(0,c.createTextVNode)(' 类型：'+(0,c.toDisplayString)(e.type),1),e.tag?((0,c.openBlock)(),(0,c.createElementBlock)('span',Fo,' | 标签：'+(0,c.toDisplayString)(e.tag),1)):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createElementVNode)('p',Ro,'效果：'+(0,c.toDisplayString)(e.effect),1),e.description?((0,c.openBlock)(),(0,c.createElementBlock)('p',Oo,(0,c.toDisplayString)(e.description),1)):(0,c.createCommentVNode)('v-if',!0)]))),128))])):((0,c.openBlock)(),(0,c.createElementBlock)('p',zo,'未选择装备'))]),(0,c.createCommentVNode)(' 道具 '),(0,c.createElementVNode)('section',jo,[(0,c.createElementVNode)('h3',Go,'🎒 道具 ('+(0,c.toDisplayString)((0,c.unref)(t).selectedItems.length)+')',1),(0,c.unref)(t).selectedItems.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',To,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(t).selectedItems,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,c.createElementVNode)('p',Jo,[(0,c.createElementVNode)('strong',null,(0,c.toDisplayString)(t+1)+'. ',1),(0,c.createElementVNode)('span',{style:(0,c.normalizeStyle)({color:i[e.rarity]})},(0,c.toDisplayString)(e.name),5),(0,c.createElementVNode)('span',Ko,'['+(0,c.toDisplayString)(e.cost)+' 点]',1)]),(0,c.createElementVNode)('p',Xo,[(0,c.createTextVNode)(' 类型：'+(0,c.toDisplayString)(e.type),1),e.tag?((0,c.openBlock)(),(0,c.createElementBlock)('span',Ho,' | 标签：'+(0,c.toDisplayString)(e.tag),1)):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createElementVNode)('p',Qo,'效果：'+(0,c.toDisplayString)(e.effect),1),e.description?((0,c.openBlock)(),(0,c.createElementBlock)('p',Wo,(0,c.toDisplayString)(e.description),1)):(0,c.createCommentVNode)('v-if',!0)]))),128))])):((0,c.openBlock)(),(0,c.createElementBlock)('p',Yo,'未选择道具'))]),(0,c.createCommentVNode)(' 技能 '),(0,c.createElementVNode)('section',Zo,[(0,c.createElementVNode)('h3',en,'✨ 技能 ('+(0,c.toDisplayString)((0,c.unref)(t).selectedSkills.length)+')',1),(0,c.unref)(t).selectedSkills.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',tn,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(t).selectedSkills,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'item-entry'},[(0,c.createElementVNode)('p',an,[(0,c.createElementVNode)('strong',null,(0,c.toDisplayString)(t+1)+'. ',1),(0,c.createElementVNode)('span',{style:(0,c.normalizeStyle)({color:i[e.rarity]})},(0,c.toDisplayString)(e.name),5),(0,c.createElementVNode)('span',ln,'['+(0,c.toDisplayString)(e.cost)+' 点]',1)]),(0,c.createElementVNode)('p',on,[(0,c.createTextVNode)(' 类型：'+(0,c.toDisplayString)(e.type)+' ',1),e.tag?((0,c.openBlock)(),(0,c.createElementBlock)('span',nn,' | 标签：'+(0,c.toDisplayString)(e.tag),1)):(0,c.createCommentVNode)('v-if',!0),e.consume?((0,c.openBlock)(),(0,c.createElementBlock)('span',cn,' | 消耗：'+(0,c.toDisplayString)(e.consume),1)):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createElementVNode)('p',sn,'效果：'+(0,c.toDisplayString)(e.effect),1),e.description?((0,c.openBlock)(),(0,c.createElementBlock)('p',rn,(0,c.toDisplayString)(e.description),1)):(0,c.createCommentVNode)('v-if',!0)]))),128))])):((0,c.openBlock)(),(0,c.createElementBlock)('p',dn,'未选择技能'))]),(0,c.createCommentVNode)(' 命定之人 '),(0,c.createElementVNode)('section',mn,[(0,c.createElementVNode)('h3',un,'🌟 命定之人 ('+(0,c.toDisplayString)((0,c.unref)(t).selectedDestinedOnes.length)+')',1),(0,c.unref)(t).selectedDestinedOnes.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',pn,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)((0,c.unref)(t).selectedDestinedOnes,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'destined-entry'},[(0,c.createElementVNode)('p',vn,[(0,c.createElementVNode)('strong',null,(0,c.toDisplayString)(t+1)+'. '+(0,c.toDisplayString)(e.name),1),(0,c.createElementVNode)('span',Vn,'['+(0,c.toDisplayString)(e.cost)+' 点]',1)]),(0,c.createElementVNode)('p',fn,(0,c.toDisplayString)(e.race)+' | '+(0,c.toDisplayString)(e.identity.join('、'))+' | Lv.'+(0,c.toDisplayString)(e.level)+' | '+(0,c.toDisplayString)(e.lifeLevel),1),e.backgroundInfo?((0,c.openBlock)(),(0,c.createElementBlock)('p',kn,(0,c.toDisplayString)(e.backgroundInfo),1)):(0,c.createCommentVNode)('v-if',!0),e.comment?((0,c.openBlock)(),(0,c.createElementBlock)('p',Nn,(0,c.toDisplayString)(e.comment),1)):(0,c.createCommentVNode)('v-if',!0),e.equip&&e.equip.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',yn,[d[13]||(d[13]=(0,c.createElementVNode)('p',null,[(0,c.createElementVNode)('strong',null,'装备：')],-1)),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.equip,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('p',{key:t,class:'sub-item'},'• '+(0,c.toDisplayString)(e.name||e),1))),128))])):(0,c.createCommentVNode)('v-if',!0),e.skills&&e.skills.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',En,[d[14]||(d[14]=(0,c.createElementVNode)('p',null,[(0,c.createElementVNode)('strong',null,'技能：')],-1)),((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.skills,(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('p',{key:t,class:'sub-item'},'• '+(0,c.toDisplayString)(e.name),1))),128))])):(0,c.createCommentVNode)('v-if',!0)]))),128))])):((0,c.openBlock)(),(0,c.createElementBlock)('p',gn,'未选择命定之人'))]),(0,c.createCommentVNode)(' 初始开局 '),(0,c.createElementVNode)('section',bn,[d[15]||(d[15]=(0,c.createElementVNode)('h3',{class:'section-title'},'📖 初始开局剧情',-1)),(0,c.unref)(t).selectedBackground?((0,c.openBlock)(),(0,c.createElementBlock)('div',hn,[(0,c.createElementVNode)('p',Bn,[(0,c.createElementVNode)('strong',null,(0,c.toDisplayString)((0,c.unref)(t).selectedBackground.name),1)]),(0,c.unref)(t).selectedBackground.race||(0,c.unref)(t).selectedBackground.location?((0,c.openBlock)(),(0,c.createElementBlock)('p',Cn,[(0,c.unref)(t).selectedBackground.race?((0,c.openBlock)(),(0,c.createElementBlock)('span',Sn,'种族：'+(0,c.toDisplayString)((0,c.unref)(t).selectedBackground.race),1)):(0,c.createCommentVNode)('v-if',!0),(0,c.unref)(t).selectedBackground.race&&(0,c.unref)(t).selectedBackground.location?((0,c.openBlock)(),(0,c.createElementBlock)('span',Dn,' | ')):(0,c.createCommentVNode)('v-if',!0),(0,c.unref)(t).selectedBackground.location?((0,c.openBlock)(),(0,c.createElementBlock)('span',wn,'地点：'+(0,c.toDisplayString)((0,c.unref)(t).selectedBackground.location),1)):(0,c.createCommentVNode)('v-if',!0)])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('p',xn,(0,c.toDisplayString)((0,c.unref)(t).selectedBackground.description),1)])):((0,c.openBlock)(),(0,c.createElementBlock)('p',_n,'未选择初始开局剧情'))]),(0,c.createCommentVNode)(' 提示信息 '),0!==l.value?((0,c.openBlock)(),(0,c.createElementBlock)('div',qn,[l.value<0?((0,c.openBlock)(),(0,c.createElementBlock)('div',Pn,' ⚠️ 警告：转生点数不足 '+(0,c.toDisplayString)(Math.abs(l.value))+' 点，请返回调整 ',1)):((0,c.openBlock)(),(0,c.createElementBlock)('div',$n,'💡 提示：还有 '+(0,c.toDisplayString)(l.value)+' 点转生点数未使用',1))])):(0,c.createCommentVNode)('v-if',!0)])])]))}}),Ln=(0,r.A)(In,[['__scopeId','data-v-eb60bc26']]),Mn={};let An=null;!async function(){const e=await async function(){return O('equipments.json','装备')}(),t=j(Mn,e);An=t}();const Un={Money:[{name:'一点点钱',type:'货币',cost:10,rarity:'common',description:'初始自带10银币、10铜币。'},{name:'一些钱',type:'货币',cost:20,rarity:'uncommon',description:'初始自带30银币、30铜币。'},{name:'不算少的钱',type:'货币',cost:40,rarity:'rare',description:'初始自带60银币、60铜币。'},{name:'很多钱',type:'货币',cost:80,rarity:'epic',description:'初始自带30金币、50银币、50铜币。'},{name:'很多很多钱',type:'货币',cost:150,rarity:'legendary',description:'初始自带150金币、50银币、50铜币。'}]};let Fn=null;!async function(){const e=await async function(){return O('items.json','道具')}();Fn=j(Un,e)}();const Rn={},On={};let zn=null;!async function(){const e=await async function(){const e=await O('skills.json','技能'),t={};return e.主动技能?t.ActiveSkills=e.主动技能:e.ActiveSkills&&(t.ActiveSkills=e.ActiveSkills),e.被动技能?t.PassiveSkills=e.被动技能:e.PassiveSkills&&(t.PassiveSkills=e.PassiveSkills),t}();zn=function(e,t,a){return{ActiveSkills:a.ActiveSkills?j(e,a.ActiveSkills):e,PassiveSkills:a.PassiveSkills?j(t,a.PassiveSkills):t}}(Rn,On,e)}();const jn={class:'category-tabs'},Gn=['onClick'],Tn={class:'tab-icon'},Jn={class:'tab-label'},Kn=(0,c.defineComponent)({__name:'CategoryTabs',props:{modelValue:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t,l=[{key:'equipment',label:'装备',icon:'⚔️'},{key:'item',label:'道具',icon:'🎒'},{key:'skill',label:'技能',icon:'✨'}];return(t,o)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',jn,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(l,t=>(0,c.createElementVNode)('button',{key:t.key,class:(0,c.normalizeClass)(['tab-button',{active:e.modelValue===t.key}]),onClick:e=>{return l=t.key,void a('update:modelValue',l);var l}},[(0,c.createElementVNode)('span',Tn,(0,c.toDisplayString)(t.icon),1),(0,c.createElementVNode)('span',Jn,(0,c.toDisplayString)(t.label),1)],10,Gn)),64))]))}}),Xn=(0,r.A)(Kn,[['__scopeId','data-v-11224f43']]),Hn={class:'form-body'},Qn={class:'form-row'},Wn={class:'category-buttons'},Yn=['onClick'],Zn={class:'form-row'},ec={class:'form-row'},tc={class:'form-row'},ac={class:'rarity-buttons'},lc=['onClick'],oc={class:'cost-info'},nc={class:'cost-value'},cc={class:'cost-range'},sc={class:'form-row'},rc={key:0,class:'form-row'},ic={class:'form-row'},dc={class:'form-row'},mc={class:'form-actions'},uc=['disabled'],pc=(0,c.defineComponent)({__name:'CustomItemForm',emits:['add'],setup(e,{emit:t}){const a=t,l=(0,c.ref)(!1),o=(0,c.ref)('equipment'),n=(0,c.ref)(''),s=(0,c.ref)(''),r=(0,c.ref)('common'),i=(0,c.ref)(''),d=(0,c.ref)(''),m=(0,c.ref)(''),u=(0,c.ref)(''),p=[{value:'common',label:'普通',color:'#9e9e9e'},{value:'uncommon',label:'优秀',color:'#4caf50'},{value:'rare',label:'稀有',color:'#2196f3'},{value:'epic',label:'史诗',color:'#9c27b0'},{value:'legendary',label:'传说',color:'#ff9800'},{value:'mythic',label:'神话',color:'#e91e63'},{value:'only',label:'唯一',color:'#ff0000'}],v=[{value:'equipment',label:'装备'},{value:'item',label:'道具'},{value:'skill',label:'技能'}],V=(0,c.computed)(()=>{const e=.5+.5*Math.random();return function(e,t=.5){const a=Le[e],l=a.min+(a.max-a.min)*t;return Math.round(l)}(r.value,e)}),f=(0,c.computed)(()=>function(e){const t=Le[e];return`${t.min}-${t.max}`}(r.value)),k=(0,c.computed)(()=>''!==s.value.trim()&&''!==n.value.trim()&&''!==d.value.trim()),N=()=>{s.value='',n.value='',r.value='common',i.value='',d.value='',m.value='',u.value=''},y=()=>{if(!k.value)return;const e={name:s.value.trim(),cost:V.value,type:n.value.trim(),tag:i.value.trim(),rarity:r.value,effect:d.value.trim(),description:m.value.trim()||'自定义物品',isCustom:!0};let t;t='skill'===o.value?{...e,consume:u.value.trim()||'',isCustom:!0}:e,a('add',t,o.value),N(),l.value=!1};return(e,t)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{class:(0,c.normalizeClass)(['custom-item-form',{expanded:l.value}])},[(0,c.createElementVNode)('div',{class:'form-header',onClick:t[0]||(t[0]=e=>l.value=!l.value)},[t[7]||(t[7]=(0,c.createElementVNode)('div',{class:'header-left'},[(0,c.createElementVNode)('h3',{class:'form-title'},'✨ 自定义物品'),(0,c.createElementVNode)('div',{class:'form-desc'},'创建您的专属物品、装备或技能')],-1)),(0,c.createElementVNode)('div',{class:(0,c.normalizeClass)(['toggle-icon',{rotated:l.value}])},'▼',2)]),(0,c.withDirectives)((0,c.createElementVNode)('div',Hn,[(0,c.createCommentVNode)(' 大分类选择 '),(0,c.createElementVNode)('div',Qn,[t[8]||(t[8]=(0,c.createElementVNode)('label',{class:'form-label'},'添加到分类',-1)),(0,c.createElementVNode)('div',Wn,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(v,e=>(0,c.createElementVNode)('button',{key:e.value,class:(0,c.normalizeClass)(['category-btn',{active:o.value===e.value}]),onClick:t=>o.value=e.value},(0,c.toDisplayString)(e.label),11,Yn)),64))])]),(0,c.createCommentVNode)(' 名称 '),(0,c.createElementVNode)('div',Zn,[(0,c.createVNode)((0,c.unref)(De),{label:'名称',required:''}),(0,c.createVNode)((0,c.unref)(he),{modelValue:s.value,'onUpdate:modelValue':t[1]||(t[1]=e=>s.value=e),placeholder:'请输入物品名称',maxlength:50},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 类型 '),(0,c.createElementVNode)('div',ec,[(0,c.createVNode)((0,c.unref)(De),{label:'类型',required:''}),(0,c.createVNode)((0,c.unref)(he),{modelValue:n.value,'onUpdate:modelValue':t[2]||(t[2]=e=>n.value=e),placeholder:'例如：武器、防具、消耗品、主动、被动等',maxlength:20},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 品质 '),(0,c.createElementVNode)('div',tc,[(0,c.createVNode)((0,c.unref)(De),{label:'品质',required:''}),(0,c.createElementVNode)('div',ac,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(p,e=>(0,c.createElementVNode)('button',{key:e.value,class:(0,c.normalizeClass)(['rarity-btn',{active:r.value===e.value}]),style:(0,c.normalizeStyle)({'--rarity-color':e.color}),onClick:t=>r.value=e.value},(0,c.toDisplayString)(e.label),15,lc)),64))]),(0,c.createElementVNode)('div',oc,[t[9]||(t[9]=(0,c.createElementVNode)('span',{class:'cost-label'},'消耗点数：',-1)),(0,c.createElementVNode)('span',nc,(0,c.toDisplayString)(V.value),1),(0,c.createElementVNode)('span',cc,'（范围：'+(0,c.toDisplayString)(f.value)+'）',1)])]),(0,c.createCommentVNode)(' 标签 '),(0,c.createElementVNode)('div',sc,[(0,c.createVNode)((0,c.unref)(De),{label:'标签'}),(0,c.createVNode)((0,c.unref)(he),{modelValue:i.value,'onUpdate:modelValue':t[3]||(t[3]=e=>i.value=e),placeholder:'例如：[关联属性][目标类型][核心功能][威力: XXX][可选机制]'},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 消耗（仅技能分类） '),'skill'===o.value?((0,c.openBlock)(),(0,c.createElementBlock)('div',rc,[(0,c.createVNode)((0,c.unref)(De),{label:'消耗'}),(0,c.createVNode)((0,c.unref)(he),{modelValue:u.value,'onUpdate:modelValue':t[4]||(t[4]=e=>u.value=e),placeholder:'例如：[动作: 50 SP]'},null,8,['modelValue'])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createCommentVNode)(' 效果 '),(0,c.createElementVNode)('div',ic,[(0,c.createVNode)((0,c.unref)(De),{label:'效果',required:''}),(0,c.createVNode)((0,c.unref)(le),{modelValue:d.value,'onUpdate:modelValue':t[5]||(t[5]=e=>d.value=e),placeholder:'请描述物品的效果...',rows:3},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 描述 '),(0,c.createElementVNode)('div',dc,[(0,c.createVNode)((0,c.unref)(De),{label:'描述'}),(0,c.createVNode)((0,c.unref)(le),{modelValue:m.value,'onUpdate:modelValue':t[6]||(t[6]=e=>m.value=e),placeholder:'请描述物品的背景故事...',rows:2},null,8,['modelValue'])]),(0,c.createCommentVNode)(' 操作按钮 '),(0,c.createElementVNode)('div',mc,[(0,c.createElementVNode)('button',{class:'btn-reset',onClick:N},'清空'),(0,c.createElementVNode)('button',{class:'btn-submit',disabled:!k.value,onClick:y},'添加到已选项目',8,uc)])],512),[[c.vShow,l.value]])],2))}}),vc=(0,r.A)(pc,[['__scopeId','data-v-42c41433']]),Vc={class:'card-header'},fc={class:'item-name'},kc={class:'card-body'},Nc={class:'item-info'},yc={class:'info-value'},Ec={key:0,class:'item-info'},gc={class:'info-value tag'},bc={key:1,class:'item-info'},hc={class:'info-value consume'},Bc={key:2,class:'item-effect'},Cc={class:'effect-content'},Sc={class:'item-description'},Dc={class:'card-footer'},wc={class:'item-cost'},xc={class:'cost-value'},_c={key:0,class:'selected-badge'},qc=(0,c.defineComponent)({__name:'ItemCard',props:{item:{},selected:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,o={only:'#ff6f00',common:'#9e9e9e',uncommon:'#388e3c',rare:'#193c96',epic:'#9c27b0',legendary:'#9e7121',mythic:'#d32f2f'},n={only:'唯一',common:'普通',uncommon:'优良',rare:'稀有',epic:'史诗',legendary:'传说',mythic:'神话'},s=()=>{a.disabled||(a.selected?l('deselect',a.item):l('select',a.item))};return(t,a)=>{return(0,c.openBlock)(),(0,c.createElementBlock)('div',{class:(0,c.normalizeClass)(['item-card',{'is-selected':e.selected,'is-disabled':e.disabled}]),style:(0,c.normalizeStyle)({'--rarity-color':o[e.item.rarity]}),onClick:s},[(0,c.createCommentVNode)(' 卡片头部 '),(0,c.createElementVNode)('div',Vc,[(0,c.createElementVNode)('div',fc,(0,c.toDisplayString)(e.item.name),1),(0,c.createElementVNode)('div',{class:'item-rarity',style:(0,c.normalizeStyle)({color:o[e.item.rarity]})},(0,c.toDisplayString)(n[e.item.rarity]),5)]),(0,c.createCommentVNode)(' 卡片内容 '),(0,c.createElementVNode)('div',kc,[(0,c.createElementVNode)('div',Nc,[a[0]||(a[0]=(0,c.createElementVNode)('span',{class:'info-label'},'类型:',-1)),(0,c.createElementVNode)('span',yc,(0,c.toDisplayString)(e.item.type),1)]),'tag'in e.item&&e.item.tag?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ec,[a[1]||(a[1]=(0,c.createElementVNode)('span',{class:'info-label'},'标签:',-1)),(0,c.createElementVNode)('span',gc,(0,c.toDisplayString)(e.item.tag),1)])):(0,c.createCommentVNode)('v-if',!0),(l=e.item,'consume'in l&&e.item.consume?((0,c.openBlock)(),(0,c.createElementBlock)('div',bc,[a[2]||(a[2]=(0,c.createElementVNode)('span',{class:'info-label'},'消耗:',-1)),(0,c.createElementVNode)('span',hc,(0,c.toDisplayString)(e.item.consume),1)])):(0,c.createCommentVNode)('v-if',!0)),'effect'in e.item&&e.item.effect?((0,c.openBlock)(),(0,c.createElementBlock)('div',Bc,[a[3]||(a[3]=(0,c.createElementVNode)('div',{class:'effect-label'},'效果:',-1)),(0,c.createElementVNode)('div',Cc,(0,c.toDisplayString)(e.item.effect),1)])):(0,c.createCommentVNode)('v-if',!0),(0,c.createElementVNode)('div',Sc,(0,c.toDisplayString)(e.item.description),1)]),(0,c.createCommentVNode)(' 卡片底部 '),(0,c.createElementVNode)('div',Dc,[(0,c.createElementVNode)('div',wc,[a[4]||(a[4]=(0,c.createElementVNode)('span',{class:'cost-label'},'消耗点数:',-1)),(0,c.createElementVNode)('span',xc,(0,c.toDisplayString)(e.item.cost),1)]),e.selected?((0,c.openBlock)(),(0,c.createElementBlock)('div',_c,'✓ 已选择')):(0,c.createCommentVNode)('v-if',!0)])],6);var l}}}),Pc=(0,r.A)(qc,[['__scopeId','data-v-211be1ca']]),$c={class:'item-list'},Ic={key:0,class:'empty-state'},Lc={key:1,class:'item-grid'},Mc=(0,c.defineComponent)({__name:'ItemList',props:{items:{},selectedItems:{},availablePoints:{}},emits:['select','deselect'],setup(e,{emit:t}){const a=e,l=t,o=e=>a.selectedItems.some(t=>t.name===e.name),n=e=>!o(e)&&e.cost>a.availablePoints,s=e=>{l('select',e)},r=e=>{l('deselect',e)};return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',$c,[0===e.items.length?((0,c.openBlock)(),(0,c.createElementBlock)('div',Ic,[...a[0]||(a[0]=[(0,c.createElementVNode)('div',{class:'empty-icon'},'📦',-1),(0,c.createElementVNode)('div',{class:'empty-text'},'该分类下暂无物品',-1)])])):((0,c.openBlock)(),(0,c.createElementBlock)('div',Lc,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.items,e=>((0,c.openBlock)(),(0,c.createBlock)(Pc,{key:e.name,item:e,selected:o(e),disabled:n(e),onSelect:s,onDeselect:r},null,8,['item','selected','disabled']))),128))]))]))}}),Ac=(0,r.A)(Mc,[['__scopeId','data-v-77b546fb']]),Uc={class:'rarity-filter'},Fc={class:'filter-buttons'},Rc=['onClick'],Oc=(0,c.defineComponent)({__name:'RarityFilter',props:{modelValue:{}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t,l=[{value:'all',label:'全部',color:'#666'},{value:'only',label:'唯一',color:'#ff0000'},{value:'mythic',label:'神话',color:'#e91e63'},{value:'legendary',label:'传说',color:'#ff9800'},{value:'epic',label:'史诗',color:'#9c27b0'},{value:'rare',label:'稀有',color:'#2196f3'},{value:'uncommon',label:'优秀',color:'#4caf50'},{value:'common',label:'普通',color:'#9e9e9e'}];return(t,o)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Uc,[o[0]||(o[0]=(0,c.createElementVNode)('div',{class:'filter-label'},'品质筛选：',-1)),(0,c.createElementVNode)('div',Fc,[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(l,t=>(0,c.createElementVNode)('button',{key:t.value,class:(0,c.normalizeClass)(['filter-btn',{active:e.modelValue===t.value}]),style:(0,c.normalizeStyle)({'--rarity-color':t.color}),onClick:e=>{return l=t.value,void a('update:modelValue',l);var l}},(0,c.toDisplayString)(t.label),15,Rc)),64))])]))}}),zc=(0,r.A)(Oc,[['__scopeId','data-v-cd5d8636']]),jc={class:'selected-panel'},Gc={class:'panel-header'},Tc={class:'header-top'},Jc={class:'count-badge'},Kc={class:'points-info'},Xc={class:'points-total'},Hc={class:'points-consumed'},Qc={class:'panel-body'},Wc={key:0,class:'section'},Yc={class:'section-title'},Zc={class:'count'},es={class:'item-list'},ts={class:'item-info'},as={class:'item-name'},ls={class:'item-cost'},os=['onClick'],ns={key:1,class:'section'},cs={class:'section-title'},ss={class:'count'},rs={class:'item-list'},is={class:'item-info'},ds={class:'item-name'},ms={class:'item-cost'},us=['onClick'],ps={key:2,class:'section'},vs={class:'section-title'},Vs={class:'count'},fs={class:'item-list'},ks={class:'item-info'},Ns={class:'item-name'},ys={class:'item-cost'},Es=['onClick'],gs={key:3,class:'empty-state'},bs={class:'panel-footer'},hs={class:'total-info'},Bs={class:'value'},Cs=(0,c.defineComponent)({__name:'SelectedPanel',props:{equipments:{},items:{},skills:{},availablePoints:{},totalPoints:{},consumedPoints:{}},emits:['remove','clear'],setup(e,{emit:t}){const a=e,l=t,o=(e,t)=>{l('remove',e,t)},n=()=>{l('clear')},s=(0,c.computed)(()=>a.equipments.length+a.items.length+a.skills.length),r=(0,c.computed)(()=>a.equipments.reduce((e,t)=>e+t.cost,0)+a.items.reduce((e,t)=>e+t.cost,0)+a.skills.reduce((e,t)=>e+t.cost,0));return(t,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',jc,[(0,c.createElementVNode)('div',Gc,[(0,c.createElementVNode)('div',Tc,[a[0]||(a[0]=(0,c.createElementVNode)('h3',{class:'title'},'已选项目',-1)),(0,c.createElementVNode)('div',Jc,(0,c.toDisplayString)((0,c.unref)(s)),1)]),(0,c.createElementVNode)('div',Kc,[a[1]||(a[1]=(0,c.createElementVNode)('span',{class:'points-label'},'转生点数：',-1)),(0,c.createElementVNode)('span',{class:(0,c.normalizeClass)(['points-value',{negative:e.availablePoints<0}])},(0,c.toDisplayString)(e.availablePoints),3),(0,c.createElementVNode)('span',Xc,'/ '+(0,c.toDisplayString)(e.totalPoints),1),(0,c.createElementVNode)('span',Hc,'（已消耗：'+(0,c.toDisplayString)(e.consumedPoints)+'）',1)])]),(0,c.createElementVNode)('div',Qc,[(0,c.createCommentVNode)(' 装备列表 '),e.equipments.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',Wc,[(0,c.createElementVNode)('div',Yc,[a[2]||(a[2]=(0,c.createElementVNode)('span',null,'⚔️ 装备',-1)),(0,c.createElementVNode)('span',Zc,'('+(0,c.toDisplayString)(e.equipments.length)+')',1)]),(0,c.createElementVNode)('div',es,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.equipments,e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'selected-item'},[(0,c.createElementVNode)('div',ts,[(0,c.createElementVNode)('div',as,(0,c.toDisplayString)(e.name),1),(0,c.createElementVNode)('div',ls,(0,c.toDisplayString)(e.cost)+' 点',1)]),(0,c.createElementVNode)('button',{class:'remove-btn',onClick:t=>o(e,'equipment')},'×',8,os)]))),128))])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createCommentVNode)(' 道具列表 '),e.items.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',ns,[(0,c.createElementVNode)('div',cs,[a[3]||(a[3]=(0,c.createElementVNode)('span',null,'🎒 道具',-1)),(0,c.createElementVNode)('span',ss,'('+(0,c.toDisplayString)(e.items.length)+')',1)]),(0,c.createElementVNode)('div',rs,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.items,e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'selected-item'},[(0,c.createElementVNode)('div',is,[(0,c.createElementVNode)('div',ds,(0,c.toDisplayString)(e.name),1),(0,c.createElementVNode)('div',ms,(0,c.toDisplayString)(e.cost)+' 点',1)]),(0,c.createElementVNode)('button',{class:'remove-btn',onClick:t=>o(e,'item')},'×',8,us)]))),128))])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createCommentVNode)(' 技能列表 '),e.skills.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',ps,[(0,c.createElementVNode)('div',vs,[a[4]||(a[4]=(0,c.createElementVNode)('span',null,'✨ 技能',-1)),(0,c.createElementVNode)('span',Vs,'('+(0,c.toDisplayString)(e.skills.length)+')',1)]),(0,c.createElementVNode)('div',fs,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(e.skills,e=>((0,c.openBlock)(),(0,c.createElementBlock)('div',{key:e.name,class:'selected-item'},[(0,c.createElementVNode)('div',ks,[(0,c.createElementVNode)('div',Ns,(0,c.toDisplayString)(e.name),1),(0,c.createElementVNode)('div',ys,(0,c.toDisplayString)(e.cost)+' 点',1)]),(0,c.createElementVNode)('button',{class:'remove-btn',onClick:t=>o(e,'skill')},'×',8,Es)]))),128))])])):(0,c.createCommentVNode)('v-if',!0),(0,c.createCommentVNode)(' 空状态 '),0===(0,c.unref)(s)?((0,c.openBlock)(),(0,c.createElementBlock)('div',gs,[...a[5]||(a[5]=[(0,c.createElementVNode)('div',{class:'empty-icon'},'🎯',-1),(0,c.createElementVNode)('div',{class:'empty-text'},'还没有选择任何物品',-1)])])):(0,c.createCommentVNode)('v-if',!0)]),(0,c.createElementVNode)('div',bs,[(0,c.createElementVNode)('div',hs,[a[6]||(a[6]=(0,c.createElementVNode)('span',{class:'label'},'总消耗：',-1)),(0,c.createElementVNode)('span',Bs,(0,c.toDisplayString)((0,c.unref)(r))+' 点',1)]),(0,c.unref)(s)>0?((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:0,class:'clear-btn',onClick:n},'清空全部')):(0,c.createCommentVNode)('v-if',!0)])]))}}),Ss=(0,r.A)(Cs,[['__scopeId','data-v-37b9b237']]),Ds={class:'selections'},ws={class:'selections-container'},xs={class:'selection-area'},_s={class:'selection-main'},qs={class:'category-sidebar'},Ps={class:'category-list'},$s=['onClick'],Is={key:0,class:'sub-category-list'},Ls=['onClick'],Ms={class:'items-content'},As={class:'custom-area'},Us={class:'summary-area'},Fs=(0,c.defineComponent)({__name:'index',setup(e){const t=k(),a=(0,c.inject)('randomGenerateTrigger',(0,c.ref)(0)),l=(0,c.inject)('resetPageTrigger',(0,c.ref)(0)),o=(0,c.ref)('equipment'),n=(0,c.ref)(''),s=(0,c.ref)('all'),r={Money:'初始携带货币'},i=(0,c.computed)(()=>An||Mn),d=(0,c.computed)(()=>Fn||Un),m=(0,c.computed)(()=>zn?.ActiveSkills||Rn),u=(0,c.computed)(()=>zn?.PassiveSkills||On),p=(0,c.computed)(()=>{switch(o.value){case'equipment':return Object.keys(i.value);case'item':return Object.keys(d.value);case'skill':return['主动技能','被动技能'];default:return[]}}),v=(0,c.computed)(()=>'skill'!==o.value?[]:'主动技能'===n.value?Object.keys(m.value):'被动技能'===n.value?Object.keys(u.value):[]),V=(0,c.ref)('');(0,c.watch)([o,n],()=>{'skill'===o.value&&n.value&&(V.value=v.value[0]||'')}),(0,c.watch)(o,()=>{n.value=p.value[0]||'',s.value='all'}),(0,c.onMounted)(()=>{n.value=p.value[0]||''});const f=(0,c.computed)(()=>{let e=[];switch(o.value){case'equipment':e=i.value[n.value]||[];break;case'item':e=d.value[n.value]||[];break;case'skill':'主动技能'===n.value?e=V.value?m.value[V.value]||[]:Object.values(m.value).flat():'被动技能'===n.value&&(e=V.value?u.value[V.value]||[]:Object.values(u.value).flat())}return'all'!==s.value?e.filter(e=>e.rarity===s.value):e}),N=(0,c.computed)(()=>{switch(o.value){case'equipment':return t.selectedEquipments;case'item':return t.selectedItems;case'skill':return t.selectedSkills;default:return[]}}),y=(0,c.computed)(()=>t.character.reincarnationPoints-t.consumedPoints),E=e=>{switch(o.value){case'equipment':t.addEquipment(e);break;case'item':t.addItem(e);break;case'skill':t.addSkill(e)}},g=e=>{switch(o.value){case'equipment':t.removeEquipment(e);break;case'item':t.removeItem(e);break;case'skill':t.removeSkill(e)}},b=(e,a)=>{switch(a){case'equipment':t.removeEquipment(e);break;case'item':t.removeItem(e);break;case'skill':t.removeSkill(e)}},h=()=>{t.clearSelections()};(0,c.watch)(a,()=>{(()=>{switch(o.value){case'equipment':t.selectedEquipments.splice(0);break;case'item':t.selectedItems.splice(0);break;case'skill':t.selectedSkills.splice(0)}const e=f.value;if(0===e.length)return;const a=Math.min(Math.floor(3*Math.random())+1,e.length),l=new Set;for(;l.size<a;){const t=Math.floor(Math.random()*e.length);if(!l.has(t)){l.add(t);const a=e[t];a.cost<=y.value&&E(a)}}})()}),(0,c.watch)(l,()=>{t.clearSelections(),o.value='equipment',n.value=p.value[0]||'',V.value='',s.value='all'});const B=(e,a)=>{switch(a){case'equipment':t.addEquipment(e);break;case'item':t.addItem(e);break;case'skill':t.addSkill(e)}};return(e,a)=>((0,c.openBlock)(),(0,c.createElementBlock)('div',Ds,[(0,c.createElementVNode)('div',ws,[(0,c.createCommentVNode)(' 上半部分：选择区域 '),(0,c.createElementVNode)('div',xs,[(0,c.createCommentVNode)(' 大分类标签 '),(0,c.createVNode)(Xn,{modelValue:o.value,'onUpdate:modelValue':a[0]||(a[0]=e=>o.value=e)},null,8,['modelValue']),(0,c.createCommentVNode)(' 选择主体区域：左侧导航 + 右侧列表 '),(0,c.createElementVNode)('div',_s,[(0,c.createCommentVNode)(' 左侧：子分类导航 '),(0,c.createElementVNode)('div',qs,[(0,c.createElementVNode)('div',Ps,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(p.value,e=>{return(0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,{key:e},[(0,c.createElementVNode)('button',{class:(0,c.normalizeClass)(['category-item',{active:n.value===e}]),onClick:t=>n.value=e},(0,c.toDisplayString)((t=e,r[t]||t)),11,$s),(0,c.createCommentVNode)(' 技能的二级分类 '),'skill'===o.value&&n.value===e&&v.value.length>0?((0,c.openBlock)(),(0,c.createElementBlock)('div',Is,[((0,c.openBlock)(!0),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(v.value,e=>((0,c.openBlock)(),(0,c.createElementBlock)('button',{key:e,class:(0,c.normalizeClass)(['sub-category-item',{active:V.value===e}]),onClick:t=>V.value=e},(0,c.toDisplayString)(e),11,Ls))),128))])):(0,c.createCommentVNode)('v-if',!0)],64);var t}),128))])]),(0,c.createCommentVNode)(' 右侧：物品列表 '),(0,c.createElementVNode)('div',Ms,[(0,c.createCommentVNode)(' 品质筛选 '),(0,c.createVNode)(zc,{modelValue:s.value,'onUpdate:modelValue':a[1]||(a[1]=e=>s.value=e)},null,8,['modelValue']),(0,c.createCommentVNode)(' 物品列表 '),(0,c.createVNode)(Ac,{items:f.value,'selected-items':N.value,'available-points':y.value,onSelect:E,onDeselect:g},null,8,['items','selected-items','available-points'])])])]),(0,c.createCommentVNode)(' 自定义物品区域 '),(0,c.createElementVNode)('div',As,[(0,c.createVNode)(vc,{onAdd:B})]),(0,c.createCommentVNode)(' 下半部分：已选面板 '),(0,c.createElementVNode)('div',Us,[(0,c.createVNode)(Ss,{equipments:(0,c.unref)(t).selectedEquipments,items:(0,c.unref)(t).selectedItems,skills:(0,c.unref)(t).selectedSkills,'available-points':y.value,'total-points':(0,c.unref)(t).character.reincarnationPoints,'consumed-points':(0,c.unref)(t).consumedPoints,onRemove:b,onClear:h},null,8,['equipments','items','skills','available-points','total-points','consumed-points'])])])]))}}),Rs=[{path:'/',name:'Layout',component:R,redirect:'/basic',children:[{path:'basic',name:'BasicInfo',component:Vo,meta:{title:'基础信息与属性',step:1}},{path:'selections',name:'Selections',component:(0,r.A)(Fs,[['__scopeId','data-v-6a028d48']]),meta:{title:'装备与技能',step:2}},{path:'background',name:'Background',component:Ol,meta:{title:'红线对象与初始背景',step:3}},{path:'confirm',name:'Confirm',component:Ln,meta:{title:'确认提交',step:4}}]}],Os=(0,y.createRouter)({history:(0,y.createMemoryHistory)(),routes:Rs}),zs=(0,c.createApp)(d);$(()=>{zs.use(N),zs.use(Os),zs.mount('#app')});
//# sourceMappingURL=index.js.map</script><style>*{margin:0;padding:0;box-sizing:border-box}:root{--primary-bg:#f5efe6;--card-bg:rgba(240,230,210,0.95);--input-bg:#fff9f0;--border-color:#d4c4b0;--border-color-strong:#8b7355;--text-color:#3a3a3a;--text-light:#666666;--title-color:#5c4033;--accent-color:#d4af37;--error-color:#d32f2f;--success-color:#388e3c;--button-bg:#c6b8a5;--button-hover:#b0a295;--points-color:#5c4033;--border-color-light:#e0d5c7;--font-title:"Cinzel",serif;--font-body:"Segoe UI","Microsoft YaHei",sans-serif;--font-mono:"Monaco","Menlo",monospace;--spacing-xs:4px;--spacing-sm:8px;--spacing-md:12px;--spacing-lg:16px;--spacing-xl:24px;--spacing-2xl:32px;--radius-sm:2px;--radius-md:4px;--radius-lg:8px;--shadow-sm:0 1px 3px rgba(0,0,0,0.1);--shadow-md:0 2px 8px rgba(0,0,0,0.12);--shadow-lg:0 4px 16px rgba(0,0,0,0.15);--transition-fast:0.15s ease-in-out;--transition-normal:0.3s ease-in-out}body{font-family:var(--font-body);color:var(--text-color);line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{font-family:var(--font-title);font-weight:700;color:var(--title-color);line-height:1.4}h1{font-size:1.88rem;letter-spacing:1px}h2{font-size:1.5rem}h3{font-size:1.25rem}@media (max-width:768px){h1{font-size:1.5rem}h2{font-size:1.25rem}h3{font-size:1.1rem}}
.creator-app[data-v-15ec88ba]{background-color:#f5efe6}
.steps[data-v-4595f292]{width:100%;display:flex;align-items:center;gap:var(--spacing-xs);position:relative}.steps[data-v-4595f292]::-webkit-scrollbar{height:4px}.steps[data-v-4595f292]::-webkit-scrollbar-track{background:var(--border-color-light);border-radius:2px}.steps[data-v-4595f292]::-webkit-scrollbar-thumb{background:var(--accent-color);border-radius:2px}.steps[data-v-4595f292]::-webkit-scrollbar-thumb:hover{background:var(--button-hover)}.steps .step[data-v-4595f292]{flex:1;display:flex;align-items:center;justify-content:center;color:var(--title-color);font-size:16px;background:var(--border-color-light);margin-left:-6px;clip-path:polygon(15px 0,100% 0,calc(100% - 15px) 50%,100% 100%,15px 100%,0 50%);transition:var(--transition-normal);padding:8px 20px;position:relative}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 15px) 50%,100% 100%,0 100%,0 50%);padding-left:16px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(15px 0,100% 0,100% 50%,100% 100%,15px 100%,0 50%);padding-right:16px}.steps .step .title[data-v-4595f292]{text-align:center;width:100%;line-height:1.3;word-break:keep-all;overflow-wrap:break-word;padding:4px 0}.steps .pass[data-v-4595f292]{background:var(--accent-color);color:var(--primary-bg);font-weight:600}@media (max-width:1024px){.steps[data-v-4595f292]{gap:2px}.steps .step[data-v-4595f292]{font-size:14px;padding:6px 16px}.steps .step[data-v-4595f292]:first-child{padding-left:14px}.steps .step[data-v-4595f292]:last-child{padding-right:14px}.steps .step .title[data-v-4595f292]{font-size:13px;line-height:1.4}}@media (max-width:640px){.steps[data-v-4595f292]{gap:1px}.steps .step[data-v-4595f292]{font-size:12px;padding:8px 10px;margin-left:-4px;clip-path:polygon(12px 0,100% 0,calc(100% - 12px) 50%,100% 100%,12px 100%,0 50%)}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 12px) 50%,100% 100%,0 100%,0 50%);padding-left:10px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(12px 0,100% 0,100% 50%,100% 100%,12px 100%,0 50%);padding-right:10px}.steps .step .title[data-v-4595f292]{line-height:1.5}}@media (max-width:480px){.steps[data-v-4595f292]{gap:0}.steps .step[data-v-4595f292]{font-size:10px;padding:6px 8px;margin-left:-3px;clip-path:polygon(10px 0,100% 0,calc(100% - 10px) 50%,100% 100%,10px 100%,0 50%)}.steps .step[data-v-4595f292]:first-child{clip-path:polygon(0 0,100% 0,calc(100% - 10px) 50%,100% 100%,0 100%,0 50%);padding-left:8px;margin-left:0}.steps .step[data-v-4595f292]:last-child{clip-path:polygon(10px 0,100% 0,100% 50%,100% 100%,10px 100%,0 50%);padding-right:8px}.steps .step .title[data-v-4595f292]{line-height:1.5}}
.layout[data-v-78698970]{display:flex;flex-direction:column;min-height:500px;padding:var(--spacing-xl)}.main-title[data-v-78698970]{text-align:center;margin-bottom:var(--spacing-lg);color:var(--title-color)}.points-panel[data-v-78698970]{display:flex;justify-content:center;align-items:center;gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.points-display[data-v-78698970]{display:flex;align-items:baseline;gap:var(--spacing-sm);font-size:1.1rem;font-weight:600}.points-display .points-label[data-v-78698970]{color:var(--text-color)}.points-display .points-value[data-v-78698970]{font-size:1.5rem;font-weight:700;color:var(--accent-color);transition:var(--transition-normal)}.points-display .points-value.negative[data-v-78698970]{color:var(--error-color);animation:shake-78698970 .3s ease-in-out}.points-display .points-total[data-v-78698970]{color:var(--text-light);font-size:1rem}.roll-button[data-v-78698970]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-xs) var(--spacing-md);background:linear-gradient(135deg,var(--accent-color) 0%,#b8941f 100%);color:#fff;border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.roll-button[data-v-78698970]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);background:linear-gradient(135deg,#e0c04a 0%,#d4af37 100%)}.roll-button[data-v-78698970]:active:not(:disabled){transform:translateY(0);box-shadow:var(--shadow-sm)}.roll-button[data-v-78698970]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}.roll-button[data-v-78698970]:disabled:hover{transform:none;box-shadow:var(--shadow-sm)}@keyframes shake-78698970{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}.content-area[data-v-78698970]{margin:var(--spacing-md) 0;padding:var(--spacing-md);background:var(--card-bg);border-radius:var(--radius-lg);border:1px solid var(--border-color);box-shadow:var(--shadow-md);position:relative;overflow:hidden;min-height:400px}.slide-left-enter-active[data-v-78698970],.slide-left-leave-active[data-v-78698970]{transition:all .3s ease-out}.slide-left-enter-from[data-v-78698970]{opacity:0;transform:translateX(30px)}.slide-left-leave-to[data-v-78698970]{opacity:0;transform:translateX(-30px)}.slide-right-enter-active[data-v-78698970],.slide-right-leave-active[data-v-78698970]{transition:all .3s ease-out}.slide-right-enter-from[data-v-78698970]{opacity:0;transform:translateX(-30px)}.slide-right-leave-to[data-v-78698970]{opacity:0;transform:translateX(30px)}.navigation[data-v-78698970]{display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-lg)}.action-buttons[data-v-78698970]{display:flex;gap:var(--spacing-md);align-items:center;justify-content:center;margin-top:var(--spacing-md)}.action-button[data-v-78698970]{display:flex;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-lg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.95rem;font-weight:600;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.action-button .icon[data-v-78698970]{font-size:1.1rem}.action-button.random-button[data-v-78698970]{background:linear-gradient(135deg,#e8d5c4 0%,#d4c4b0 100%);color:var(--title-color)}.action-button.random-button[data-v-78698970]:hover{background:linear-gradient(135deg,#f0ddd0 0%,#e0d5c7 100%);transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-button.reset-button[data-v-78698970]{background:linear-gradient(135deg,#c6b8a5 0%,#b0a295 100%);color:var(--title-color)}.action-button.reset-button[data-v-78698970]:hover{background:linear-gradient(135deg,#d4c4b0 0%,#c6b8a5 100%);transform:translateY(-2px);box-shadow:var(--shadow-md)}.action-button[data-v-78698970]:active{transform:translateY(0);box-shadow:var(--shadow-sm)}.nav-button[data-v-78698970]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-xl);background:var(--button-bg);color:var(--title-color);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:16px;font-weight:600;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.nav-button[data-v-78698970]:hover:not(:disabled){background:var(--button-hover);transform:translateY(-2px);box-shadow:var(--shadow-md)}.nav-button[data-v-78698970]:active:not(:disabled){transform:translateY(0);box-shadow:var(--shadow-sm)}.nav-button[data-v-78698970]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}@media (max-width:768px){.layout[data-v-78698970]{padding:var(--spacing-md)}.points-display[data-v-78698970]{font-size:1rem}.points-display .points-value[data-v-78698970]{font-size:1.3rem}.action-buttons[data-v-78698970]{flex-wrap:wrap}.navigation[data-v-78698970]{flex-wrap:wrap;justify-content:center}.nav-button[data-v-78698970]{flex:1;min-width:120px;justify-content:center}.action-button[data-v-78698970]{flex:1}}
.background-category-nav[data-v-42bb04b4]{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-md);height:100%;overflow-y:auto}.background-category-nav[data-v-42bb04b4]::-webkit-scrollbar{width:6px}.background-category-nav[data-v-42bb04b4]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-sm)}.background-category-nav[data-v-42bb04b4]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.background-category-nav[data-v-42bb04b4]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.category-item[data-v-42bb04b4]{padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;color:var(--text-color);text-align:left;white-space:normal;word-wrap:break-word;line-height:1.4;min-height:32px;display:flex;align-items:center}.category-item[data-v-42bb04b4]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.category-item.active[data-v-42bb04b4]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600}@media (max-width:768px){.background-category-nav[data-v-42bb04b4]{padding:var(--spacing-xs) 4px}.category-item[data-v-42bb04b4]{font-size:.8rem;padding:4px var(--spacing-sm);min-height:28px}}
.form-textarea-wrapper[data-v-517d0cac]{position:relative;width:100%}.form-textarea[data-v-517d0cac]{width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;font-family:var(--font-body);color:var(--text-color);line-height:1.5;resize:vertical;transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-textarea.auto-resize[data-v-517d0cac]{resize:none;overflow-y:hidden}.form-textarea[data-v-517d0cac]::placeholder{color:var(--text-light)}.form-textarea[data-v-517d0cac]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-textarea[data-v-517d0cac]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-textarea.is-disabled[data-v-517d0cac]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-textarea.is-readonly[data-v-517d0cac]{background:var(--border-color-light);cursor:default}
.background-list[data-v-4f0236e3]{display:flex;flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-md);height:100%;overflow-y:auto}.background-list[data-v-4f0236e3]::-webkit-scrollbar{width:8px}.background-list[data-v-4f0236e3]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.background-list[data-v-4f0236e3]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.background-list[data-v-4f0236e3]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.empty-message[data-v-4f0236e3]{text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:1.1rem}.background-card[data-v-4f0236e3]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-fast)}.background-card[data-v-4f0236e3]:hover:not(.disabled){border-color:var(--accent-color);background:rgba(212,175,55,.1);transform:translateX(4px)}.background-card.selected[data-v-4f0236e3]{border-color:var(--accent-color);background:rgba(212,175,55,.15);box-shadow:var(--shadow-md);border-left-width:4px}.background-card.disabled[data-v-4f0236e3]{opacity:.6;cursor:not-allowed}.background-card.disabled[data-v-4f0236e3]:hover{transform:none}.background-card.expanded .background-details[data-v-4f0236e3]{max-height:1000px;opacity:1;margin-top:var(--spacing-sm)}.card-header[data-v-4f0236e3]{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-sm);margin-bottom:var(--spacing-sm)}.card-header .background-name[data-v-4f0236e3]{font-size:1.1rem;color:var(--title-color);margin:0;font-weight:600;flex:1}.card-header .expand-btn[data-v-4f0236e3]{padding:2px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;font-size:.75rem;color:var(--text-color);transition:all var(--transition-fast);white-space:nowrap}.card-header .expand-btn[data-v-4f0236e3]:hover{background:var(--accent-color);color:var(--primary-bg);border-color:var(--accent-color)}.background-summary[data-v-4f0236e3]{color:var(--text-color);line-height:1.6;margin:0;font-size:.9rem}.background-details[data-v-4f0236e3]{max-height:0;opacity:0;overflow:hidden;transition:all var(--transition-normal)}.background-description[data-v-4f0236e3]{color:var(--text-color);line-height:1.6;margin:0 0 var(--spacing-sm) 0;font-size:.9rem}.requirements[data-v-4f0236e3]{padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light);display:flex;flex-direction:column;gap:var(--spacing-xs)}.requirement-item[data-v-4f0236e3]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:.85rem}.requirement-item .requirement-label[data-v-4f0236e3]{color:var(--text-light);font-weight:500}.requirement-item .requirement-value[data-v-4f0236e3]{font-weight:600}.requirement-item .requirement-value.requirement-met[data-v-4f0236e3]{color:var(--success-color)}.requirement-item .requirement-value.requirement-unmet[data-v-4f0236e3]{color:var(--error-color)}.requirement-warning[data-v-4f0236e3]{margin-top:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:rgba(211,47,47,.1);border-left:3px solid var(--error-color);border-radius:var(--radius-sm);color:var(--error-color);font-size:.8rem;font-weight:500}.custom-input-area[data-v-4f0236e3]{margin-top:var(--spacing-md);padding-top:var(--spacing-md);border-top:2px dashed var(--border-color);animation:slideDown-4f0236e3 var(--transition-normal) ease-out}.custom-input-label[data-v-4f0236e3]{font-size:.9rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-sm)}@keyframes slideDown-4f0236e3{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width:768px){.background-list[data-v-4f0236e3]{padding:var(--spacing-sm);gap:var(--spacing-sm)}.background-card[data-v-4f0236e3]{padding:var(--spacing-sm)}.card-header .background-name[data-v-4f0236e3]{font-size:1rem}.background-summary[data-v-4f0236e3],.background-description[data-v-4f0236e3]{font-size:.85rem}}
.form-input-wrapper[data-v-68bda4ea]{position:relative;width:100%}.form-input[data-v-68bda4ea]{width:100%;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-input[data-v-68bda4ea]::placeholder{color:var(--text-light)}.form-input[data-v-68bda4ea]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-input[data-v-68bda4ea]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-input.is-disabled[data-v-68bda4ea]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-input.is-readonly[data-v-68bda4ea]{background:var(--border-color-light);cursor:default}
.form-label[data-v-2dd9d352]{display:inline-flex;align-items:center;gap:var(--spacing-xs);font-size:1rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);letter-spacing:.3px;cursor:pointer;transition:color var(--transition-fast)}.form-label[data-v-2dd9d352]:hover{color:var(--accent-color)}.form-label .required-mark[data-v-2dd9d352]{color:var(--error-color);font-weight:700;font-size:1.1rem;line-height:1}
.form-number-wrapper[data-v-1b44ae38]{position:relative;width:100%;display:flex;align-items:center}.form-number[data-v-1b44ae38]{flex:1;padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none}.form-number.has-controls[data-v-1b44ae38]{padding-right:36px;border-radius:var(--radius-md) 0 0 var(--radius-md);border-right:none}.form-number[data-v-1b44ae38]::-webkit-inner-spin-button,.form-number[data-v-1b44ae38]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.form-number[type=number][data-v-1b44ae38]{-moz-appearance:textfield}.form-number[data-v-1b44ae38]::placeholder{color:var(--text-light)}.form-number[data-v-1b44ae38]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-number[data-v-1b44ae38]:hover:not(:disabled):not(:focus){border-color:var(--border-color-strong)}.form-number.is-disabled[data-v-1b44ae38]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-number.is-readonly[data-v-1b44ae38]{background:var(--border-color-light);cursor:default}.number-controls[data-v-1b44ae38]{display:flex;flex-direction:column;gap:0;border:1px solid var(--border-color);border-left:none;border-radius:0 var(--radius-md) var(--radius-md) 0;background:var(--button-bg);overflow:hidden}.number-controls .control-btn[data-v-1b44ae38]{width:32px;height:20px;padding:0;border:0;background:rgba(0,0,0,0);color:var(--text-color);font-size:.7rem;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center}.number-controls .control-btn[data-v-1b44ae38]:hover:not(:disabled){background:var(--button-hover);color:var(--accent-color)}.number-controls .control-btn[data-v-1b44ae38]:active:not(:disabled){background:var(--border-color-strong)}.number-controls .control-btn[data-v-1b44ae38]:disabled{opacity:.4;cursor:not-allowed}.number-controls .control-btn.up[data-v-1b44ae38]{border-bottom:1px solid var(--border-color)}
.custom-destined-form[data-v-fdfdc7ae]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;transition:all var(--transition-normal)}.custom-destined-form:not(.expanded) .form-header[data-v-fdfdc7ae]{border-bottom:none}.custom-destined-form .form-header[data-v-fdfdc7ae]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(139,69,19,0.1) 0%,rgba(139,69,19,0.05) 100%);border-bottom:2px solid var(--border-color);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;justify-content:space-between;align-items:center;transition:all var(--transition-fast)}.custom-destined-form .form-header[data-v-fdfdc7ae]:hover{background:linear-gradient(135deg,rgba(139,69,19,0.15) 0%,rgba(139,69,19,0.08) 100%)}.custom-destined-form .form-header .header-left[data-v-fdfdc7ae]{flex:1}.custom-destined-form .form-header .form-title[data-v-fdfdc7ae]{font-size:1.1rem;margin:0 0 var(--spacing-xs) 0;color:var(--title-color);font-weight:700}.custom-destined-form .form-header .form-desc[data-v-fdfdc7ae]{font-size:.85rem;color:var(--text-light)}.custom-destined-form .form-header .toggle-icon[data-v-fdfdc7ae]{font-size:.9rem;color:var(--text-light);transition:transform var(--transition-fast);margin-left:var(--spacing-md)}.custom-destined-form .form-header .toggle-icon.rotated[data-v-fdfdc7ae]{transform:rotate(180deg)}.custom-destined-form .form-body[data-v-fdfdc7ae]{padding:var(--spacing-lg);max-height:70vh;overflow-y:auto}.custom-destined-form .form-row[data-v-fdfdc7ae]{margin-bottom:var(--spacing-md)}.custom-destined-form .form-row[data-v-fdfdc7ae]:last-child{margin-bottom:0}.custom-destined-form .radio-group[data-v-fdfdc7ae]{display:flex;gap:var(--spacing-md)}.custom-destined-form .level-buttons[data-v-fdfdc7ae]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--spacing-xs)}.custom-destined-form .level-btn[data-v-fdfdc7ae]{padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color);white-space:nowrap}.custom-destined-form .level-btn[data-v-fdfdc7ae]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.custom-destined-form .level-btn.active[data-v-fdfdc7ae]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600;box-shadow:0 2px 4px rgba(212,175,55,.3)}.custom-destined-form .radio-label[data-v-fdfdc7ae]{display:flex;align-items:center;gap:var(--spacing-xs);cursor:pointer;font-size:.9rem;color:var(--text-color)}.custom-destined-form .radio-label input[type=radio][data-v-fdfdc7ae]{cursor:pointer}.custom-destined-form .cost-info[data-v-fdfdc7ae]{margin-top:var(--spacing-xs);font-size:.85rem;color:var(--text-light)}.custom-destined-form .cost-info .cost-value[data-v-fdfdc7ae]{font-size:1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono);margin:0 var(--spacing-xs)}.custom-destined-form .form-actions[data-v-fdfdc7ae]{display:flex;gap:var(--spacing-md);margin-top:var(--spacing-lg);padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.custom-destined-form .btn-reset[data-v-fdfdc7ae],.custom-destined-form .btn-submit[data-v-fdfdc7ae]{flex:1;padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.custom-destined-form .btn-reset[data-v-fdfdc7ae]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.custom-destined-form .btn-reset[data-v-fdfdc7ae]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.custom-destined-form .btn-submit[data-v-fdfdc7ae]{background:var(--accent-color);color:var(--primary-bg)}.custom-destined-form .btn-submit[data-v-fdfdc7ae]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.custom-destined-form .btn-submit[data-v-fdfdc7ae]:disabled{opacity:.5;cursor:not-allowed}.custom-destined-form .field-hint[data-v-fdfdc7ae]{margin-top:var(--spacing-xs);font-size:.8rem;color:var(--text-light);font-style:italic}@media (max-width:768px){.custom-destined-form .form-header[data-v-fdfdc7ae]{padding:var(--spacing-sm) var(--spacing-md)}.custom-destined-form .form-header .header-left .form-title[data-v-fdfdc7ae]{font-size:1rem}.custom-destined-form .form-header .header-left .form-desc[data-v-fdfdc7ae]{font-size:.8rem}.custom-destined-form .form-header .toggle-icon[data-v-fdfdc7ae]{font-size:.85rem}.custom-destined-form .form-body[data-v-fdfdc7ae]{padding:var(--spacing-md);max-height:60vh}.custom-destined-form .form-row[data-v-fdfdc7ae]{margin-bottom:var(--spacing-sm)}.custom-destined-form .level-buttons[data-v-fdfdc7ae]{grid-template-columns:repeat(2,1fr)}.custom-destined-form .level-btn[data-v-fdfdc7ae]{padding:6px var(--spacing-sm);font-size:.8rem}.custom-destined-form .form-actions[data-v-fdfdc7ae]{flex-direction:column;gap:var(--spacing-sm)}}
.destined-one-list[data-v-4a1f1a86]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:var(--spacing-lg);padding:var(--spacing-md)}.empty-message[data-v-4a1f1a86]{grid-column:1/-1;text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:1.1rem}.destined-one-card[data-v-4a1f1a86]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-fast)}.destined-one-card[data-v-4a1f1a86]:hover:not(.disabled){transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--accent-color)}.destined-one-card.selected[data-v-4a1f1a86]{border-color:var(--accent-color);background:rgba(212,175,55,.15);box-shadow:var(--shadow-md)}.destined-one-card.disabled[data-v-4a1f1a86]{opacity:.5;cursor:not-allowed}.destined-one-card.expanded .card-body[data-v-4a1f1a86]{max-height:10000px;opacity:1}.card-header[data-v-4a1f1a86]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-color)}.card-header .item-name[data-v-4a1f1a86]{font-size:1.2rem;color:var(--title-color);margin:0;flex:1}.card-header .header-actions[data-v-4a1f1a86]{display:flex;align-items:center;gap:var(--spacing-sm)}.card-header .item-cost[data-v-4a1f1a86]{font-weight:600;color:var(--accent-color);font-size:1rem}.card-header .expand-btn[data-v-4a1f1a86]{padding:2px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;font-size:.8rem;color:var(--text-color);transition:all var(--transition-fast)}.card-header .expand-btn[data-v-4a1f1a86]:hover{background:var(--accent-color);color:var(--primary-bg);border-color:var(--accent-color)}.card-summary[data-v-4a1f1a86]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-xs);margin-bottom:var(--spacing-sm)}.card-summary .summary-row[data-v-4a1f1a86]{display:flex;gap:var(--spacing-xs);font-size:.85rem}.card-summary .summary-row .label[data-v-4a1f1a86]{color:var(--text-light);white-space:nowrap}.card-summary .summary-row .value[data-v-4a1f1a86]{color:var(--text-color);font-weight:500}.card-body[data-v-4a1f1a86]{display:flex;flex-direction:column;gap:var(--spacing-md);max-height:0;opacity:0;overflow:hidden;transition:all var(--transition-normal)}.info-section[data-v-4a1f1a86]{padding:var(--spacing-sm) 0;border-bottom:1px solid var(--border-color-light)}.info-section[data-v-4a1f1a86]:last-child{border-bottom:none}.info-row[data-v-4a1f1a86]{display:grid;grid-template-columns:auto 1fr;gap:var(--spacing-sm);font-size:.9rem;line-height:1.6;margin-bottom:var(--spacing-xs)}.info-row .label[data-v-4a1f1a86]{color:var(--text-light);font-weight:500;white-space:nowrap}.info-row .value[data-v-4a1f1a86]{color:var(--text-color);word-break:break-word}.info-block[data-v-4a1f1a86]{margin-bottom:var(--spacing-sm)}.info-block[data-v-4a1f1a86]:last-child{margin-bottom:0}.block-title[data-v-4a1f1a86]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.95rem}.block-content[data-v-4a1f1a86]{color:var(--text-color);line-height:1.6;font-size:.85rem}.attributes[data-v-4a1f1a86]{display:grid;grid-template-columns:repeat(auto-fit,minmax(70px,1fr));gap:var(--spacing-xs)}.attr-item[data-v-4a1f1a86]{display:flex;align-items:center;gap:var(--spacing-xs);padding:4px var(--spacing-xs);background:rgba(212,175,55,.05);border-radius:var(--radius-sm)}.attr-item .attr-label[data-v-4a1f1a86]{color:var(--text-light);font-size:.8rem}.attr-item .attr-value[data-v-4a1f1a86]{color:var(--accent-color);font-weight:600;font-size:.85rem}.equipment-list[data-v-4a1f1a86],.skills-list[data-v-4a1f1a86]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.equipment-item[data-v-4a1f1a86],.skill-item[data-v-4a1f1a86]{padding:var(--spacing-sm);background:rgba(0,0,0,.02);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm)}.equip-name[data-v-4a1f1a86],.skill-name[data-v-4a1f1a86]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.9rem}.equip-info[data-v-4a1f1a86],.skill-tag[data-v-4a1f1a86],.skill-consume[data-v-4a1f1a86]{font-size:.8rem;color:var(--text-light);margin-bottom:var(--spacing-xs)}.equip-desc[data-v-4a1f1a86],.skill-effect[data-v-4a1f1a86],.skill-desc[data-v-4a1f1a86]{font-size:.8rem;color:var(--text-color);line-height:1.5;margin-bottom:var(--spacing-xs)}.equip-desc[data-v-4a1f1a86]:last-child,.skill-effect[data-v-4a1f1a86]:last-child,.skill-desc[data-v-4a1f1a86]:last-child{margin-bottom:0}.skill-header[data-v-4a1f1a86]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-xs)}.skill-header .skill-type[data-v-4a1f1a86]{font-size:.75rem;padding:2px var(--spacing-xs);background:var(--accent-color);color:var(--primary-bg);border-radius:var(--radius-sm)}.stairway-content[data-v-4a1f1a86]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.stairway-section[data-v-4a1f1a86]{padding:var(--spacing-xs);background:rgba(0,0,0,.02);border-radius:var(--radius-sm)}.stairway-label[data-v-4a1f1a86]{font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-xs);font-size:.85rem}.stairway-item[data-v-4a1f1a86]{font-size:.8rem;color:var(--text-color);margin-bottom:var(--spacing-xs);line-height:1.5}.stairway-item[data-v-4a1f1a86]:last-child{margin-bottom:0}.stairway-desc[data-v-4a1f1a86]{font-size:.8rem;color:var(--text-light);line-height:1.5;margin-top:var(--spacing-xs)}.comment[data-v-4a1f1a86]{margin-top:var(--spacing-sm);padding:var(--spacing-sm);background:rgba(212,175,55,.1);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm);font-style:italic;color:var(--text-color);font-size:.85rem;line-height:1.6}@media (max-width:768px){.destined-one-list[data-v-4a1f1a86]{grid-template-columns:1fr;gap:var(--spacing-md);padding:var(--spacing-sm)}.destined-one-card[data-v-4a1f1a86]{padding:var(--spacing-sm)}.card-header[data-v-4a1f1a86]{flex-wrap:wrap;gap:var(--spacing-xs)}.card-header .item-name[data-v-4a1f1a86]{font-size:1.1rem;flex-basis:100%}.card-header .header-actions[data-v-4a1f1a86]{flex-basis:100%;justify-content:space-between}.card-header .item-cost[data-v-4a1f1a86]{font-size:.9rem}.card-summary[data-v-4a1f1a86]{grid-template-columns:1fr}.attributes[data-v-4a1f1a86]{grid-template-columns:repeat(2,1fr)}}
.form-radio-group[data-v-b212c72e]{display:flex;gap:var(--spacing-sm)}.form-radio-group.layout-vertical[data-v-b212c72e]{flex-direction:column}.form-radio-group.layout-horizontal[data-v-b212c72e]{flex-direction:row;flex-wrap:wrap}.radio-option[data-v-b212c72e]{display:flex;align-items:flex-start;gap:var(--spacing-md);padding:var(--spacing-md);cursor:pointer;border-radius:var(--radius-md);transition:all var(--transition-normal);background:var(--input-bg);border:1px solid var(--border-color);position:relative}.radio-option[data-v-b212c72e]:hover:not(.is-disabled){background:var(--card-bg);border-color:var(--accent-color);box-shadow:var(--shadow-md)}.radio-option.is-checked[data-v-b212c72e]{background:var(--card-bg);border-color:var(--accent-color);box-shadow:var(--shadow-md)}.radio-option.is-checked .radio-label[data-v-b212c72e]{color:var(--accent-color);font-weight:600}.radio-option.is-disabled[data-v-b212c72e]{opacity:.6;cursor:not-allowed}.radio-option.is-disabled[data-v-b212c72e]:hover{transform:none;box-shadow:none}.radio-option .radio-input[data-v-b212c72e]{position:absolute;opacity:0;width:0;height:0}.radio-option .radio-indicator[data-v-b212c72e]{width:20px;height:20px;min-width:20px;border-radius:50%;border:2px solid var(--border-color);background:#fff;flex-shrink:0;margin-top:2px;transition:all var(--transition-normal);position:relative;display:flex;align-items:center;justify-content:center}.radio-option .radio-indicator[data-v-b212c72e]::after{content:"";width:10px;height:10px;border-radius:50%;background:var(--accent-color);transform:scale(0);transition:transform var(--transition-fast)}.radio-option .radio-input:focus-visible~.radio-indicator[data-v-b212c72e]{box-shadow:0 0 0 3px rgba(212,175,55,.2)}.radio-option:hover:not(.is-disabled) .radio-indicator[data-v-b212c72e]{border-color:var(--accent-color)}.radio-option .radio-input:checked~.radio-indicator[data-v-b212c72e]{border-color:var(--accent-color);background:#fff}.radio-option .radio-input:checked~.radio-indicator[data-v-b212c72e]::after{transform:scale(1)}.radio-option .radio-label[data-v-b212c72e]{color:var(--text-color);font-size:1rem;line-height:1.5;word-break:break-word;flex:1;transition:color var(--transition-fast)}
.form-select-wrapper[data-v-6f040dd7]{position:relative;width:100%}.form-select[data-v-6f040dd7]{width:100%;padding:var(--spacing-sm) var(--spacing-md);padding-right:36px;background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:1rem;color:var(--text-color);transition:all var(--transition-normal);box-shadow:var(--shadow-sm);outline:none;cursor:pointer;-webkit-appearance:none;appearance:none}.form-select[data-v-6f040dd7]:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(212,175,55,.1);background:#fff}.form-select[data-v-6f040dd7]:hover:not(:disabled){border-color:var(--border-color-strong)}.form-select.is-disabled[data-v-6f040dd7]{opacity:.6;cursor:not-allowed;background:var(--border-color-light)}.form-select option[data-v-6f040dd7]{background:var(--input-bg);color:var(--text-color);padding:var(--spacing-sm)}.form-select option[data-v-6f040dd7]:disabled{color:var(--text-light)}.select-arrow[data-v-6f040dd7]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--accent-color);font-size:.7rem;pointer-events:none;transition:transform var(--transition-normal)}.form-select:focus~.select-arrow[data-v-6f040dd7]{transform:translateY(-50%) rotate(180deg)}
.form-stepper[data-v-30202c02]{display:flex;align-items:center;gap:var(--spacing-md)}.stepper-label[data-v-30202c02]{font-size:1rem;font-weight:600;color:var(--title-color);min-width:60px}.stepper-controls[data-v-30202c02]{display:flex;align-items:center;gap:var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-xs)}.stepper-btn[data-v-30202c02]{width:32px;height:32px;border:1px solid var(--border-color);background:var(--button-bg);color:var(--text-color);border-radius:var(--radius-sm);font-size:1.2rem;font-weight:700;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;line-height:1}.stepper-btn[data-v-30202c02]:hover:not(:disabled){background:var(--button-hover);border-color:var(--accent-color);color:var(--accent-color)}.stepper-btn[data-v-30202c02]:active:not(:disabled){transform:scale(0.95)}.stepper-btn[data-v-30202c02]:disabled{opacity:.4;cursor:not-allowed;background:var(--border-color-light)}.stepper-btn.decrement[data-v-30202c02]:hover:not(:disabled){color:var(--error-color);border-color:var(--error-color)}.stepper-btn.increment[data-v-30202c02]:hover:not(:disabled){color:var(--success-color);border-color:var(--success-color)}.stepper-value[data-v-30202c02]{min-width:40px;text-align:center;font-weight:600;font-size:1.1rem;color:var(--text-color);-webkit-user-select:none;user-select:none}
.destiny-exchange[data-v-a46a61a0]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md)}.exchange-header[data-v-a46a61a0]{display:flex;align-items:center;gap:var(--spacing-xs);margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.exchange-header .exchange-icon[data-v-a46a61a0]{font-size:1.2rem}.exchange-header .exchange-title[data-v-a46a61a0]{font-size:1rem;font-weight:600;color:var(--title-color)}.exchange-header .exchange-rate[data-v-a46a61a0]{font-size:.85rem;color:var(--text-light)}.exchange-body[data-v-a46a61a0]{display:flex;align-items:center;gap:var(--spacing-md)}.exchange-body .current-display[data-v-a46a61a0]{display:flex;align-items:baseline;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:linear-gradient(135deg,rgba(156,39,176,0.1) 0%,rgba(156,39,176,0.05) 100%);border:1px solid rgba(156,39,176,.3);border-radius:var(--radius-md);white-space:nowrap}.exchange-body .current-display .label[data-v-a46a61a0]{font-size:.9rem;color:var(--text-light)}.exchange-body .current-display .value[data-v-a46a61a0]{font-size:1.2rem;font-weight:700;color:#9c27b0;font-family:var(--font-mono);min-width:40px;text-align:right}.exchange-body .exchange-controls[data-v-a46a61a0]{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.exchange-body .exchange-controls .exchange-input[data-v-a46a61a0]{width:140px}.exchange-body .exchange-controls .exchange-button[data-v-a46a61a0],.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]{padding:var(--spacing-sm) var(--spacing-lg);background:linear-gradient(135deg,#9c27b0 0%,#7b1fa2 100%);color:#fff;border:none;border-radius:var(--radius-md);font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition-normal);white-space:nowrap}.exchange-body .exchange-controls .exchange-button[data-v-a46a61a0]:hover:not(:disabled),.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]:hover:not(:disabled){background:linear-gradient(135deg,#ab47bc 0%,#8e24aa 100%);transform:translateY(-1px);box-shadow:var(--shadow-sm)}.exchange-body .exchange-controls .exchange-button[data-v-a46a61a0]:active:not(:disabled),.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]:active:not(:disabled){transform:translateY(0)}.exchange-body .exchange-controls .exchange-button[data-v-a46a61a0]:disabled,.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color-light);color:var(--text-light)}.exchange-body .exchange-controls .exchange-button[data-v-a46a61a0]:disabled:hover,.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]:disabled:hover{transform:none;box-shadow:none}.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]{background:linear-gradient(135deg,#d4af37 0%,#b8941f 100%)}.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]:hover:not(:disabled){background:linear-gradient(135deg,#e0c04a 0%,#c9a842 100%)}@media (max-width:768px){.exchange-body[data-v-a46a61a0]{flex-direction:column;align-items:stretch}.exchange-body .current-display[data-v-a46a61a0]{justify-content:space-between}.exchange-body .exchange-controls[data-v-a46a61a0]{flex-wrap:wrap}.exchange-body .exchange-controls .exchange-input[data-v-a46a61a0]{flex:1}.exchange-body .exchange-controls .exchange-button[data-v-a46a61a0],.exchange-body .exchange-controls .exchange-all-button[data-v-a46a61a0]{flex-shrink:0}}
.level-tabs[data-v-18f949f6]{display:flex;gap:var(--spacing-md);padding:var(--spacing-md) 0}.level-tab[data-v-18f949f6]{flex:1;padding:var(--spacing-md) var(--spacing-lg);background:var(--input-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);cursor:pointer;transition:all var(--transition-fast);text-align:center;font-size:1.1rem;font-weight:600;color:var(--title-color)}.level-tab[data-v-18f949f6]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1);transform:translateY(-2px)}.level-tab.active[data-v-18f949f6]{background:var(--accent-color);border-color:var(--accent-color);box-shadow:var(--shadow-md);color:var(--primary-bg)}@media (max-width:768px){.level-tabs[data-v-18f949f6]{gap:var(--spacing-sm)}.level-tab[data-v-18f949f6]{padding:var(--spacing-sm) var(--spacing-md);font-size:.95rem}}
.background-page[data-v-259b064e]{display:flex;flex-direction:column;gap:var(--spacing-xl);max-width:1600px;margin:0 auto;padding:var(--spacing-md)}.section-title[data-v-259b064e]{font-size:1.5rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-color)}.destined-ones-section[data-v-259b064e]{display:flex;flex-direction:column}.destined-ones-section .section-title[data-v-259b064e]{margin-bottom:0}.destined-ones-content[data-v-259b064e]{max-height:600px;overflow-y:auto;border:2px solid var(--border-color);border-radius:var(--radius-lg);background:var(--input-bg)}.destined-ones-content[data-v-259b064e]::-webkit-scrollbar{width:10px}.destined-ones-content[data-v-259b064e]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.destined-ones-content[data-v-259b064e]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.destined-ones-content[data-v-259b064e]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.background-section[data-v-259b064e]{display:flex;flex-direction:column}.background-container[data-v-259b064e]{display:grid;grid-template-columns:200px 1fr;gap:0;height:500px;max-height:500px;border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden}.background-sidebar[data-v-259b064e]{background:var(--card-bg);border-right:2px solid var(--border-color-strong);height:100%;overflow:hidden}.background-content[data-v-259b064e]{background:var(--input-bg);height:100%;overflow:hidden}.summary-section[data-v-259b064e]{position:sticky;bottom:0}.summary-card[data-v-259b064e]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md)}.summary-header[data-v-259b064e]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color)}.summary-title-row[data-v-259b064e]{display:flex;align-items:center;gap:var(--spacing-md)}.summary-title[data-v-259b064e]{font-size:1.2rem;color:var(--title-color);margin:0}.points-info[data-v-259b064e]{display:flex;align-items:baseline;gap:var(--spacing-xs);font-size:1rem;font-weight:600}.points-info .points-value[data-v-259b064e]{color:var(--accent-color);font-size:1.2rem}.points-info .points-value.insufficient[data-v-259b064e]{color:var(--error-color)}.points-info .points-separator[data-v-259b064e]{color:var(--text-light);font-size:1rem}.points-info .points-total[data-v-259b064e]{color:var(--text-light);font-size:1rem}.clear-btn[data-v-259b064e]{padding:var(--spacing-xs) var(--spacing-md);background:var(--error-color);color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:500;transition:all var(--transition-fast)}.clear-btn[data-v-259b064e]:hover{background:#b71c1c;transform:translateY(-1px)}.clear-btn[data-v-259b064e]:active{transform:translateY(0)}.summary-content[data-v-259b064e]{display:flex;flex-direction:column;gap:var(--spacing-md)}.summary-group[data-v-259b064e]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.summary-label[data-v-259b064e]{font-weight:600;color:var(--title-color);font-size:.95rem}.summary-items[data-v-259b064e]{display:flex;flex-wrap:wrap;gap:var(--spacing-sm)}.summary-item[data-v-259b064e]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);font-size:.85rem}.summary-item.full[data-v-259b064e]{flex:1 1 100%}.summary-item .item-name[data-v-259b064e]{color:var(--text-color)}.summary-item .item-cost[data-v-259b064e]{color:var(--accent-color);font-weight:600}.empty-state[data-v-259b064e]{text-align:center;padding:var(--spacing-2xl);color:var(--text-light);font-size:.95rem}@media (max-width:768px){.background-page[data-v-259b064e]{gap:var(--spacing-md);padding:var(--spacing-sm)}.section-title[data-v-259b064e]{font-size:1.3rem}.destined-ones-content[data-v-259b064e]{max-height:500px}.background-container[data-v-259b064e]{grid-template-columns:120px 1fr;height:450px}.summary-section[data-v-259b064e]{position:static}.summary-items[data-v-259b064e]{flex-direction:column}.summary-item[data-v-259b064e]{justify-content:space-between}}@media (max-width:480px){.background-container[data-v-259b064e]{grid-template-columns:100px 1fr;height:400px}.section-title[data-v-259b064e]{font-size:1.1rem}.summary-header[data-v-259b064e]{flex-wrap:wrap;gap:var(--spacing-sm)}.summary-title-row[data-v-259b064e]{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs);flex:1 1 100%}.clear-btn[data-v-259b064e]{width:100%}}
.form-row[data-v-56d4e153]{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.form-row.full-width[data-v-56d4e153]{grid-template-columns:1fr}.form-field[data-v-56d4e153]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.form-field label[data-v-56d4e153]{font-weight:600;color:var(--accent-color);font-size:1rem;display:flex;align-items:center;gap:var(--spacing-xs);letter-spacing:.5px}.form-field label.required[data-v-56d4e153]::after{content:"*";color:#ff6b6b;font-weight:bold;margin-left:2px}.level-input-group[data-v-56d4e153]{display:flex;align-items:center;gap:var(--spacing-md)}.level-input-group .number-input-wrapper[data-v-56d4e153]{flex:1}.level-input-group .level-indicator[data-v-56d4e153]{padding:var(--spacing-sm) var(--spacing-md);background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--accent-color);font-weight:600;font-size:.9rem;white-space:nowrap}.attributes-panel[data-v-56d4e153]{margin:var(--spacing-2xl) 0 0;background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-sm)}.attributes-panel .panel-header[data-v-56d4e153]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(to bottom,var(--primary-bg),var(--card-bg));border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.attributes-panel .panel-header h3[data-v-56d4e153]{margin:0;color:var(--title-color);font-size:1.2rem;font-weight:700}.attributes-panel .panel-header .ap-info[data-v-56d4e153]{font-size:1rem;color:var(--text-color)}.attributes-panel .panel-header .ap-info strong[data-v-56d4e153]{color:var(--accent-color);font-size:1.2rem}.attributes-panel .panel-header .ap-info strong.error[data-v-56d4e153]{color:var(--error-color)}.attributes-panel .panel-header .ap-info strong.success[data-v-56d4e153]{color:var(--success-color)}.attributes-panel .panel-content[data-v-56d4e153]{padding:var(--spacing-lg)}.attributes-panel .attributes-grid[data-v-56d4e153]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-lg);margin-bottom:var(--spacing-lg)}.attributes-panel .attribute-item[data-v-56d4e153]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.attributes-panel .attribute-display[data-v-56d4e153]{font-size:.8rem;color:var(--text-color-secondary);text-align:center;padding:var(--spacing-xs) 0;background:var(--primary-bg);border-radius:var(--radius-sm);border:1px solid var(--border-color)}.attributes-panel .attribute-display .dim[data-v-56d4e153]{opacity:.7}.attributes-panel .attribute-display .final-value[data-v-56d4e153]{color:var(--accent-color);font-weight:bold}.attributes-panel .status-message[data-v-56d4e153]{padding:var(--spacing-md);border-radius:var(--radius-md);text-align:center;font-weight:600;font-size:1rem;border:1px solid}.attributes-panel .status-message.error[data-v-56d4e153]{background:rgba(211,47,47,.1);color:var(--error-color);border-color:var(--error-color)}.attributes-panel .status-message.success[data-v-56d4e153]{background:rgba(56,142,60,.1);color:var(--success-color);border-color:var(--success-color)}.attributes-panel .status-message.info[data-v-56d4e153]{background:rgba(212,175,55,.1);color:var(--accent-color);border-color:var(--accent-color)}@media (max-width:768px){.form-row[data-v-56d4e153]{grid-template-columns:1fr}.form-row.full-width[data-v-56d4e153]{grid-template-columns:1fr}.level-input-group[data-v-56d4e153]{flex-direction:column;align-items:stretch}.location-field .location-options[data-v-56d4e153]{max-height:300px}.location-field .location-option .location-label[data-v-56d4e153]{font-size:.85rem}.attributes-panel .panel-header[data-v-56d4e153]{flex-direction:column;align-items:stretch}.attributes-panel .attributes-grid[data-v-56d4e153]{grid-template-columns:1fr}}
.confirm-page[data-v-eb60bc26]{max-width:900px;margin:0 auto}.confirm-panel[data-v-eb60bc26]{overflow:hidden}.panel-header[data-v-eb60bc26]{text-align:center;padding:var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:2px solid var(--border-color)}.panel-header .panel-title[data-v-eb60bc26]{font-size:1.6rem;color:var(--title-color);margin:0 0 var(--spacing-xs) 0;font-weight:700}.panel-header .panel-subtitle[data-v-eb60bc26]{font-size:.95rem;color:var(--text-light);margin:0}.panel-content[data-v-eb60bc26]{padding:var(--spacing-lg)}.points-section[data-v-eb60bc26]{background:linear-gradient(135deg,rgba(212,175,55,0.05) 0%,rgba(212,175,55,0.02) 100%);border:2px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md) !important;margin-bottom:var(--spacing-lg) !important}.points-grid[data-v-eb60bc26]{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-md)}.points-grid .point-item[data-v-eb60bc26]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs);padding:var(--spacing-sm);background:var(--card-bg);border-radius:var(--radius-md)}.points-grid .point-item.destiny[data-v-eb60bc26]{background:linear-gradient(135deg,rgba(156,39,176,0.1) 0%,rgba(156,39,176,0.05) 100%)}.points-grid .point-item .point-label[data-v-eb60bc26]{font-size:.85rem;color:var(--text-light);font-weight:500}.points-grid .point-item .point-value[data-v-eb60bc26]{font-size:1.5rem;font-weight:700;font-family:var(--font-mono);color:var(--text-color)}.points-grid .point-item .point-value.gold[data-v-eb60bc26]{color:var(--accent-color)}.points-grid .point-item .point-value.purple[data-v-eb60bc26]{color:#9c27b0}.points-grid .point-item .point-value.positive[data-v-eb60bc26]{color:var(--success-color)}.points-grid .point-item .point-value.negative[data-v-eb60bc26]{color:var(--error-color)}.doc-section[data-v-eb60bc26]{padding:var(--spacing-lg) 0}.doc-section[data-v-eb60bc26]:last-child{border-bottom:none;padding-bottom:0}.doc-section[data-v-eb60bc26]:first-child{padding-top:0}.section-title[data-v-eb60bc26]{font-size:1.2rem;color:var(--title-color);margin:0 0 var(--spacing-md) 0;font-weight:700}.doc-text[data-v-eb60bc26]{line-height:1.8;color:var(--text-color)}.doc-text p[data-v-eb60bc26]{margin:0 0 var(--spacing-sm) 0}.doc-text p[data-v-eb60bc26]:last-child{margin-bottom:0}.doc-text p strong[data-v-eb60bc26]{color:var(--text-light);font-weight:600}.doc-text.attributes[data-v-eb60bc26]{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--spacing-sm) var(--spacing-lg)}.doc-text.attributes .attr-detail[data-v-eb60bc26]{font-family:var(--font-mono);color:var(--accent-color);font-weight:700;font-size:1.1em}.item-entry[data-v-eb60bc26],.destined-entry[data-v-eb60bc26]{margin-bottom:var(--spacing-lg);padding-bottom:var(--spacing-lg);border-bottom:1px dashed var(--border-color-light)}.item-entry[data-v-eb60bc26]:last-child,.destined-entry[data-v-eb60bc26]:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.item-entry .item-title[data-v-eb60bc26],.destined-entry .item-title[data-v-eb60bc26]{font-size:1.05rem;margin-bottom:var(--spacing-xs) !important}.item-entry .item-title .item-cost[data-v-eb60bc26],.destined-entry .item-title .item-cost[data-v-eb60bc26]{font-size:.9rem;color:var(--accent-color);font-weight:600;font-family:var(--font-mono);margin-left:var(--spacing-xs)}.item-entry .item-meta[data-v-eb60bc26],.destined-entry .item-meta[data-v-eb60bc26]{font-size:.9rem;color:var(--text-light);margin-bottom:var(--spacing-xs) !important}.item-entry .item-desc[data-v-eb60bc26],.destined-entry .item-desc[data-v-eb60bc26]{margin-bottom:var(--spacing-xs) !important}.item-entry .item-flavor[data-v-eb60bc26],.destined-entry .item-flavor[data-v-eb60bc26]{font-size:.9rem;color:var(--text-light);font-style:italic}.item-entry .sub-list[data-v-eb60bc26],.destined-entry .sub-list[data-v-eb60bc26]{margin-top:var(--spacing-sm);padding-left:var(--spacing-md)}.item-entry .sub-list p[data-v-eb60bc26],.destined-entry .sub-list p[data-v-eb60bc26]{margin-bottom:4px !important}.item-entry .sub-list p strong[data-v-eb60bc26],.destined-entry .sub-list p strong[data-v-eb60bc26]{color:var(--text-color)}.item-entry .sub-list .sub-item[data-v-eb60bc26],.destined-entry .sub-list .sub-item[data-v-eb60bc26]{font-size:.95rem;color:var(--text-light)}.background-story[data-v-eb60bc26],.background-desc[data-v-eb60bc26]{white-space:pre-wrap;line-height:1.8}.empty-text[data-v-eb60bc26]{text-align:center;padding:var(--spacing-lg);color:var(--text-light);font-style:italic}.final-notice[data-v-eb60bc26]{margin-top:var(--spacing-lg)}.final-notice .notice[data-v-eb60bc26]{padding:var(--spacing-md);border-radius:var(--radius-md);font-size:.95rem;font-weight:600;text-align:center}.final-notice .notice.warning[data-v-eb60bc26]{background:rgba(244,67,54,.1);color:var(--error-color);border:2px solid var(--error-color)}.final-notice .notice.info[data-v-eb60bc26]{background:rgba(33,150,243,.1);color:#2196f3;border:2px solid #2196f3}@media (max-width:768px){.panel-header[data-v-eb60bc26]{padding:var(--spacing-md)}.panel-header .panel-title[data-v-eb60bc26]{font-size:1.3rem}.panel-content[data-v-eb60bc26]{padding:var(--spacing-md)}.points-grid[data-v-eb60bc26]{grid-template-columns:repeat(2,1fr)}.doc-text.attributes[data-v-eb60bc26]{grid-template-columns:1fr}.item-entry[data-v-eb60bc26],.destined-entry[data-v-eb60bc26]{margin-bottom:var(--spacing-md);padding-bottom:var(--spacing-md)}}
.category-tabs[data-v-11224f43]{display:flex;gap:var(--spacing-sm);padding:var(--spacing-sm);background:var(--card-bg);border-radius:var(--radius-lg);border:1px solid var(--border-color);margin-bottom:var(--spacing-lg)}.tab-button[data-v-11224f43]{flex:1;display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs);padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-normal);font-size:.9rem;font-weight:600;color:var(--text-color)}.tab-button[data-v-11224f43]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.tab-button.active[data-v-11224f43]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg)}.tab-button.active .tab-icon[data-v-11224f43]{transform:scale(1.1)}.tab-button .tab-icon[data-v-11224f43]{font-size:1.2rem;transition:transform var(--transition-normal)}.tab-button .tab-label[data-v-11224f43]{font-family:var(--font-title);font-size:.9rem}@media (max-width:768px){.category-tabs[data-v-11224f43]{gap:var(--spacing-sm);padding:var(--spacing-sm)}.tab-button[data-v-11224f43]{flex-direction:column;padding:var(--spacing-sm);gap:var(--spacing-xs)}.tab-button .tab-icon[data-v-11224f43]{font-size:1.2rem}.tab-button .tab-label[data-v-11224f43]{font-size:.85rem}}
.custom-item-form[data-v-42c41433]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden;transition:all var(--transition-normal)}.custom-item-form:not(.expanded) .form-header[data-v-42c41433]{border-bottom:none}.custom-item-form .form-header[data-v-42c41433]{padding:var(--spacing-md) var(--spacing-lg);background:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(212,175,55,0.05) 100%);border-bottom:2px solid var(--border-color);cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;justify-content:space-between;align-items:center;transition:all var(--transition-fast)}.custom-item-form .form-header[data-v-42c41433]:hover{background:linear-gradient(135deg,rgba(212,175,55,0.15) 0%,rgba(212,175,55,0.08) 100%)}.custom-item-form .form-header .header-left[data-v-42c41433]{flex:1}.custom-item-form .form-header .form-title[data-v-42c41433]{font-size:1.1rem;margin:0 0 var(--spacing-xs) 0;color:var(--title-color);font-weight:700}.custom-item-form .form-header .form-desc[data-v-42c41433]{font-size:.85rem;color:var(--text-light)}.custom-item-form .form-header .toggle-icon[data-v-42c41433]{font-size:.9rem;color:var(--text-light);transition:transform var(--transition-fast);margin-left:var(--spacing-md)}.custom-item-form .form-header .toggle-icon.rotated[data-v-42c41433]{transform:rotate(180deg)}.custom-item-form .form-body[data-v-42c41433]{padding:var(--spacing-lg)}.custom-item-form .form-row[data-v-42c41433]{margin-bottom:var(--spacing-md)}.custom-item-form .form-row[data-v-42c41433]:last-child{margin-bottom:0}.custom-item-form .category-buttons[data-v-42c41433],.custom-item-form .rarity-buttons[data-v-42c41433]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap}.custom-item-form .category-btn[data-v-42c41433]{padding:var(--spacing-sm) var(--spacing-lg);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;color:var(--text-color)}.custom-item-form .category-btn[data-v-42c41433]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.custom-item-form .category-btn.active[data-v-42c41433]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600;box-shadow:0 2px 4px rgba(212,175,55,.3)}.custom-item-form .rarity-btn[data-v-42c41433]{padding:4px var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color)}.custom-item-form .rarity-btn[data-v-42c41433]:hover{border-color:var(--rarity-color);color:var(--rarity-color)}.custom-item-form .rarity-btn.active[data-v-42c41433]{background:var(--rarity-color);border-color:var(--rarity-color);color:#fff;font-weight:600;box-shadow:0 2px 4px rgba(0,0,0,.2)}.custom-item-form .cost-info[data-v-42c41433]{margin-top:var(--spacing-xs);font-size:.85rem;color:var(--text-light)}.custom-item-form .cost-info .cost-value[data-v-42c41433]{font-size:1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono);margin:0 var(--spacing-xs)}.custom-item-form .cost-info .cost-range[data-v-42c41433]{font-size:.8rem;color:var(--text-light)}.custom-item-form .form-actions[data-v-42c41433]{display:flex;gap:var(--spacing-md);margin-top:var(--spacing-lg);padding-top:var(--spacing-md);border-top:1px solid var(--border-color)}.custom-item-form .btn-reset[data-v-42c41433],.custom-item-form .btn-submit[data-v-42c41433]{flex:1;padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.custom-item-form .btn-reset[data-v-42c41433]{background:var(--input-bg);color:var(--text-color);border:1px solid var(--border-color)}.custom-item-form .btn-reset[data-v-42c41433]:hover{background:var(--card-bg);border-color:var(--border-color-strong)}.custom-item-form .btn-submit[data-v-42c41433]{background:var(--accent-color);color:var(--primary-bg)}.custom-item-form .btn-submit[data-v-42c41433]:hover:not(:disabled){background:#c9a842;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.custom-item-form .btn-submit[data-v-42c41433]:disabled{opacity:.5;cursor:not-allowed}@media (max-width:768px){.custom-item-form .form-header[data-v-42c41433]{padding:var(--spacing-sm) var(--spacing-md)}.custom-item-form .form-header .header-left .form-title[data-v-42c41433]{font-size:1rem}.custom-item-form .form-header .header-left .form-desc[data-v-42c41433]{font-size:.8rem}.custom-item-form .form-header .toggle-icon[data-v-42c41433]{font-size:.85rem}.custom-item-form .form-body[data-v-42c41433]{padding:var(--spacing-md)}.custom-item-form .form-row[data-v-42c41433]{margin-bottom:var(--spacing-sm)}.custom-item-form .category-buttons[data-v-42c41433],.custom-item-form .rarity-buttons[data-v-42c41433]{gap:4px}.custom-item-form .category-btn[data-v-42c41433]{padding:6px var(--spacing-sm);font-size:.85rem}.custom-item-form .rarity-btn[data-v-42c41433]{padding:3px var(--spacing-xs);font-size:.8rem}.custom-item-form .form-actions[data-v-42c41433]{flex-direction:column;gap:var(--spacing-sm)}}
.item-card[data-v-211be1ca]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);padding:var(--spacing-md);cursor:pointer;transition:all var(--transition-normal);position:relative;overflow:hidden}.item-card[data-v-211be1ca]::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:var(--rarity-color);opacity:.6}.item-card[data-v-211be1ca]:hover:not(.is-disabled){border-color:var(--accent-color);box-shadow:var(--shadow-md);transform:translateY(-2px)}.item-card.is-selected[data-v-211be1ca]{border-color:var(--accent-color);background:linear-gradient(to bottom,var(--card-bg),rgba(212,175,55,0.05));box-shadow:0 0 0 2px rgba(212,175,55,.2)}.item-card.is-selected[data-v-211be1ca]::before{height:4px;opacity:1}.item-card.is-disabled[data-v-211be1ca]{opacity:.5;cursor:not-allowed}.card-header[data-v-211be1ca]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color-light)}.card-header .item-name[data-v-211be1ca]{font-size:1.1rem;font-weight:700;color:var(--title-color)}.card-header .item-rarity[data-v-211be1ca]{font-size:.9rem;font-weight:600;padding:2px 8px;border-radius:var(--radius-sm);background:rgba(0,0,0,.1)}.card-body[data-v-211be1ca]{margin-bottom:var(--spacing-md)}.card-body .item-info[data-v-211be1ca]{display:flex;gap:var(--spacing-xs);margin-bottom:var(--spacing-xs);font-size:.9rem}.card-body .item-info .info-label[data-v-211be1ca]{color:var(--text-light);font-weight:600;min-width:50px}.card-body .item-info .info-value[data-v-211be1ca]{color:var(--text-color);flex:1}.card-body .item-info .info-value.tag[data-v-211be1ca]{font-family:monospace;font-size:.85rem;color:var(--accent-color)}.card-body .item-info .info-value.consume[data-v-211be1ca]{font-family:monospace;font-size:.85rem;color:#2196f3}.card-body .item-effect[data-v-211be1ca]{margin:var(--spacing-sm) 0;padding:var(--spacing-sm);background:rgba(212,175,55,.05);border-left:3px solid var(--accent-color);border-radius:var(--radius-sm)}.card-body .item-effect .effect-label[data-v-211be1ca]{font-size:.9rem;font-weight:600;color:var(--accent-color);margin-bottom:var(--spacing-xs)}.card-body .item-effect .effect-content[data-v-211be1ca]{font-size:.85rem;line-height:1.5;color:var(--text-color)}.card-body .item-description[data-v-211be1ca]{margin-top:var(--spacing-sm);font-size:.85rem;line-height:1.6;color:var(--text-light);font-style:italic}.card-footer[data-v-211be1ca]{display:flex;justify-content:space-between;align-items:center;padding-top:var(--spacing-sm);border-top:1px solid var(--border-color-light)}.card-footer .item-cost[data-v-211be1ca]{display:flex;gap:var(--spacing-xs);align-items:center}.card-footer .item-cost .cost-label[data-v-211be1ca]{font-size:.9rem;color:var(--text-light)}.card-footer .item-cost .cost-value[data-v-211be1ca]{font-size:1.1rem;font-weight:700;color:var(--accent-color)}.card-footer .selected-badge[data-v-211be1ca]{padding:4px 12px;background:var(--accent-color);color:var(--primary-bg);border-radius:var(--radius-md);font-size:.85rem;font-weight:600}@media (max-width:768px){.item-card[data-v-211be1ca]{padding:var(--spacing-sm)}.card-header .item-name[data-v-211be1ca]{font-size:1rem}.card-header .item-rarity[data-v-211be1ca]{font-size:.8rem}.card-body .item-info[data-v-211be1ca]{font-size:.85rem}.card-body .item-effect .effect-label[data-v-211be1ca]{font-size:.85rem}.card-body .item-effect .effect-content[data-v-211be1ca]{font-size:.8rem}.card-body .item-description[data-v-211be1ca]{font-size:.8rem}.card-footer .item-cost .cost-label[data-v-211be1ca]{font-size:.85rem}.card-footer .item-cost .cost-value[data-v-211be1ca]{font-size:1rem}.card-footer .selected-badge[data-v-211be1ca]{font-size:.8rem;padding:3px 10px}}
.item-list[data-v-77b546fb]{min-height:400px}.empty-state[data-v-77b546fb]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl);min-height:400px}.empty-state .empty-icon[data-v-77b546fb]{font-size:4rem;margin-bottom:var(--spacing-lg);opacity:.5}.empty-state .empty-text[data-v-77b546fb]{font-size:1.1rem;color:var(--text-light);font-style:italic}.item-grid[data-v-77b546fb]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--spacing-lg);padding:var(--spacing-md)}@media (max-width:1200px){.item-grid[data-v-77b546fb]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--spacing-md)}}@media (max-width:768px){.item-grid[data-v-77b546fb]{grid-template-columns:1fr;gap:var(--spacing-md);padding:var(--spacing-sm)}.empty-state[data-v-77b546fb]{padding:var(--spacing-xl);min-height:300px}.empty-state .empty-icon[data-v-77b546fb]{font-size:3rem}.empty-state .empty-text[data-v-77b546fb]{font-size:1rem}}
.rarity-filter[data-v-cd5d8636]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);flex-wrap:wrap}.rarity-filter .filter-label[data-v-cd5d8636]{font-size:.9rem;font-weight:600;color:var(--text-color);white-space:nowrap}.rarity-filter .filter-buttons[data-v-cd5d8636]{display:flex;gap:var(--spacing-xs);flex-wrap:wrap;flex:1}.rarity-filter .filter-btn[data-v-cd5d8636]{padding:4px var(--spacing-sm);background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-color);white-space:nowrap}.rarity-filter .filter-btn[data-v-cd5d8636]:hover{border-color:var(--rarity-color);background:var(--card-bg);color:var(--rarity-color);transform:translateY(-1px)}.rarity-filter .filter-btn.active[data-v-cd5d8636]{background:var(--rarity-color);border-color:var(--rarity-color);color:#fff;font-weight:600;box-shadow:0 2px 4px rgba(0,0,0,.2)}@media (max-width:768px){.rarity-filter[data-v-cd5d8636]{padding:var(--spacing-xs) var(--spacing-sm);gap:var(--spacing-sm)}.rarity-filter .filter-label[data-v-cd5d8636]{font-size:.85rem}.rarity-filter .filter-buttons[data-v-cd5d8636]{gap:4px}.rarity-filter .filter-btn[data-v-cd5d8636]{font-size:.8rem;padding:3px var(--spacing-xs)}}@media (max-width:480px){.rarity-filter[data-v-cd5d8636]{flex-direction:column;align-items:flex-start;gap:var(--spacing-xs)}.rarity-filter .filter-label[data-v-cd5d8636]{font-size:.8rem}.rarity-filter .filter-buttons[data-v-cd5d8636]{width:100%;justify-content:flex-start}.rarity-filter .filter-btn[data-v-cd5d8636]{font-size:.75rem;padding:2px 6px}}
.selected-panel[data-v-37b9b237]{background:var(--card-bg);border:2px solid var(--border-color);border-radius:var(--radius-lg);display:flex;flex-direction:column;height:100%;max-height:800px}.selected-panel .panel-header[data-v-37b9b237]{padding:var(--spacing-md);border-bottom:2px solid var(--border-color);display:flex;flex-direction:column;gap:var(--spacing-xs)}.selected-panel .panel-header .header-top[data-v-37b9b237]{display:flex;justify-content:space-between;align-items:center}.selected-panel .panel-header .title[data-v-37b9b237]{font-size:1.1rem;margin:0;color:var(--title-color);font-weight:700}.selected-panel .panel-header .count-badge[data-v-37b9b237]{display:flex;align-items:center;justify-content:center;min-width:32px;height:32px;padding:0 var(--spacing-sm);background:var(--accent-color);color:var(--primary-bg);border-radius:50%;font-weight:700;font-size:1rem}.selected-panel .panel-header .points-info[data-v-37b9b237]{display:flex;align-items:baseline;gap:var(--spacing-xs);font-size:.9rem}.selected-panel .panel-header .points-info .points-label[data-v-37b9b237]{color:var(--text-light);font-weight:500}.selected-panel .panel-header .points-info .points-value[data-v-37b9b237]{font-size:1.1rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono)}.selected-panel .panel-header .points-info .points-value.negative[data-v-37b9b237]{color:var(--error-color)}.selected-panel .panel-header .points-info .points-total[data-v-37b9b237]{color:var(--text-light);font-family:var(--font-mono)}.selected-panel .panel-header .points-info .points-consumed[data-v-37b9b237]{color:var(--text-light);font-size:.85rem}.selected-panel .panel-body[data-v-37b9b237]{flex:1;overflow-y:auto;padding:var(--spacing-lg)}.selected-panel .panel-body .section[data-v-37b9b237]{margin-bottom:var(--spacing-lg)}.selected-panel .panel-body .section[data-v-37b9b237]:last-child{margin-bottom:0}.selected-panel .panel-body .section .section-title[data-v-37b9b237]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:1rem;font-weight:600;color:var(--title-color);margin-bottom:var(--spacing-sm);padding-bottom:var(--spacing-xs);border-bottom:1px solid var(--border-color-light)}.selected-panel .panel-body .section .section-title .count[data-v-37b9b237]{font-size:.9rem;color:var(--text-light)}.selected-panel .panel-body .section .item-list[data-v-37b9b237]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.selected-panel .panel-body .section .selected-item[data-v-37b9b237]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-sm);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);transition:all var(--transition-fast)}.selected-panel .panel-body .section .selected-item[data-v-37b9b237]:hover{border-color:var(--accent-color);box-shadow:var(--shadow-sm)}.selected-panel .panel-body .section .selected-item .item-info[data-v-37b9b237]{flex:1;min-width:0}.selected-panel .panel-body .section .selected-item .item-info .item-name[data-v-37b9b237]{font-size:.9rem;font-weight:600;color:var(--text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selected-panel .panel-body .section .selected-item .item-info .item-cost[data-v-37b9b237]{font-size:.85rem;color:var(--accent-color);font-family:var(--font-mono);margin-top:2px}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-37b9b237]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:var(--error-color);color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:1.3rem;line-height:1;transition:all var(--transition-fast);flex-shrink:0;margin-left:var(--spacing-sm)}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-37b9b237]:hover{background:#b71c1c;transform:scale(1.1)}.selected-panel .panel-body .empty-state[data-v-37b9b237]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-2xl) var(--spacing-lg);text-align:center}.selected-panel .panel-body .empty-state .empty-icon[data-v-37b9b237]{font-size:3rem;margin-bottom:var(--spacing-md);opacity:.5}.selected-panel .panel-body .empty-state .empty-text[data-v-37b9b237]{font-size:.95rem;color:var(--text-light);font-style:italic}.selected-panel .panel-footer[data-v-37b9b237]{padding:var(--spacing-lg);border-top:2px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;gap:var(--spacing-md)}.selected-panel .panel-footer .total-info[data-v-37b9b237]{display:flex;align-items:center;gap:var(--spacing-xs)}.selected-panel .panel-footer .total-info .label[data-v-37b9b237]{font-size:.95rem;color:var(--text-light)}.selected-panel .panel-footer .total-info .value[data-v-37b9b237]{font-size:1.2rem;font-weight:700;color:var(--accent-color);font-family:var(--font-mono)}.selected-panel .panel-footer .clear-btn[data-v-37b9b237]{padding:var(--spacing-sm) var(--spacing-lg);background:var(--error-color);color:#fff;border:none;border-radius:var(--radius-md);cursor:pointer;font-size:.9rem;font-weight:600;transition:all var(--transition-fast)}.selected-panel .panel-footer .clear-btn[data-v-37b9b237]:hover{background:#b71c1c;transform:translateY(-1px);box-shadow:var(--shadow-sm)}.panel-body[data-v-37b9b237]::-webkit-scrollbar{width:8px}.panel-body[data-v-37b9b237]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.panel-body[data-v-37b9b237]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.panel-body[data-v-37b9b237]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}@media (max-width:768px){.selected-panel[data-v-37b9b237]{max-height:none}.selected-panel .panel-header[data-v-37b9b237]{padding:var(--spacing-md)}.selected-panel .panel-header .title[data-v-37b9b237]{font-size:1.1rem}.selected-panel .panel-header .count-badge[data-v-37b9b237]{min-width:28px;height:28px;font-size:.9rem}.selected-panel .panel-body[data-v-37b9b237]{padding:var(--spacing-md)}.selected-panel .panel-body .section .section-title[data-v-37b9b237]{font-size:.95rem}.selected-panel .panel-body .section .selected-item[data-v-37b9b237]{padding:var(--spacing-xs) var(--spacing-sm)}.selected-panel .panel-body .section .selected-item .item-info .item-name[data-v-37b9b237]{font-size:.85rem}.selected-panel .panel-body .section .selected-item .item-info .item-cost[data-v-37b9b237]{font-size:.8rem}.selected-panel .panel-body .section .selected-item .remove-btn[data-v-37b9b237]{width:24px;height:24px}.selected-panel .panel-body .empty-state[data-v-37b9b237]{padding:var(--spacing-xl) var(--spacing-md)}.selected-panel .panel-body .empty-state .empty-icon[data-v-37b9b237]{font-size:2.5rem}.selected-panel .panel-body .empty-state .empty-text[data-v-37b9b237]{font-size:.9rem}.selected-panel .panel-footer[data-v-37b9b237]{padding:var(--spacing-md);flex-direction:column;align-items:stretch}.selected-panel .panel-footer .total-info[data-v-37b9b237]{justify-content:center}.selected-panel .panel-footer .total-info .label[data-v-37b9b237]{font-size:.9rem}.selected-panel .panel-footer .total-info .value[data-v-37b9b237]{font-size:1.1rem}.selected-panel .panel-footer .clear-btn[data-v-37b9b237]{width:100%;font-size:.85rem}}
.selections-container[data-v-6a028d48]{display:flex;flex-direction:column;gap:var(--spacing-xl);max-width:1600px;margin:0 auto}.selection-area[data-v-6a028d48]{display:flex;flex-direction:column}.selection-main[data-v-6a028d48]{display:grid;grid-template-columns:200px 1fr;gap:0;height:500px;max-height:500px;border:2px solid var(--border-color);border-radius:var(--radius-lg);overflow:hidden}.category-sidebar[data-v-6a028d48]{background:var(--card-bg);border-right:2px solid var(--border-color-strong);padding:var(--spacing-md);height:100%;display:flex;flex-direction:column;overflow:hidden}.category-sidebar .category-list[data-v-6a028d48]{display:flex;flex-direction:column;gap:var(--spacing-xs);overflow-y:auto;flex:1;padding-right:var(--spacing-xs)}.category-sidebar .category-list[data-v-6a028d48]::-webkit-scrollbar{width:6px}.category-sidebar .category-list[data-v-6a028d48]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-sm)}.category-sidebar .category-list[data-v-6a028d48]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-sm)}.category-sidebar .category-list[data-v-6a028d48]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.category-sidebar .category-item[data-v-6a028d48]{padding:var(--spacing-sm) var(--spacing-md);background:var(--input-bg);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);font-size:.9rem;color:var(--text-color);text-align:left;white-space:normal;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;hyphens:auto;line-height:1.4;min-height:32px;display:flex;align-items:center}.category-sidebar .category-item[data-v-6a028d48]:hover{border-color:var(--accent-color);background:rgba(212,175,55,.1)}.category-sidebar .category-item.active[data-v-6a028d48]{background:var(--accent-color);border-color:var(--accent-color);color:var(--primary-bg);font-weight:600}.category-sidebar .sub-category-list[data-v-6a028d48]{margin-left:var(--spacing-md);margin-top:var(--spacing-xs);margin-bottom:var(--spacing-xs);display:flex;flex-direction:column;gap:var(--spacing-xs)}.category-sidebar .sub-category-item[data-v-6a028d48]{padding:4px var(--spacing-sm);background:var(--card-bg);border:1px solid var(--border-color-light);border-left:3px solid var(--border-color);border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-fast);font-size:.85rem;color:var(--text-light);text-align:left;white-space:normal;word-wrap:break-word;word-break:break-word;line-height:1.3}.category-sidebar .sub-category-item[data-v-6a028d48]:hover{border-left-color:var(--accent-color);background:rgba(212,175,55,.05);color:var(--text-color)}.category-sidebar .sub-category-item.active[data-v-6a028d48]{background:rgba(212,175,55,.15);border-left-color:var(--accent-color);color:var(--accent-color);font-weight:600}.items-content[data-v-6a028d48]{background:var(--card-bg);overflow-y:auto;height:100%;display:flex;flex-direction:column}.items-content[data-v-6a028d48] .rarity-filter{position:sticky;top:0;z-index:10;background:var(--card-bg);padding:var(--spacing-md) var(--spacing-md) var(--spacing-sm) var(--spacing-md);padding-bottom:var(--spacing-sm);border-bottom:2px solid var(--border-color);box-shadow:0 2px 4px rgba(0,0,0,.05)}.items-content[data-v-6a028d48] .item-list{flex:1}.items-content[data-v-6a028d48]::-webkit-scrollbar{width:8px}.items-content[data-v-6a028d48]::-webkit-scrollbar-track{background:var(--input-bg);border-radius:var(--radius-md)}.items-content[data-v-6a028d48]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:var(--radius-md)}.items-content[data-v-6a028d48]::-webkit-scrollbar-thumb:hover{background:var(--border-color-strong)}.summary-area[data-v-6a028d48]{height:500px;max-height:500px}@media (max-width:768px){.selections-container[data-v-6a028d48]{gap:var(--spacing-md)}.selection-main[data-v-6a028d48]{grid-template-columns:100px 1fr;height:450px}.category-sidebar[data-v-6a028d48]{padding:var(--spacing-xs) 4px}.category-sidebar .category-item[data-v-6a028d48]{font-size:.75rem;padding:4px 6px;min-height:28px;line-height:1.3}.summary-area[data-v-6a028d48]{height:auto;max-height:none}}@media (max-width:480px){.selection-main[data-v-6a028d48]{grid-template-columns:85px 1fr;height:400px}.category-sidebar[data-v-6a028d48]{padding:var(--spacing-xs) 3px}.category-sidebar .category-item[data-v-6a028d48]{font-size:.7rem;padding:3px 5px;min-height:24px}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>