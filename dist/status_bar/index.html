<<<<<<< HEAD
<head><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var a={441:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},l={};const n=Vue;function o(){const e=(0,n.ref)(null),t=(0,n.ref)(!0),a=(0,n.ref)(null),l=()=>{try{const t=getVariables({type:'message',message_id:getCurrentMessageId()}),l=_.get(t,'stat_data',{});if(!l||0===Object.keys(l).length)throw new Error('无法获取状态数据');e.value=l,a.value=null}catch(e){console.error('加载数据失败:',e),a.value=e instanceof Error?e.message:'未知错误'}finally{t.value=!1}};return(0,n.onMounted)(()=>{l()}),{statData:e,loading:t,error:a,loadData:l}}function r(e,t,a){return _.get(e,t,a)}function c(e){return e&&'object'==typeof e?_.omitBy(e,(e,t)=>'$meta'===t||'$__META_EXTENSIBLE__$'===t):{}}function s(e){return Array.isArray(e)?0===e.length||'$__META_EXTENSIBLE__$'===e[0]?[]:e:e||''}const i={class:'summary-main-line'},u={class:'summary-title'},m={key:0,class:'summary-details'},d={key:0,class:'summary-wrapped-details'},p={class:'details-content'},v={class:'details-content-inner'},y=(0,n.defineComponent)({__name:'CommonStatus',props:{title:{},summaryDetails:{default:''},defaultOpen:{type:Boolean,default:!1},locked:{type:Boolean,default:!1},variant:{default:'section'},icon:{default:''},customClass:{default:''}},setup(e){const t=e,a=(0,n.ref)(t.defaultOpen),l=(0,n.ref)(window.innerWidth),o=()=>{l.value=window.innerWidth};(0,n.onMounted)(()=>{window.addEventListener('resize',o)}),(0,n.onUnmounted)(()=>{window.removeEventListener('resize',o)});const r=(0,n.computed)(()=>{if(!t.summaryDetails)return!1;const e=t.summaryDetails.length;return l.value<=600?e>20:l.value<=1e3?e>30:e>50}),c=(0,n.computed)(()=>{const e=['details-status',`details-${t.variant}`];return t.locked&&e.push('locked'),a.value&&e.push('is-open'),t.customClass&&e.push(t.customClass),e.join(' ')}),s=()=>{t.locked||(a.value=!a.value)},y=e=>{const t=e;t.style.height='0',t.style.overflow='hidden',t.offsetHeight,t.style.height=`${t.scrollHeight}px`},f=e=>{const t=e;t.style.height='',t.style.overflow=''},k=e=>{const t=e;t.style.height=`${t.scrollHeight}px`,t.style.overflow='hidden',t.offsetHeight,t.style.height='0'},g=e=>{const t=e;t.style.height='',t.style.overflow=''};return(t,l)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{class:(0,n.normalizeClass)((0,n.unref)(c))},[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['summary',{'has-wrapped-summary':(0,n.unref)(r)}]),onClick:s},[(0,n.createElementVNode)('div',i,[(0,n.createCommentVNode)(' 左侧图标，如果提供了自定义图标则使用，否则使用默认星星 '),(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['icon-star',{'is-open':(0,n.unref)(a)}])},(0,n.toDisplayString)(e.locked?'🔒':e.icon||'✦'),3),(0,n.createCommentVNode)(' 标题内容 '),(0,n.createElementVNode)('span',u,[(0,n.renderSlot)(t.$slots,'title',{},()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.title),1)])]),(0,n.createCommentVNode)(' 右侧摘要信息（内容较短时显示在同一行） '),e.summaryDetails&&!(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('span',m,(0,n.toDisplayString)(e.summaryDetails),1)):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' 右侧箭头 '),(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['arrow-toggle',{rotated:(0,n.unref)(a)}])},'▼',2)]),(0,n.createCommentVNode)(' 摘要信息换行显示（内容较长时） '),e.summaryDetails&&(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('div',d,(0,n.toDisplayString)(e.summaryDetails),1)):(0,n.createCommentVNode)('v-if',!0)],2),(0,n.createCommentVNode)(' 折叠内容区域 '),(0,n.createVNode)(n.Transition,{name:'collapse',onEnter:y,onAfterEnter:f,onLeave:k,onAfterLeave:g,persisted:''},{default:(0,n.withCtx)(()=>[(0,n.withDirectives)((0,n.createElementVNode)('div',p,[(0,n.createElementVNode)('div',v,[(0,n.renderSlot)(t.$slots,'default')])],512),[[n.vShow,(0,n.unref)(a)]])]),_:3})],2))}});var f=function e(t){var n=l[t];if(void 0!==n)return n.exports;var o=l[t]={exports:{}};return a[t](o,o.exports,e),o.exports}(441);const k=(0,f.A)(y,[['__scopeId','data-v-5a0c4dec']]),g={key:0,class:'step-items-container'},N={key:0},V={class:'item-name'},E={class:'item-desc'},B={key:1,class:'empty-slot'},b={key:0,class:'step-items-container'},h={key:0},C={class:'item-name'},x={class:'item-desc'},S={key:1,class:'empty-slot'},D={key:0,class:'step-items-container'},q={key:0},w={class:'item-name'},T={class:'item-desc'},A={key:1,class:'empty-slot'},I={key:0,class:'god-tier-grid'},L={class:'step-item'},F={key:0,class:'value-main'},O={key:1,class:'empty-slot'},M={class:'step-item'},j={key:0,class:'value-main'},P={key:1,class:'empty-slot'},H=(0,n.defineComponent)({__name:'Ascension',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>t.value?r(t.value,'角色.状态.等级',1):1),l=(0,n.computed)(()=>t.value?r(t.value,'登神长阶',{}):null),s=(0,n.computed)(()=>{if(!l.value)return[];const e=c(r(l.value,'要素',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),i=(0,n.computed)(()=>{if(!l.value)return[];const e=c(r(l.value,'权能',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),u=(0,n.computed)(()=>{if(!l.value)return[];const e=c(r(l.value,'法则',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),m=(0,n.computed)(()=>l.value?{name:r(l.value,'神位',''),kingdom:r(l.value,'神国.名称','')}:{name:'',kingdom:''}),d=(0,n.computed)(()=>a.value>=13),p=(0,n.computed)(()=>a.value>=17),v=(0,n.computed)(()=>a.value>=21),y=(0,n.computed)(()=>a.value>=25),f=(0,n.computed)(()=>a.value<13?'未开启':a.value>=25&&m.value.name?''!==m.value.name.trim()?`已登神: ${m.value.name}`:'已登神':a.value>=21&&u.value.length>0?'当前阶段: 法则':a.value>=17&&i.value.length>0?'当前阶段: 权能':a.value>=13&&s.value.length>0?'当前阶段: 要素':'长阶已启');return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'♾️ 登神长阶',variant:'section','summary-details':(0,n.unref)(f),'default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 要素 '),(0,n.createVNode)(k,{title:'要素',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(d)},{title:(0,n.withCtx)(()=>[...t[0]||(t[0]=[(0,n.createTextVNode)(' 要素 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'13级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(d)?((0,n.openBlock)(),(0,n.createElementBlock)('div',g,[(0,n.unref)(s).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',N,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(s),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'step-item'},[(0,n.createElementVNode)('span',V,'❖ '+(0,n.toDisplayString)(e.name)+':',1),(0,n.createElementVNode)('span',E,(0,n.toDisplayString)(e.description),1)]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',B,'（尚无要素）'))])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,n.createCommentVNode)(' 权能 '),(0,n.createVNode)(k,{title:'权能',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(p)},{title:(0,n.withCtx)(()=>[...t[1]||(t[1]=[(0,n.createTextVNode)(' 权能 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'17级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(p)?((0,n.openBlock)(),(0,n.createElementBlock)('div',b,[(0,n.unref)(i).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',h,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(i),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'step-item'},[(0,n.createElementVNode)('span',C,'❖ '+(0,n.toDisplayString)(e.name)+':',1),(0,n.createElementVNode)('span',x,(0,n.toDisplayString)(e.description),1)]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',S,'（尚无权能）'))])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,n.createCommentVNode)(' 法则 '),(0,n.createVNode)(k,{title:'法则',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(v)},{title:(0,n.withCtx)(()=>[...t[2]||(t[2]=[(0,n.createTextVNode)(' 法则 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'21级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(v)?((0,n.openBlock)(),(0,n.createElementBlock)('div',D,[(0,n.unref)(u).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',q,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(u),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'step-item'},[(0,n.createElementVNode)('span',w,'❖ '+(0,n.toDisplayString)(e.name)+':',1),(0,n.createElementVNode)('span',T,(0,n.toDisplayString)(e.description),1)]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',A,'（尚无法则）'))])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,n.createCommentVNode)(' 神位 / 神国 '),(0,n.createVNode)(k,{title:'神位 / 神国',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(y)},{title:(0,n.withCtx)(()=>[...t[3]||(t[3]=[(0,n.createTextVNode)(' 神位 / 神国 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'25级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(y)?((0,n.openBlock)(),(0,n.createElementBlock)('div',I,[(0,n.createElementVNode)('div',null,[(0,n.createElementVNode)('div',L,[t[4]||(t[4]=(0,n.createElementVNode)('span',{class:'item-name'},'神位: ',-1)),(0,n.unref)(m).name?((0,n.openBlock)(),(0,n.createElementBlock)('span',F,(0,n.toDisplayString)((0,n.unref)(m).name),1)):((0,n.openBlock)(),(0,n.createElementBlock)('span',O,'（尚未登临）'))])]),(0,n.createElementVNode)('div',null,[(0,n.createElementVNode)('div',M,[t[5]||(t[5]=(0,n.createElementVNode)('span',{class:'item-name'},'神国: ',-1)),(0,n.unref)(m).kingdom?((0,n.openBlock)(),(0,n.createElementBlock)('span',j,(0,n.toDisplayString)((0,n.unref)(m).kingdom),1)):((0,n.openBlock)(),(0,n.createElementBlock)('span',P,'（尚未开辟）'))])])])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked'])]),_:1},8,['summary-details']))}}),W=(0,f.A)(H,[['__scopeId','data-v-0729fc4b']]),R={class:'character-info'},U={class:'info-section'},J={class:'property-name'},X={class:'value-main'},G={class:'info-section'},Z={class:'property-name'},K={class:'value-main'},Q={class:'destiny-section'},Y={class:'property-name'},ee={class:'value-main'},te={key:0,class:'affection-bar-container'},ae={class:'bond-skill-content'},le={key:0,class:'value-main'},ne={class:'skill-name'},oe={class:'skill-description'},re={key:2,class:'value-main'},ce=(0,n.defineComponent)({__name:'DestinyCharacter',props:{name:{},lifeLevel:{default:'未知'},level:{default:1},race:{default:'未知'},identity:{default:()=>[]},occupation:{default:()=>[]},personality:{default:'未知'},favorites:{default:'未知'},appearance:{default:'未知'},adornments:{default:'未知'},equipment:{default:'未知'},attributes:{default:()=>({})},ascension:{default:'未开启'},isTied:{default:'否'},affection:{default:0},evaluation:{default:''},backstory:{default:'未知'},bondSkill:{default:()=>({})}},setup(e){const t=e,a=(0,n.ref)(window.innerWidth),l=()=>{a.value=window.innerWidth};(0,n.onMounted)(()=>{window.addEventListener('resize',l)}),(0,n.onUnmounted)(()=>{window.removeEventListener('resize',l)});const o=e=>{if(!e)return!1;const t=e.length;return a.value<=600?t>20:a.value<=1e3?t>30:t>50},r=(0,n.computed)(()=>t.identity?'string'==typeof t.identity?t.identity:Array.isArray(t.identity)?0===t.identity.length?'未知':t.identity.join('，'):'未知':'未知'),s=(0,n.computed)(()=>t.occupation?'string'==typeof t.occupation?t.occupation:Array.isArray(t.occupation)?0===t.occupation.length?'未知':t.occupation.join('，'):'未知':'未知'),i=(0,n.computed)(()=>{const e=t.affection||0,a=1e3;return{current:e,max:a,text:`${e}/1000`,percentage:(e/a*100).toFixed(1)}}),u=(0,n.computed)(()=>{if('是'!==t.isTied||!t.bondSkill)return[];const e=c(t.bondSkill),a=Object.entries(e);return 0===a.length?[]:a.map(([e,t])=>({name:e,description:String(t)}))}),m=(0,n.computed)(()=>[{icon:'⚜️',label:'生命层级',value:t.lifeLevel},{icon:'🎯',label:'等级',value:String(t.level)},{icon:'🧬',label:'种族',value:t.race},{icon:'👑',label:'身份',value:r.value},{icon:'⚖️',label:'职业',value:s.value},{icon:'🎭',label:'性格',value:t.personality},{icon:'💖',label:'喜爱',value:t.favorites},{icon:'🌸',label:'外貌特质',value:t.appearance},{icon:'👗',label:'衣物装饰',value:t.adornments},{icon:'⚔️',label:'角色装备',value:t.equipment},{icon:'♾️',label:'登神长阶',value:t.ascension}]),d=(0,n.computed)(()=>{const e=t.attributes||{};return[{icon:'💪',label:'力量',value:String(e.力量??0)},{icon:'⚡',label:'敏捷',value:String(e.敏捷??0)},{icon:'🛡️',label:'体质',value:String(e.体质??0)},{icon:'🧠',label:'智力',value:String(e.智力??0)},{icon:'✨',label:'精神',value:String(e.精神??0)}]}),p=(0,n.computed)(()=>[{icon:'',label:'是否缔结红线',value:t.isTied},{icon:'❤️',label:'好感度',value:i.value.text,showBar:!0},{icon:'💭',label:'评价',value:t.evaluation||'暂无评价'},{icon:'📜',label:'背景故事',value:t.backstory}]);return(t,a)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:e.name,variant:'entry','default-open':!1,'summary-details':`❤️ ${(0,n.unref)(i).text}`,'custom-class':'destiny-character'},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',R,[(0,n.createCommentVNode)(' 基本信息区 '),(0,n.createElementVNode)('div',U,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(m),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.label,class:(0,n.normalizeClass)(['info-row',{'wrap-value':o(e.value)}])},[(0,n.createElementVNode)('span',J,(0,n.toDisplayString)(e.icon)+' '+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',X,(0,n.toDisplayString)(e.value),1)],2))),128))]),a[0]||(a[0]=(0,n.createElementVNode)('hr',{class:'divider'},null,-1)),(0,n.createCommentVNode)(' 五维属性区 '),(0,n.createElementVNode)('div',G,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(d),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.label,class:'info-row'},[(0,n.createElementVNode)('span',Z,(0,n.toDisplayString)(e.icon)+' '+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',K,(0,n.toDisplayString)(e.value),1)]))),128))]),a[1]||(a[1]=(0,n.createElementVNode)('hr',{class:'divider'},null,-1)),(0,n.createCommentVNode)(' 命运关系区 '),(0,n.createElementVNode)('div',Q,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(p),e=>((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:e.label},[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['info-row',{'wrap-value':o(e.value)}])},[(0,n.createElementVNode)('span',Y,(0,n.toDisplayString)(e.icon)+(0,n.toDisplayString)(e.icon?' ':'')+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',ee,(0,n.toDisplayString)(e.value),1)],2),e.showBar?((0,n.openBlock)(),(0,n.createElementBlock)('div',te,[(0,n.createElementVNode)('div',{class:'affection-bar-value',style:(0,n.normalizeStyle)({width:`${(0,n.unref)(i).percentage}%`})},null,4)])):(0,n.createCommentVNode)('v-if',!0)],64))),128))]),a[2]||(a[2]=(0,n.createElementVNode)('hr',{class:'divider'},null,-1)),(0,n.createCommentVNode)(' 羁绊技能区 '),(0,n.createVNode)(k,{title:'💞 羁绊技能',variant:'sub-section','default-open':!1,'custom-class':'bond-skill-section'},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',ae,['是'!==e.isTied?((0,n.openBlock)(),(0,n.createElementBlock)('p',le,'无羁绊技能')):(0,n.unref)(u).length>0?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:1},(0,n.renderList)((0,n.unref)(u),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.name,class:'skill-item'},[(0,n.createElementVNode)('div',ne,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)('div',oe,(0,n.toDisplayString)(e.description),1)]))),128)):((0,n.openBlock)(),(0,n.createElementBlock)('p',re,'尚未觉醒'))])]),_:1})])]),_:1},8,['title','summary-details']))}}),se=(0,f.A)(ce,[['__scopeId','data-v-50d482ce']]),ie={class:'destiny-points'},ue={class:'value-main'},me={key:0,class:'characters-list'},de=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>t.value?r(t.value,'命运系统.命运点数',0):0),l=(0,n.computed)(()=>{if(!t.value)return[];const e=c(r(t.value,'命运系统.红线对象',{}));return Object.entries(e).map(([e,t])=>({name:e,lifeLevel:r(t,'生命层级',''),level:r(t,'等级',1),race:r(t,'种族',''),identity:r(t,'身份',[]),occupation:r(t,'职业',[]),personality:r(t,'性格',''),favorites:r(t,'喜爱',''),appearance:r(t,'外貌特质',''),adornments:r(t,'衣物装饰',''),equipment:r(t,'角色装备',''),attributes:r(t,'角色属性',{}),ascension:r(t,'登神长阶',''),isTied:r(t,'是否缔结红线','否'),affection:r(t,'好感度',0),evaluation:r(t,'评价',''),backstory:r(t,'背景故事',''),bondSkill:r(t,'羁绊技能',{})}))}),s=(0,n.computed)(()=>`FP: ${a.value} | 红线: ${l.value.length}人`),i=()=>{'function'==typeof triggerSlash?triggerSlash('/send 开始命运抽卡*5|/trigger'):console.error('triggerSlash function is not available.')};return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'💞 命运红线',variant:'section','default-open':!1,'summary-details':(0,n.unref)(s)},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 命运抽卡按钮 '),(0,n.createElementVNode)('button',{class:'gacha-button',onClick:i},'命运抽卡(5连/500点)'),(0,n.createCommentVNode)(' 命运点数显示 '),(0,n.createElementVNode)('div',ie,[t[0]||(t[0]=(0,n.createElementVNode)('span',{class:'property-name'},'💖 命运点数 FP:',-1)),(0,n.createElementVNode)('span',ue,(0,n.toDisplayString)((0,n.unref)(a)),1)]),(0,n.createCommentVNode)(' 红线角色列表 '),(0,n.unref)(l).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',me,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l),(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(se,{key:t,name:e.name,'life-level':e.lifeLevel,level:e.level,race:e.race,identity:e.identity,occupation:e.occupation,personality:e.personality,favorites:e.favorites,appearance:e.appearance,adornments:e.adornments,equipment:e.equipment,attributes:e.attributes,ascension:e.ascension,'is-tied':e.isTied,affection:e.affection,evaluation:e.evaluation,backstory:e.backstory,'bond-skill':e.bondSkill},null,8,['name','life-level','level','race','identity','occupation','personality','favorites','appearance','adornments','equipment','attributes','ascension','is-tied','affection','evaluation','backstory','bond-skill']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(' 空状态提示 '),t[1]||(t[1]=(0,n.createElementVNode)('p',{class:'empty-message value-main'},'尚未与任何人缔结深刻的命运联系',-1))],2112))]),_:1},8,['summary-details']))}}),pe=(0,f.A)(de,[['__scopeId','data-v-7482abfa']]);function ve(e){return{神话:'quality-mythic',传说:'quality-legendary',史诗:'quality-epic',稀有:'quality-rare',优良:'quality-uncommon',普通:'quality-common'}[e]||''}const ye={class:'equipment-details value-main'},fe={class:'equipment-meta'},ke={class:'equipment-meta'},ge={class:'equipment-meta'},Ne=(0,n.defineComponent)({__name:'EquipmentSlot',props:{equipmentName:{},quality:{default:''},tags:{default:''},effect:{default:''},description:{default:''},position:{default:''}},setup(e){const t=e,a=(0,n.computed)(()=>{let e=t.equipmentName;return t.quality&&(e+=`(${t.quality})`),e}),l=(0,n.computed)(()=>t.position?`位置: ${t.position}`:'');return(t,o)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:(0,n.unref)(a),variant:'entry','default-open':!1,'custom-class':'equipment-entry','summary-details':(0,n.unref)(l)},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['value-main',(0,n.unref)(ve)(e.quality)])},[(0,n.createTextVNode)((0,n.toDisplayString)(e.equipmentName),1),e.quality?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)('('+(0,n.toDisplayString)(e.quality)+')',1)],64)):(0,n.createCommentVNode)('v-if',!0)],2)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',ye,[(0,n.createElementVNode)('div',fe,[o[0]||(o[0]=(0,n.createElementVNode)('strong',null,'标签：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.tags),1)]),(0,n.createElementVNode)('div',ke,[o[1]||(o[1]=(0,n.createElementVNode)('strong',null,'效果：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.effect),1)]),(0,n.createElementVNode)('div',ge,[o[2]||(o[2]=(0,n.createElementVNode)('strong',null,'描述：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.description),1)])])]),_:1},8,['title','summary-details']))}}),Ve=(0,f.A)(Ne,[['__scopeId','data-v-7123c11e']]),Ee={class:'equipment-section'},Be={key:0,class:'equipment-grid'},be={class:'equipment-category-title'},he={key:0,class:'empty-category'},Ce={key:1,class:'equipment-list'},xe={key:1,class:'empty-message value-main'},Se=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=[{key:'武器',title:'🗡️ 武器'},{key:'防具',title:'🛡️ 防具'},{key:'饰品',title:'💍 饰品'}],l=(0,n.computed)(()=>{if(!t.value)return a.map(e=>({...e,items:[]}));const e=r(t.value,'财产.装备',{});return a.map(t=>{const a=r(e,t.key,{}),l=[];return Object.entries(a).forEach(([e,t])=>{if('$meta'===e)return;const a=t;l.push({name:e,quality:r(a,'品质',''),tags:r(a,'标签',''),effect:r(a,'效果',''),description:r(a,'描述',''),position:r(a,'位置','')})}),{...t,items:l}})}),c=(0,n.computed)(()=>l.value.reduce((e,t)=>e+t.items.length,0));return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'⚔️ 角色装备',variant:'section','default-open':!1,'summary-details':`共 ${(0,n.unref)(c)} 件装备`},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',Ee,[(0,n.unref)(c)>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Be,[(0,n.createCommentVNode)(' 按类别分栏显示 '),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.key,class:'equipment-column'},[(0,n.createElementVNode)('h3',be,(0,n.toDisplayString)(e.title),1),0===e.items.length?((0,n.openBlock)(),(0,n.createElementBlock)('div',he,'暂无'+(0,n.toDisplayString)(e.key),1)):((0,n.openBlock)(),(0,n.createElementBlock)('div',Ce,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.items,e=>((0,n.openBlock)(),(0,n.createBlock)(Ve,{key:e.name,'equipment-name':e.name,quality:e.quality,tags:e.tags,effect:e.effect,description:e.description,position:e.position},null,8,['equipment-name','quality','tags','effect','description','position']))),128))]))]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',xe,'暂无装备'))])]),_:1},8,['summary-details']))}}),_e=(0,f.A)(Se,[['__scopeId','data-v-430210a0']]),De={class:'item-details value-main'},qe={key:0,class:'item-type'},we={key:1,class:'item-meta'},Te={class:'item-meta'},Ae={class:'item-meta'},Ie=(0,n.defineComponent)({__name:'ItemEntry',props:{name:{},quality:{default:''},quantity:{},type:{default:'其它物品'},tags:{default:''},effect:{default:''},description:{default:'无'}},setup(e){const t=e,a=(0,n.computed)(()=>{let e=t.name;return t.quality&&(e+=`(${t.quality})`),e}),l=(0,n.computed)(()=>`数量: ${t.quantity}`),o=(0,n.computed)(()=>t.type&&'武器防具'!==t.type&&'消耗品'!==t.type&&'材料'!==t.type),r=(0,n.computed)(()=>t.tags&&'无'!==t.tags);return(t,c)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:(0,n.unref)(a),variant:'entry','default-open':!1,'custom-class':'item-entry','summary-details':(0,n.unref)(l)},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['value-main',(0,n.unref)(ve)(e.quality)])},[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1),e.quality?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)('('+(0,n.toDisplayString)(e.quality)+')',1)],64)):(0,n.createCommentVNode)('v-if',!0)],2)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',De,[(0,n.unref)(o)?((0,n.openBlock)(),(0,n.createElementBlock)('div',qe,[c[0]||(c[0]=(0,n.createElementVNode)('strong',null,'类型：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.type),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('div',we,[c[1]||(c[1]=(0,n.createElementVNode)('strong',null,'标签：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.tags),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',Te,[c[2]||(c[2]=(0,n.createElementVNode)('strong',null,'效果：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.effect),1)]),(0,n.createElementVNode)('div',Ae,[c[3]||(c[3]=(0,n.createElementVNode)('strong',null,'描述：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.description),1)])])]),_:1},8,['title','summary-details']))}}),$e=(0,f.A)(Ie,[['__scopeId','data-v-73eaae28']]),Le={class:'currency-section'},Fe={class:'currency-display'},Oe={class:'currency-item'},Me={class:'value-main'},je={class:'currency-item'},ze={class:'value-main'},Pe={class:'currency-item'},He={class:'value-main'},We={class:'items-section'},Re={key:0,class:'items-grid'},Ue={class:'items-category-title'},Je={class:'items-list'},Xe={key:1,class:'empty-message value-main'},Ge=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a={武器防具:4,其它物品:3,消耗品:2,材料:1},l={神话:6,传说:5,史诗:4,稀有:3,优良:2,普通:1},s=(0,n.computed)(()=>{if(!t.value)return{gold:0,silver:0,copper:0};const e=r(t.value,'财产.货币',{});return{gold:r(e,'金币',0),silver:r(e,'银币',0),copper:r(e,'铜币',0)}}),i=(0,n.computed)(()=>{if(!t.value)return[];const e=c(r(t.value,'财产.背包',{}));return Object.entries(e).map(([e,t])=>({name:e,quality:r(t,'品质','普通'),quantity:r(t,'数量',1),type:r(t,'类型','其它物品'),tags:r(t,'标签',''),effect:r(t,'效果',''),description:r(t,'描述','无描述')}))}),u=(0,n.computed)(()=>{const e={};return i.value.forEach(t=>{const a=t.type||'其它物品';e[a]||(e[a]=[]),e[a].push(t)}),Object.values(e).forEach(e=>{e.sort((e,t)=>{const a=l[e.quality]||0;return(l[t.quality]||0)-a})}),e}),m=(0,n.computed)(()=>Object.keys(u.value).sort((e,t)=>(a[t]||0)-(a[e]||0))),d=(0,n.computed)(()=>({types:m.value.length,total:i.value.length})),p=(0,n.computed)(()=>{const{gold:e,silver:t,copper:a}=s.value;return`金币: ${e} | 银币: ${t} | 铜币: ${a} | 物品: ${d.value.total}`});return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'🎒 角色背包',variant:'section','default-open':!1,'summary-details':(0,n.unref)(p)},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 货币显示 '),(0,n.createElementVNode)('div',Le,[t[3]||(t[3]=(0,n.createElementVNode)('p',{class:'property-name'},'💰 货币:',-1)),(0,n.createElementVNode)('div',Fe,[(0,n.createElementVNode)('span',Oe,[t[0]||(t[0]=(0,n.createTextVNode)(' 🟡',-1)),(0,n.createElementVNode)('span',Me,(0,n.toDisplayString)((0,n.unref)(s).gold),1)]),(0,n.createElementVNode)('span',je,[t[1]||(t[1]=(0,n.createTextVNode)(' ⚪',-1)),(0,n.createElementVNode)('span',ze,(0,n.toDisplayString)((0,n.unref)(s).silver),1)]),(0,n.createElementVNode)('span',Pe,[t[2]||(t[2]=(0,n.createTextVNode)(' 🟤',-1)),(0,n.createElementVNode)('span',He,(0,n.toDisplayString)((0,n.unref)(s).copper),1)])])]),t[5]||(t[5]=(0,n.createElementVNode)('hr',{class:'thin-divider'},null,-1)),(0,n.createCommentVNode)(' 物品列表 '),(0,n.createElementVNode)('div',We,[t[4]||(t[4]=(0,n.createElementVNode)('p',{class:'property-name'},'📦 物品列表:',-1)),(0,n.unref)(d).total>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Re,[(0,n.createCommentVNode)(' 按类型分栏显示 '),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(m),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e,class:'items-column'},[(0,n.createElementVNode)('h3',Ue,(0,n.toDisplayString)(e),1),(0,n.createElementVNode)('div',Je,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(u)[e],(e,t)=>((0,n.openBlock)(),(0,n.createBlock)($e,{key:t,name:e.name,quality:e.quality,quantity:e.quantity,type:e.type,tags:e.tags,effect:e.effect,description:e.description},null,8,['name','quality','quantity','type','tags','effect','description']))),128))])]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',Xe,'背包空空如也'))])]),_:1},8,['summary-details']))}}),Ze=(0,f.A)(Ge,[['__scopeId','data-v-1e99eba5']]),Ke={class:'news-content value-main'},Qe=(0,n.defineComponent)({__name:'NewsSection',props:{title:{},content:{default:''},emptyMessage:{default:'（暂无内容）'},titleClass:{default:''}},setup(e){const t=e,a=(0,n.computed)(()=>t.content&&''!==t.content.trim()?t.content.replace(/\|/g,'\n'):t.emptyMessage);return(t,l)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:e.title,variant:'sub-section','default-open':!0,'custom-class':'news-section'},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(e.titleClass)},(0,n.toDisplayString)(e.title),3)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',Ke,(0,n.toDisplayString)((0,n.unref)(a)),1)]),_:1},8,['title']))}}),Ye=(0,f.A)(Qe,[['__scopeId','data-v-337535f6']]),et=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>r(t.value,'每日新闻.阿斯塔利亚快讯','')),l=(0,n.computed)(()=>r(t.value,'每日新闻.酒馆留言板','')),c=(0,n.computed)(()=>r(t.value,'每日新闻.红线助手的午后茶会','')),s=()=>{'function'==typeof triggerSlash?triggerSlash('/send 更新"每日新闻"|/trigger'):console.error('triggerSlash function is not available.')};return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'🌍 每日新闻',variant:'section','default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 更新新闻按钮 '),(0,n.createElementVNode)('button',{class:'update-button',onClick:s},'更新每日新闻'),(0,n.createCommentVNode)(' 阿斯塔利亚快讯 '),(0,n.createVNode)(Ye,{title:'📰 阿斯塔利亚快讯',content:(0,n.unref)(a),'empty-message':'暂无最新快讯','title-class':'news-gold-lion'},null,8,['content']),(0,n.createCommentVNode)(' 酒馆留言板 '),(0,n.createVNode)(Ye,{title:'🍻 酒馆留言板',content:(0,n.unref)(l),'empty-message':'留言板上空空如也','title-class':'news-tavern'},null,8,['content']),(0,n.createCommentVNode)(' 红线助手的午后茶会 '),(0,n.createVNode)(Ye,{title:'☕ 红线助手的午后茶会',content:(0,n.unref)(c),'empty-message':'茶会上没什么新八卦','title-class':'news-tea-party'},null,8,['content'])]),_:1}))}}),tt=(0,f.A)(et,[['__scopeId','data-v-42a456cc']]),at={class:'skill-description value-main'},lt={key:0,class:'skill-type'},nt={class:'skill-meta'},ot={class:'skill-meta'},rt={class:'skill-meta'},ct=(0,n.defineComponent)({__name:'SkillItem',props:{name:{},quality:{default:''},cost:{default:''},tags:{default:''},effect:{default:''},description:{},type:{},otherTypeName:{default:'其它'}},setup(e){const t=e,a=(0,n.computed)(()=>{let e=t.name;return t.quality&&(e+=`(${t.quality})`),e}),l=(0,n.computed)(()=>'active'!==t.type&&'other'!==t.type||!t.cost?'':`消耗: ${t.cost}`);return(t,o)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:(0,n.unref)(a),variant:'entry','default-open':!1,'custom-class':'skill-item','summary-details':(0,n.unref)(l)},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['value-main',(0,n.unref)(ve)(e.quality)])},[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1),e.quality?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)('('+(0,n.toDisplayString)(e.quality)+')',1)],64)):(0,n.createCommentVNode)('v-if',!0)],2)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',at,['other'===e.type&&e.otherTypeName?((0,n.openBlock)(),(0,n.createElementBlock)('div',lt,[o[0]||(o[0]=(0,n.createElementVNode)('strong',null,'类型：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.otherTypeName),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',nt,[o[1]||(o[1]=(0,n.createElementVNode)('strong',null,'标签：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.tags),1)]),(0,n.createElementVNode)('div',ot,[o[2]||(o[2]=(0,n.createElementVNode)('strong',null,'效果：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.effect),1)]),(0,n.createElementVNode)('div',rt,[o[3]||(o[3]=(0,n.createElementVNode)('strong',null,'描述：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.description),1)])])]),_:1},8,['title','summary-details']))}}),st=(0,f.A)(ct,[['__scopeId','data-v-c0c1c5f2']]),it={class:'skills-column'},ut={key:0,class:'skills-list'},mt={key:1,class:'empty-message value-main'},dt={class:'skills-column'},pt={key:0,class:'skills-list'},vt={key:1,class:'empty-message value-main'},yt={key:0,class:'skills-column'},ft={class:'skills-list'},kt=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a={神话:6,传说:5,史诗:4,稀有:3,优良:2,普通:1},l=(0,n.computed)(()=>{const e=c(r(t.value,'技能列表',{})),l=[],n=[],o=[];Object.entries(e).forEach(([e,t])=>{const a=r(t,'类型',''),c={key:e,name:e,quality:r(t,'品质',''),cost:r(t,'消耗',''),tags:r(t,'标签',''),effect:r(t,'效果',''),description:r(t,'描述',''),type:a};'主动'===a?l.push(c):'被动'===a?n.push(c):a&&o.push(c)});const s=(e,t)=>(a[t.quality]||0)-(a[e.quality]||0);return l.sort(s),n.sort(s),o.sort(s),{active:l,passive:n,other:o}});return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'💫 角色技能',variant:'section','default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['skills-grid',{'has-other':(0,n.unref)(l).other.length>0}])},[(0,n.createCommentVNode)(' 主动技能列 '),(0,n.createElementVNode)('div',it,[t[0]||(t[0]=(0,n.createElementVNode)('h3',{class:'skills-category-title'},'🌀 主动技能',-1)),(0,n.unref)(l).active.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',ut,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l).active,e=>((0,n.openBlock)(),(0,n.createBlock)(st,{key:e.key,name:e.name,quality:e.quality,cost:e.cost,tags:e.tags,effect:e.effect,description:e.description,type:'active'},null,8,['name','quality','cost','tags','effect','description']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',mt,'尚未习得任何主动技能'))]),(0,n.createCommentVNode)(' 被动技能列 '),(0,n.createElementVNode)('div',dt,[t[1]||(t[1]=(0,n.createElementVNode)('h3',{class:'skills-category-title'},'📌 被动技能',-1)),(0,n.unref)(l).passive.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',pt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l).passive,e=>((0,n.openBlock)(),(0,n.createBlock)(st,{key:e.key,name:e.name,quality:e.quality,tags:e.tags,effect:e.effect,description:e.description,type:'passive'},null,8,['name','quality','tags','effect','description']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',vt,'尚未拥有任何被动技能'))]),(0,n.createCommentVNode)(' 其他技能列 '),(0,n.unref)(l).other.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',yt,[t[2]||(t[2]=(0,n.createElementVNode)('h3',{class:'skills-category-title'},'✨ 其他技能',-1)),(0,n.createElementVNode)('div',ft,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l).other,e=>((0,n.openBlock)(),(0,n.createBlock)(st,{key:e.key,name:e.name,quality:e.quality,cost:e.cost,tags:e.tags,effect:e.effect,description:e.description,'other-type-name':e.type,type:'other'},null,8,['name','quality','cost','tags','effect','description','other-type-name']))),128))])])):(0,n.createCommentVNode)('v-if',!0)],2)]),_:1}))}}),gt=(0,f.A)(kt,[['__scopeId','data-v-4f91ebde']]),Nt={key:0,class:'tasks-container'},Vt={class:'task-content'},Et={class:'task-field'},Bt={class:'value-main'},bt={class:'task-field'},ht={class:'value-main'},Ct={class:'task-field'},xt={class:'value-main'},St={key:1,class:'empty-message value-main'},_t=(0,n.defineComponent)({__name:'Task',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>{const e=c(r(t.value,'任务列表',{}));return Object.entries(e).map(([e,t])=>({key:e,title:e,intro:r(t,'简介',''),target:r(t,'目标',''),reward:r(t,'奖励','')}))}),l=(0,n.computed)(()=>a.value.length),s=(0,n.computed)(()=>`进行中: ${l.value}个`);return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'📜 当前任务',variant:'section','summary-details':(0,n.unref)(s),'default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.unref)(l)>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Nt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(a),e=>((0,n.openBlock)(),(0,n.createBlock)(k,{key:e.key,title:`🚩 ${e.title}`,variant:'entry','default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',Vt,[(0,n.createElementVNode)('p',Et,[t[0]||(t[0]=(0,n.createElementVNode)('span',{class:'field-label'},'📖 简介:',-1)),(0,n.createElementVNode)('span',Bt,(0,n.toDisplayString)(e.intro),1)]),(0,n.createElementVNode)('p',bt,[t[1]||(t[1]=(0,n.createElementVNode)('span',{class:'field-label'},'🎯 目标:',-1)),(0,n.createElementVNode)('span',ht,(0,n.toDisplayString)(e.target),1)]),(0,n.createElementVNode)('p',Ct,[t[2]||(t[2]=(0,n.createElementVNode)('span',{class:'field-label'},'🏆 奖励:',-1)),(0,n.createElementVNode)('span',xt,(0,n.toDisplayString)(e.reward),1)])])]),_:2},1032,['title']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',St,'暂无任务'))]),_:1},8,['summary-details']))}}),Dt=(0,f.A)(_t,[['__scopeId','data-v-2accb5ef']]),qt={id:'default',name:'经典羊皮纸',colors:{background:'#f0e6d2',backgroundOpacity:1,mainBorder:'#785a4e',mainBorderWidth:2,backgroundSecondary:'#e8ddcb',backgroundTertiary:'#fdfaf5',backgroundTertiaryOpacity:.9,borderLight:'#d3c5b3',borderDark:'#c6b8a5',textPrimary:'#4a3b31',textSecondary:'#6a514d',textTertiary:'#5d4037',textMuted:'#7a655d',qualityMythic:'#d32f2f',qualityLegendary:'#9e7121',qualityEpic:'#9c27b0',qualityRare:'#193c96',qualityUncommon:'#388e3c',resourceHp:'#D32F2F',resourceMp:'#1976D2',resourceSp:'#388E3C',resourceExp:'#FFA000',buttonBg:'#8d6e63',buttonBgHover:'#6d4c41',buttonText:'#ffffff',progressBarBg:'#c8bbaf',progressBarFill:'#bfa996',starActive:'#f7d75a',starInactive:'#a39281',affectionBar:'#ec407a',newsImportant:'#b9892d',newsNormal:'#6d4c41',newsMinor:'#c2185b',disabledBg:'#e8e4e0',disabledText:'#b5aaa2',titleBg:'#d7c8b6',titleBgHover:'#cbb8a5',openBg:'#bfa996',openBorderColor:'#a39281'}},wt=t('status-bar-theme',()=>{const e=(0,n.ref)(JSON.parse(JSON.stringify(qt))),t=(0,n.ref)(null),a=(0,n.ref)(!1),l=(0,n.computed)(()=>t.value?{...e.value.colors,...t.value}:e.value.colors),o=async()=>{try{await insertOrAssignVariables({status_bar_theme:t.value||{}},{type:'character'})}catch(e){console.error('保存主题配置失败:',e)}};return{currentTheme:e,userTheme:t,themeLoaded:a,effectiveColors:l,loadThemeFromTavern:()=>{try{const e=getVariables({type:'character'}),l=_.get(e,'status_bar_theme',null);l&&'object'==typeof l&&(t.value=l),a.value=!0}catch(e){console.error('加载主题配置失败:',e),a.value=!0}},saveThemeToTavern:o,updateColor:(e,a)=>{t.value||(t.value={}),t.value[e]=a},updateColors:e=>{t.value||(t.value={}),Object.assign(t.value,e)},resetToDefault:async()=>{t.value=JSON.parse(JSON.stringify(qt.colors));try{await o()}catch(e){console.error('重置主题配置失败:',e)}},getThemeInfo:()=>({name:e.value.name,id:e.value.id,isCustomized:null!==t.value&&Object.keys(t.value).length>0}),applyCssVariables:()=>{const e=l.value,t=document.documentElement;Object.entries(e).forEach(([e,a])=>{const l=`--theme-${e.replace(/([A-Z])/g,'-$1').toLowerCase()}`;let n=String(a);'mainBorderWidth'===e&&'number'==typeof a&&(n=`${a}px`),t.style.setProperty(l,n)})}}}),Tt={class:'theme-panel'},At={class:'theme-info'},It={class:'info-content'},$t={key:0,class:'customized-tag'},Lt={key:1,class:'theme-name'},Ft={key:0,class:'editing-panel'},Ot={class:'group-selector'},Mt=['onClick'],jt={class:'color-editor'},zt={class:'color-items'},Pt={class:'input-group'},Ht=['value','min','max','step','onInput'],Wt={class:'value-display'},Rt=['value','onInput'],Ut=['value','onInput'],Jt=(0,n.defineComponent)({__name:'ThemePanel',setup(e){const t=wt(),a=(0,n.ref)(!1),l=(0,n.ref)('main'),o={main:{label:'主题背景与边框',keys:['background','backgroundOpacity','mainBorder','mainBorderWidth','backgroundSecondary','backgroundTertiary','backgroundTertiaryOpacity']},borders:{label:'边框颜色',keys:['borderLight','borderDark']},text:{label:'文本颜色',keys:['textPrimary','textSecondary','textTertiary','textMuted']},quality:{label:'品质颜色',keys:['qualityMythic','qualityLegendary','qualityEpic','qualityRare','qualityUncommon']},resources:{label:'状态条颜色',keys:['resourceHp','resourceMp','resourceSp','resourceExp']},button:{label:'按钮颜色',keys:['buttonBg','buttonBgHover','buttonText']},progress:{label:'进度条颜色',keys:['progressBarBg','progressBarFill']},special:{label:'特殊元素',keys:['starActive','starInactive','affectionBar','newsImportant','newsNormal','newsMinor']},status:{label:'状态颜色',keys:['disabledBg','disabledText','titleBg','titleBgHover','openBg','openBorderColor']}},r={background:'主背景色',backgroundOpacity:'主背景透明度',mainBorder:'主边框色',mainBorderWidth:'主边框宽度',backgroundSecondary:'次级背景色',backgroundTertiary:'三级背景色',backgroundTertiaryOpacity:'三级背景透明度',borderLight:'浅色边框',borderDark:'深色边框',textPrimary:'主文本色',textSecondary:'次文本色',textTertiary:'三级文本色',textMuted:'淡化文本色',qualityMythic:'神话品质',qualityLegendary:'传说品质',qualityEpic:'史诗品质',qualityRare:'稀有品质',qualityUncommon:'精良品质',resourceHp:'生命值',resourceMp:'法力值',resourceSp:'体力值',resourceExp:'经验值',buttonBg:'按钮背景',buttonBgHover:'按钮悬停',buttonText:'按钮文字',progressBarBg:'进度条背景',progressBarFill:'进度条填充',starActive:'激活星标',starInactive:'非激活星标',affectionBar:'好感度进度条',newsImportant:'阿斯塔利亚快讯',newsNormal:'酒馆留言板',newsMinor:'午后茶会',disabledBg:'禁用背景',disabledText:'禁用文本',titleBg:'标题背景',titleBgHover:'标题悬停',openBg:'打开背景',openBorderColor:'打开边框'},c=(0,n.computed)(()=>{const e=o[l.value],a=t.effectiveColors;return e.keys.map(e=>({key:e,label:r[e],value:a[e]}))}),s=e=>'backgroundOpacity'===e||'backgroundTertiaryOpacity'===e?{min:0,max:1,step:.1}:'mainBorderWidth'===e?{min:1,max:10,step:1}:{min:0,max:100,step:1},i=(e,a)=>{t.updateColor(e,a)},u=async()=>{await t.saveThemeToTavern(),a.value=!1},m=async()=>{confirm('确定要重置为默认主题吗？')&&await t.resetToDefault()};return(e,r)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',Tt,[(0,n.createCommentVNode)(' 主题信息 '),(0,n.createElementVNode)('div',At,[(0,n.createElementVNode)('div',It,[(0,n.createElementVNode)('h3',null,[r[1]||(r[1]=(0,n.createTextVNode)(' 🎨 主题设置 ',-1)),(0,n.unref)(t).getThemeInfo().isCustomized?((0,n.openBlock)(),(0,n.createElementBlock)('span',$t,' 自定义 ')):((0,n.openBlock)(),(0,n.createElementBlock)('span',Lt,(0,n.toDisplayString)((0,n.unref)(t).getThemeInfo().name),1))])]),(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['toggle-btn',{active:a.value}]),onClick:r[0]||(r[0]=e=>a.value=!a.value)},(0,n.toDisplayString)(a.value?'折叠编辑':'📝 编辑'),3)]),(0,n.createCommentVNode)(' 编辑面板 '),a.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ft,[(0,n.createCommentVNode)(' 颜色分组选择 '),(0,n.createElementVNode)('div',Ot,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o,(e,t)=>(0,n.createElementVNode)('button',{key:t,class:(0,n.normalizeClass)(['group-btn',{active:l.value===t}]),onClick:e=>l.value=t},(0,n.toDisplayString)(e.label),11,Mt)),64))]),(0,n.createCommentVNode)(' 颜色编辑区域 '),(0,n.createElementVNode)('div',jt,[(0,n.createElementVNode)('h4',null,(0,n.toDisplayString)(o[l.value].label),1),(0,n.createElementVNode)('div',zt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(c.value,e=>{return(0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.key,class:'color-item'},[(0,n.createElementVNode)('label',null,(0,n.toDisplayString)(e.label),1),(0,n.createElementVNode)('div',Pt,[(t=e.key,'backgroundOpacity'===t||'backgroundTertiaryOpacity'===t||'mainBorderWidth'===t?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createElementVNode)('input',{type:'range',class:'slider',value:e.value,min:s(e.key).min,max:s(e.key).max,step:s(e.key).step,onInput:t=>i(e.key,parseFloat(t.target.value))},null,40,Ht),(0,n.createElementVNode)('span',Wt,(0,n.toDisplayString)(e.value),1)],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)('input',{type:'color',class:'color-input',value:e.value,onInput:t=>i(e.key,t.target.value)},null,40,Rt),(0,n.createElementVNode)('input',{type:'text',class:'text-input',value:e.value,onInput:t=>i(e.key,t.target.value)},null,40,Ut)],64)))])]);var t}),128))])]),(0,n.createCommentVNode)(' 操作按钮 '),(0,n.createElementVNode)('div',{class:'actions'},[(0,n.createElementVNode)('button',{class:'btn-primary',onClick:u},'💾 保存'),(0,n.createElementVNode)('button',{class:'btn-secondary',onClick:m},'🔄 重置为默认')])])):(0,n.createCommentVNode)('v-if',!0)]))}}),Xt=(0,f.A)(Jt,[['__scopeId','data-v-1c73130a']]),Gt={class:'property-item'},Zt={class:'property-name'},Kt={class:'value-main'},Qt=(0,n.defineComponent)({__name:'PropertyItem',props:{label:{},icon:{},value:{}},setup:e=>(t,a)=>((0,n.openBlock)(),(0,n.createElementBlock)('p',Gt,[(0,n.createElementVNode)('span',Zt,[e.icon?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)(e.icon),1)],64)):(0,n.createCommentVNode)('v-if',!0),(0,n.createTextVNode)((0,n.toDisplayString)(e.label)+': ',1)]),(0,n.createElementVNode)('span',Kt,(0,n.toDisplayString)(e.value),1)]))}),Yt=(0,f.A)(Qt,[['__scopeId','data-v-4560ba30']]),ea={class:'resource-item'},ta={class:'resource-label'},aa={class:'property-name'},la={class:'value-main'},na={class:'value-main'},oa={class:'progress-bar-container'},ra=(0,n.defineComponent)({__name:'ResourceBar',props:{label:{},icon:{},current:{},max:{},color:{}},setup:e=>(t,a)=>{return(0,n.openBlock)(),(0,n.createElementBlock)('div',ea,[(0,n.createElementVNode)('div',ta,[(0,n.createElementVNode)('span',aa,(0,n.toDisplayString)(e.icon)+' '+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',la,(0,n.toDisplayString)(e.current),1),a[0]||(a[0]=(0,n.createTextVNode)(' / ',-1)),(0,n.createElementVNode)('span',na,(0,n.toDisplayString)(e.max),1)]),(0,n.createElementVNode)('div',oa,[(0,n.createElementVNode)('div',{class:'progress-bar-value',style:(0,n.normalizeStyle)({width:`${l=e.current,o=e.max,Math.min(100,l/o*100)}%`,backgroundColor:e.color})},null,4)])]);var l,o}}),ca=(0,f.A)(ra,[['__scopeId','data-v-10a80049']]),sa={class:'resources-section'},ia={class:'status-grid'},ua={class:'status-grid-left'},ma={class:'status-grid-right'},da=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=wt(),l=(0,n.computed)(()=>{if(!t.value)return{hp:{current:0,max:0},mp:{current:0,max:0},sp:{current:0,max:0},exp:{current:0,needed:0}};const e=r(t.value,'角色.资源',{}),a=r(t.value,'角色.状态',{});return{hp:{current:r(e,'生命值',0),max:r(e,'生命值上限',0)},mp:{current:r(e,'法力值',0),max:r(e,'法力值上限',0)},sp:{current:r(e,'体力值',0),max:r(e,'体力值上限',0)},exp:{current:r(a,'累计经验值',0),needed:r(a,'升级所需经验',0)}}}),c=(0,n.computed)(()=>{if(!t.value)return{lifeLevel:'第一层级/普通层级',level:1,race:'未知',identity:'暂无',occupation:'暂无',adventurerRank:'未评级'};const e=r(t.value,'角色',{}),a=r(e,'状态',{}),l=s(r(e,'身份',[])),n=s(r(e,'职业',[]));return{lifeLevel:r(a,'生命层级','第一层级/普通层级'),level:r(a,'等级',1),race:r(e,'种族','未知'),identity:Array.isArray(l)?l.length>0?l.join(', '):'暂无':l||'暂无',occupation:Array.isArray(n)?n.length>0?n.join(', '):'暂无':n||'暂无',adventurerRank:r(a,'冒险者等级','未评级')}}),i=(0,n.computed)(()=>{if(!t.value)return{ap:0,str:0,agi:0,con:0,int:0,spi:0};const e=r(t.value,'角色.属性',{});return{ap:r(e,'属性点',0),str:r(e,'力量',0),agi:r(e,'敏捷',0),con:r(e,'体质',0),int:r(e,'智力',0),spi:r(e,'精神',0)}}),u=(0,n.computed)(()=>`${c.value.lifeLevel} | 等级: ${c.value.level} | HP: ${l.value.hp.current}/${l.value.hp.max} | MP: ${l.value.mp.current}/${l.value.mp.max} | SP: ${l.value.sp.current}/${l.value.sp.max}`);return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'👤 角色信息与状态',variant:'section','summary-details':(0,n.unref)(u),'default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 资源条区域 '),(0,n.createElementVNode)('div',sa,[(0,n.createVNode)(ca,{label:'HP',icon:'❤️',current:(0,n.unref)(l).hp.current,max:(0,n.unref)(l).hp.max,color:(0,n.unref)(a).effectiveColors.resourceHp},null,8,['current','max','color']),(0,n.createVNode)(ca,{label:'MP',icon:'🔮',current:(0,n.unref)(l).mp.current,max:(0,n.unref)(l).mp.max,color:(0,n.unref)(a).effectiveColors.resourceMp},null,8,['current','max','color']),(0,n.createVNode)(ca,{label:'SP',icon:'⚡',current:(0,n.unref)(l).sp.current,max:(0,n.unref)(l).sp.max,color:(0,n.unref)(a).effectiveColors.resourceSp},null,8,['current','max','color']),(0,n.createVNode)(ca,{label:'累计经验',icon:'⭐',current:(0,n.unref)(l).exp.current,max:(0,n.unref)(l).exp.needed,color:(0,n.unref)(a).effectiveColors.resourceExp},null,8,['current','max','color'])]),(0,n.createCommentVNode)(' 状态网格布局 '),(0,n.createElementVNode)('div',ia,[(0,n.createCommentVNode)(' 左侧：生命层级、等级、种族、身份、职业、状态、称号等 '),(0,n.createElementVNode)('div',ua,[(0,n.createVNode)(Yt,{label:'⚜️ 生命层级',value:(0,n.unref)(c).lifeLevel},null,8,['value']),(0,n.createVNode)(Yt,{label:'✨ 等级',value:(0,n.unref)(c).level},null,8,['value']),(0,n.createVNode)(Yt,{label:'🧬 种族',value:(0,n.unref)(c).race},null,8,['value']),(0,n.createVNode)(Yt,{label:'👑 身份',value:(0,n.unref)(c).identity},null,8,['value']),(0,n.createVNode)(Yt,{label:'⚖️ 职业',value:(0,n.unref)(c).occupation},null,8,['value']),(0,n.createVNode)(Yt,{label:'🔥 冒险者等级',value:(0,n.unref)(c).adventurerRank},null,8,['value'])]),(0,n.createCommentVNode)(' 右侧：属性点和五维属性 '),(0,n.createElementVNode)('div',ma,[(0,n.createVNode)(Yt,{icon:'🎯',label:'属性点 AP',value:(0,n.unref)(i).ap},null,8,['value']),(0,n.createVNode)(Yt,{icon:'💪',label:'力量 STR',value:(0,n.unref)(i).str},null,8,['value']),(0,n.createVNode)(Yt,{icon:'🤸',label:'敏捷 AGI',value:(0,n.unref)(i).agi},null,8,['value']),(0,n.createVNode)(Yt,{icon:'🏋️',label:'体质 CON',value:(0,n.unref)(i).con},null,8,['value']),(0,n.createVNode)(Yt,{icon:'🧠',label:'智力 INT',value:(0,n.unref)(i).int},null,8,['value']),(0,n.createVNode)(Yt,{icon:'🧘',label:'精神 SPI',value:(0,n.unref)(i).spi},null,8,['value'])])])]),_:1},8,['summary-details']))}}),pa=(0,f.A)(da,[['__scopeId','data-v-c4fd4752']]),va={class:'world-status'},ya={class:'world-info'},fa={class:'value-main'},ka={class:'world-info'},ga={class:'value-main'},Na=(0,n.defineComponent)({__name:'WorldStatus',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>r(t.value,'世界.时间','未知时间')),l=(0,n.computed)(()=>r(t.value,'世界.地点','未知地点'));return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',va,[(0,n.createElementVNode)('p',ya,[t[0]||(t[0]=(0,n.createElementVNode)('span',{class:'info-icon'},'⏳️',-1)),t[1]||(t[1]=(0,n.createElementVNode)('span',{class:'info-label'},'时间:',-1)),(0,n.createElementVNode)('span',fa,(0,n.toDisplayString)((0,n.unref)(a)),1)]),(0,n.createElementVNode)('p',ka,[t[2]||(t[2]=(0,n.createElementVNode)('span',{class:'info-icon'},'📍',-1)),t[3]||(t[3]=(0,n.createElementVNode)('span',{class:'info-label'},'地点:',-1)),(0,n.createElementVNode)('span',ga,(0,n.toDisplayString)((0,n.unref)(l)),1)])]))}}),Va=(0,f.A)(Na,[['__scopeId','data-v-77b8dafd']]);const Ea={class:'layout'},Ba=(0,n.defineComponent)({__name:'App',setup(e){const{themeStore:t}=function(){const e=wt();return(0,n.watch)(()=>e.effectiveColors,()=>{e.applyCssVariables()},{deep:!0}),{themeStore:e}}();return(0,n.onMounted)(()=>{t.loadThemeFromTavern(),t.applyCssVariables()}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',Ea,[(0,n.createVNode)(Xt),(0,n.createVNode)(Va),(0,n.createVNode)(W),(0,n.createVNode)(Dt),(0,n.createVNode)(pa),(0,n.createVNode)(_e),(0,n.createVNode)(gt),(0,n.createVNode)(Ze),(0,n.createVNode)(pe),(0,n.createVNode)(tt)]))}}),ba=(0,f.A)(Ba,[['__scopeId','data-v-4aab5234']]),ha=e();$(()=>{const e=(0,n.createApp)(ba);e.use(ha),e.mount('#app')});</script><style>.details-status[data-v-5a0c4dec]{margin-bottom:6px;border:1px solid var(--theme-border-light);border-radius:4px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:all .3s ease-in-out}.details-status[data-v-5a0c4dec]:hover{transform:translateY(-3px);box-shadow:0 6px 15px rgba(0,0,0,.25)}.details-status.locked .summary[data-v-5a0c4dec]{background-color:var(--theme-disabled-bg);color:var(--theme-disabled-text);cursor:not-allowed}.details-status.locked .summary .icon-star[data-v-5a0c4dec]{color:var(--theme-disabled-text)}.summary[data-v-5a0c4dec]{font-family:"Cinzel",serif;font-weight:700;color:var(--theme-text-tertiary);background-color:var(--theme-title-bg);padding:4px 15px;cursor:pointer;list-style:none;border-bottom:1px solid var(--theme-border-dark);text-align:left;transition:background-color .2s ease,color .2s ease}.summary[data-v-5a0c4dec]:hover{background-color:var(--theme-title-bg-hover);color:var(--theme-text-primary)}.is-open .summary[data-v-5a0c4dec]{background-color:var(--theme-open-bg);border-bottom-color:var(--theme-open-border-color)}.summary.has-wrapped-summary[data-v-5a0c4dec]{padding-bottom:8px}.summary-main-line[data-v-5a0c4dec]{display:flex;align-items:center;width:100%}.icon-star[data-v-5a0c4dec]{font-size:1.1em;color:var(--theme-star-inactive);text-shadow:none;margin-right:12px;flex-shrink:0;transform-origin:center center;transition:transform .4s cubic-bezier(0.68,-0.55,0.27,1.55),color .4s ease,text-shadow .4s ease}.icon-star.is-open[data-v-5a0c4dec]{transform:rotate(360deg);color:var(--theme-star-active);text-shadow:0 0 3px hsla(0,0%,100%,.8),0 0 6px var(--theme-star-active),0 0 10px #e5a50a}.summary-title[data-v-5a0c4dec]{flex:1}.summary-details[data-v-5a0c4dec]{margin-left:auto;padding-right:15px;font-family:"Noto Sans SC","Courier New",monospace;font-weight:500;font-size:.8em;color:var(--theme-text-secondary);letter-spacing:.5px;text-shadow:0 0 1px rgba(0,0,0,.05);align-self:center;flex-shrink:0}.summary-wrapped-details[data-v-5a0c4dec]{margin-top:6px;padding-left:22px;padding-right:10px;font-family:"Noto Sans SC","Courier New",monospace;font-weight:500;font-size:.8em;color:var(--theme-text-secondary);letter-spacing:.5px;text-shadow:0 0 1px rgba(0,0,0,.05);line-height:1.4;word-break:auto-phrase}.arrow-toggle[data-v-5a0c4dec]{transition:transform .2s ease-in-out;font-size:.8em;padding-left:5px;margin-left:auto;flex-shrink:0}.arrow-toggle.rotated[data-v-5a0c4dec]{transform:rotate(90deg)}.details-content[data-v-5a0c4dec]{background-color:var(--theme-background-tertiary);opacity:var(--theme-background-tertiary-opacity);transition:height .2s ease-in-out;overflow:hidden}.details-content-inner[data-v-5a0c4dec]{padding:15px;text-align:left;font-size:.9em}.collapse-enter-active[data-v-5a0c4dec],.collapse-leave-active[data-v-5a0c4dec]{transition:height .2s ease-in-out;overflow:hidden}.collapse-enter-from[data-v-5a0c4dec],.collapse-leave-to[data-v-5a0c4dec]{height:0 !important}.details-sub-section .details-content-inner[data-v-5a0c4dec]{padding-top:5px;padding-bottom:5px}.details-entry .summary[data-v-5a0c4dec]{padding-top:.8px;padding-bottom:.8px;font-size:.9em}.details-entry .details-content-inner[data-v-5a0c4dec]{padding:10px 15px}
.step-level-req[data-v-0729fc4b]{font-size:.8em;color:var(--theme-text-muted);font-style:italic;margin-left:15px}.step-items-container[data-v-0729fc4b]{display:flex;flex-direction:column;gap:8px}.step-item[data-v-0729fc4b]{margin-bottom:5px;line-height:1.6}.item-name[data-v-0729fc4b]{font-weight:bold;color:var(--theme-text-tertiary)}.item-desc[data-v-0729fc4b]{font-size:.9em;font-style:italic;color:var(--theme-text-muted);margin-left:20px;display:block}.empty-slot[data-v-0729fc4b]{color:var(--theme-text-muted);font-style:italic;margin:0}.god-tier-grid[data-v-0729fc4b]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width:768px){.god-tier-grid[data-v-0729fc4b]{grid-template-columns:1fr;gap:10px}}
.destiny-character[data-v-50d482ce]{margin-bottom:6px}.character-info[data-v-50d482ce]{display:flex;flex-direction:column;gap:12px}.info-section[data-v-50d482ce],.destiny-section[data-v-50d482ce]{display:flex;flex-direction:column;gap:8px}.info-row[data-v-50d482ce]{display:flex;gap:8px;line-height:1.6;align-items:baseline}.info-row .property-name[data-v-50d482ce]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);flex-shrink:0}.info-row .value-main[data-v-50d482ce]{color:var(--theme-text-primary);word-break:break-word}.info-row.wrap-value[data-v-50d482ce]{flex-direction:column;gap:2px;align-items:flex-start}.info-row.wrap-value .value-main[data-v-50d482ce]{padding-left:1.5em}.divider[data-v-50d482ce]{border:0;border-top:1px solid var(--theme-border-dark);width:100%}.affection-bar-container[data-v-50d482ce]{background-color:var(--theme-progress-bar-bg);border-radius:9px;height:18px;margin-top:4px;margin-bottom:8px;overflow:hidden;border:1px solid rgba(0,0,0,.15);box-shadow:inset 0 1px 4px rgba(0,0,0,.2)}.affection-bar-value[data-v-50d482ce]{height:100%;transition:width .8s ease-out;border-radius:9px;background-color:var(--theme-affection-bar);background-image:linear-gradient(to bottom,rgba(255,255,255,0.15),rgba(0,0,0,0.1));box-shadow:inset 0 -1px 3px rgba(0,0,0,.1)}.bond-skill-section[data-v-50d482ce]{margin-top:10px}.bond-skill-content[data-v-50d482ce]{white-space:pre-wrap;line-height:1.6}.skill-item+.skill-item[data-v-50d482ce]{margin-top:8px}.skill-name[data-v-50d482ce]{font-weight:bold;color:var(--theme-text-tertiary)}.skill-description[data-v-50d482ce]{font-size:.9em;color:var(--theme-text-muted);padding-left:1em}
.gacha-button[data-v-7482abfa]{background-color:var(--theme-button-bg);color:var(--theme-button-text);border:none;padding:8px 12px;border-radius:4px;cursor:pointer;font-family:"Noto Sans SC",sans-serif;font-size:.9em;margin-bottom:10px;box-shadow:0 2px 5px rgba(0,0,0,.2);transition:all .2s ease}.gacha-button[data-v-7482abfa]:hover{background-color:var(--theme-button-bg-hover);box-shadow:0 4px 10px rgba(0,0,0,.3);transform:translateY(-2px)}.gacha-button[data-v-7482abfa]:active{transform:translateY(1px);box-shadow:0 1px 3px rgba(0,0,0,.2)}.destiny-points[data-v-7482abfa]{margin-bottom:12px;line-height:1.6}.destiny-points .property-name[data-v-7482abfa]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08)}.destiny-points .value-main[data-v-7482abfa]{color:var(--theme-text-primary)}.characters-list[data-v-7482abfa]{display:flex;flex-direction:column;gap:6px}.empty-message[data-v-7482abfa]{color:var(--theme-text-muted);font-style:italic;margin:0}
.equipment-entry[data-v-7123c11e] .summary-title{display:flex;align-items:center;gap:4px}.equipment-details[data-v-7123c11e]{color:var(--theme-text-primary);line-height:1.6;display:flex;flex-direction:column;gap:8px}.equipment-meta[data-v-7123c11e]{color:var(--theme-text-secondary);font-size:.95em}.equipment-meta strong[data-v-7123c11e]{color:var(--theme-text-tertiary)}
.equipment-section .property-name[data-v-430210a0]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);margin-bottom:12px}.equipment-grid[data-v-430210a0]{display:flex;flex-direction:column;gap:20px}.equipment-column[data-v-430210a0]{display:flex;flex-direction:column;gap:10px}.equipment-category-title[data-v-430210a0]{font-family:"Cinzel",serif;font-size:1em;font-weight:700;color:var(--theme-text-tertiary);padding-bottom:8px;border-bottom:1px solid var(--theme-border-light);margin-bottom:6px}.equipment-list[data-v-430210a0]{display:flex;flex-direction:column;gap:8px}.empty-category[data-v-430210a0]{color:var(--theme-text-muted);font-style:italic;font-size:.9em;padding:5px 10px}.empty-message[data-v-430210a0]{color:var(--theme-text-muted);font-style:italic;margin:0;padding-left:15px}
.item-entry[data-v-73eaae28] .summary-title{display:flex;align-items:center;gap:4px}.item-details[data-v-73eaae28]{color:var(--theme-text-primary);line-height:1.6;display:flex;flex-direction:column;gap:8px}.item-type[data-v-73eaae28],.item-meta[data-v-73eaae28]{color:var(--theme-text-secondary);font-size:.95em}.item-type strong[data-v-73eaae28],.item-meta strong[data-v-73eaae28]{color:var(--theme-text-tertiary)}
.currency-section[data-v-1e99eba5]{margin-bottom:8px}.currency-section .property-name[data-v-1e99eba5]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);margin-bottom:8px}.currency-display[data-v-1e99eba5]{display:flex;flex-direction:row;flex-wrap:nowrap;gap:16px;padding-left:15px;align-items:center}.currency-item[data-v-1e99eba5]{display:inline-flex;align-items:center;gap:4px;font-size:.95em}.currency-item .value-main[data-v-1e99eba5]{font-weight:500}.thin-divider[data-v-1e99eba5]{border:0;border-top:2px solid var(--theme-border-dark);margin:10px 0;width:100%}.items-section .property-name[data-v-1e99eba5]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);margin-bottom:12px}.items-grid[data-v-1e99eba5]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;align-items:start}.items-column[data-v-1e99eba5]{display:flex;flex-direction:column;gap:10px}.items-category-title[data-v-1e99eba5]{font-family:"Cinzel",serif;font-size:1em;font-weight:700;color:var(--theme-text-tertiary);padding-bottom:8px;border-bottom:1px solid var(--theme-border-light);margin-bottom:6px}.items-list[data-v-1e99eba5]{display:flex;flex-direction:column;gap:6px}.empty-message[data-v-1e99eba5]{color:var(--theme-text-muted);font-style:italic;margin:0;padding-left:15px}@media (max-width:768px){.items-grid[data-v-1e99eba5]{grid-template-columns:1fr;gap:15px}.currency-display[data-v-1e99eba5]{flex-wrap:wrap;gap:8px}}
.news-content[data-v-337535f6]{white-space:pre-wrap;line-height:1.6;color:var(--theme-text-primary)}
.update-button[data-v-42a456cc]{background-color:var(--theme-button-bg);color:var(--theme-button-text);border:none;padding:8px 12px;border-radius:4px;cursor:pointer;font-family:"Noto Sans SC",sans-serif;font-size:.9em;margin-bottom:10px;box-shadow:0 2px 5px rgba(0,0,0,.2);transition:all .2s ease}.update-button[data-v-42a456cc]:hover{background-color:var(--theme-button-bg-hover);box-shadow:0 4px 10px rgba(0,0,0,.3);transform:translateY(-2px)}.update-button[data-v-42a456cc]:active{transform:translateY(1px);box-shadow:0 1px 3px rgba(0,0,0,.2)}[data-v-42a456cc] .news-gold-lion{font-family:"Cinzel",serif;color:var(--theme-news-important);font-weight:700}[data-v-42a456cc] .news-tavern{font-family:"Merriweather",serif;color:var(--theme-news-normal);font-weight:700}[data-v-42a456cc] .news-tea-party{font-family:"Cinzel",serif;color:var(--theme-news-minor);font-weight:700}
.skill-item[data-v-c0c1c5f2] .summary-title{display:flex;align-items:center;gap:4px}.skill-description[data-v-c0c1c5f2]{color:var(--theme-text-primary);line-height:1.6;display:flex;flex-direction:column;gap:8px}.skill-type[data-v-c0c1c5f2],.skill-meta[data-v-c0c1c5f2]{color:var(--theme-text-secondary);font-size:.95em}.skill-type strong[data-v-c0c1c5f2],.skill-meta strong[data-v-c0c1c5f2]{color:var(--theme-text-tertiary)}
.skills-grid[data-v-4f91ebde]{display:grid;grid-template-columns:1fr auto 1fr;gap:20px;align-items:start}.skills-grid[data-v-4f91ebde]::before{content:"";grid-column:2;grid-row:1;width:1px;height:100%;background-color:var(--theme-border-light);justify-self:center}.skills-grid.has-other[data-v-4f91ebde]{grid-template-columns:1fr;gap:20px}.skills-grid.has-other[data-v-4f91ebde]::before{display:none}.skills-grid.has-other .skills-column[data-v-4f91ebde]{grid-column:1}.skills-grid.has-other .skills-column[data-v-4f91ebde]:not(:first-child){padding-top:15px;border-top:1px solid var(--theme-border-light)}.skills-column[data-v-4f91ebde]{display:flex;flex-direction:column;gap:10px}.skills-column[data-v-4f91ebde]:first-child{grid-column:1}.skills-column[data-v-4f91ebde]:last-child{grid-column:3}.skills-category-title[data-v-4f91ebde]{font-family:"Cinzel",serif;font-size:1em;font-weight:700;color:var(--theme-text-tertiary);padding-bottom:8px}.skills-list[data-v-4f91ebde]{display:flex;flex-direction:column;gap:6px}.empty-message[data-v-4f91ebde]{color:var(--theme-text-muted);font-style:italic;margin:0}@media (max-width:768px){.skills-grid[data-v-4f91ebde]{grid-template-columns:1fr;gap:20px}.skills-grid[data-v-4f91ebde]::before,.skills-grid[data-v-4f91ebde]::after{display:none}.skills-column[data-v-4f91ebde]{grid-column:1 !important}.skills-column[data-v-4f91ebde]:not(:first-child){padding-top:10px;border-top:1px solid var(--theme-border-light)}}
=======
<head><script type="module">import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var a={42:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}}},l={};const n=Vue;function o(){const e=(0,n.ref)(null),t=(0,n.ref)(!0),a=(0,n.ref)(null),l=()=>{try{const t=getVariables({type:'message',message_id:getCurrentMessageId()}),l=_.get(t,'stat_data',{});if(!l||0===Object.keys(l).length)throw new Error('无法获取状态数据');e.value=l,a.value=null}catch(e){console.error('加载数据失败:',e),a.value=e instanceof Error?e.message:'未知错误'}finally{t.value=!1}};return(0,n.onMounted)(()=>{l()}),{statData:e,loading:t,error:a,loadData:l}}function r(e,t,a){return _.get(e,t,a)}function c(e){return e&&'object'==typeof e?_.omitBy(e,(e,t)=>'$meta'===t||'$__META_EXTENSIBLE__$'===t):{}}function s(e){return Array.isArray(e)?0===e.length||'$__META_EXTENSIBLE__$'===e[0]?[]:e:e||''}const i={class:'summary-main-line'},u={class:'summary-title'},m={key:0,class:'summary-details'},d={key:0,class:'summary-wrapped-details'},p={class:'details-content'},v={class:'details-content-inner'},y=(0,n.defineComponent)({__name:'CommonStatus',props:{title:{},summaryDetails:{default:''},defaultOpen:{type:Boolean,default:!1},locked:{type:Boolean,default:!1},variant:{default:'section'},icon:{default:''},customClass:{default:''}},setup(e){const t=e,a=(0,n.ref)(t.defaultOpen),l=(0,n.ref)(window.innerWidth),o=()=>{l.value=window.innerWidth};(0,n.onMounted)(()=>{window.addEventListener('resize',o)}),(0,n.onUnmounted)(()=>{window.removeEventListener('resize',o)});const r=(0,n.computed)(()=>{if(!t.summaryDetails)return!1;const e=t.summaryDetails.length;return l.value<=600?e>20:l.value<=1e3?e>30:e>50}),c=(0,n.computed)(()=>{const e=['details-status',`details-${t.variant}`];return t.locked&&e.push('locked'),a.value&&e.push('is-open'),t.customClass&&e.push(t.customClass),e.join(' ')}),s=()=>{t.locked||(a.value=!a.value)},y=e=>{const t=e;t.style.height='0',t.style.overflow='hidden',t.offsetHeight,t.style.height=`${t.scrollHeight}px`},f=e=>{const t=e;t.style.height='',t.style.overflow=''},k=e=>{const t=e;t.style.height=`${t.scrollHeight}px`,t.style.overflow='hidden',t.offsetHeight,t.style.height='0'},g=e=>{const t=e;t.style.height='',t.style.overflow=''};return(t,l)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{class:(0,n.normalizeClass)((0,n.unref)(c))},[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['summary',{'has-wrapped-summary':(0,n.unref)(r)}]),onClick:s},[(0,n.createElementVNode)('div',i,[(0,n.createCommentVNode)(' 左侧图标，如果提供了自定义图标则使用，否则使用默认星星 '),(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['icon-star',{'is-open':(0,n.unref)(a)}])},(0,n.toDisplayString)(e.locked?'🔒':e.icon||'✦'),3),(0,n.createCommentVNode)(' 标题内容 '),(0,n.createElementVNode)('span',u,[(0,n.renderSlot)(t.$slots,'title',{},()=>[(0,n.createTextVNode)((0,n.toDisplayString)(e.title),1)])]),(0,n.createCommentVNode)(' 右侧摘要信息（内容较短时显示在同一行） '),e.summaryDetails&&!(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('span',m,(0,n.toDisplayString)(e.summaryDetails),1)):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' 右侧箭头 '),(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['arrow-toggle',{rotated:(0,n.unref)(a)}])},'▼',2)]),(0,n.createCommentVNode)(' 摘要信息换行显示（内容较长时） '),e.summaryDetails&&(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('div',d,(0,n.toDisplayString)(e.summaryDetails),1)):(0,n.createCommentVNode)('v-if',!0)],2),(0,n.createCommentVNode)(' 折叠内容区域 '),(0,n.createVNode)(n.Transition,{name:'collapse',onEnter:y,onAfterEnter:f,onLeave:k,onAfterLeave:g,persisted:''},{default:(0,n.withCtx)(()=>[(0,n.withDirectives)((0,n.createElementVNode)('div',p,[(0,n.createElementVNode)('div',v,[(0,n.renderSlot)(t.$slots,'default')])],512),[[n.vShow,(0,n.unref)(a)]])]),_:3})],2))}});var f=function e(t){var n=l[t];if(void 0!==n)return n.exports;var o=l[t]={exports:{}};return a[t](o,o.exports,e),o.exports}(42);const k=(0,f.A)(y,[['__scopeId','data-v-5a0c4dec']]),g={key:0,class:'step-items-container'},N={key:0},V={class:'item-name'},E={class:'item-desc'},B={key:1,class:'empty-slot'},b={key:0,class:'step-items-container'},h={key:0},C={class:'item-name'},x={class:'item-desc'},S={key:1,class:'empty-slot'},q={key:0,class:'step-items-container'},D={key:0},w={class:'item-name'},T={class:'item-desc'},A={key:1,class:'empty-slot'},I={key:0,class:'god-tier-grid'},L={class:'step-item'},F={key:0,class:'value-main'},O={key:1,class:'empty-slot'},M={class:'step-item'},j={key:0,class:'value-main'},P={key:1,class:'empty-slot'},H=(0,n.defineComponent)({__name:'Ascension',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>t.value?r(t.value,'角色.状态.等级',1):1),l=(0,n.computed)(()=>t.value?r(t.value,'登神长阶',{}):null),s=(0,n.computed)(()=>{if(!l.value)return[];const e=c(r(l.value,'要素',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),i=(0,n.computed)(()=>{if(!l.value)return[];const e=c(r(l.value,'权能',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),u=(0,n.computed)(()=>{if(!l.value)return[];const e=c(r(l.value,'法则',{}));return Object.entries(e).map(([e,t])=>({name:e,description:String(t||'')}))}),m=(0,n.computed)(()=>l.value?{name:r(l.value,'神位',''),kingdom:r(l.value,'神国.名称','')}:{name:'',kingdom:''}),d=(0,n.computed)(()=>a.value>=13),p=(0,n.computed)(()=>a.value>=17),v=(0,n.computed)(()=>a.value>=21),y=(0,n.computed)(()=>a.value>=25),f=(0,n.computed)(()=>a.value<13?'未开启':a.value>=25&&m.value.name?''!==m.value.name.trim()?`已登神: ${m.value.name}`:'已登神':a.value>=21&&u.value.length>0?'当前阶段: 法则':a.value>=17&&i.value.length>0?'当前阶段: 权能':a.value>=13&&s.value.length>0?'当前阶段: 要素':'长阶已启');return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'♾️ 登神长阶',variant:'section','summary-details':(0,n.unref)(f),'default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 要素 '),(0,n.createVNode)(k,{title:'要素',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(d)},{title:(0,n.withCtx)(()=>[...t[0]||(t[0]=[(0,n.createTextVNode)(' 要素 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'13级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(d)?((0,n.openBlock)(),(0,n.createElementBlock)('div',g,[(0,n.unref)(s).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',N,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(s),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'step-item'},[(0,n.createElementVNode)('span',V,'❖ '+(0,n.toDisplayString)(e.name)+':',1),(0,n.createElementVNode)('span',E,(0,n.toDisplayString)(e.description),1)]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',B,'（尚无要素）'))])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,n.createCommentVNode)(' 权能 '),(0,n.createVNode)(k,{title:'权能',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(p)},{title:(0,n.withCtx)(()=>[...t[1]||(t[1]=[(0,n.createTextVNode)(' 权能 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'17级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(p)?((0,n.openBlock)(),(0,n.createElementBlock)('div',b,[(0,n.unref)(i).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',h,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(i),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'step-item'},[(0,n.createElementVNode)('span',C,'❖ '+(0,n.toDisplayString)(e.name)+':',1),(0,n.createElementVNode)('span',x,(0,n.toDisplayString)(e.description),1)]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',S,'（尚无权能）'))])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,n.createCommentVNode)(' 法则 '),(0,n.createVNode)(k,{title:'法则',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(v)},{title:(0,n.withCtx)(()=>[...t[2]||(t[2]=[(0,n.createTextVNode)(' 法则 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'21级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(v)?((0,n.openBlock)(),(0,n.createElementBlock)('div',q,[(0,n.unref)(u).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',D,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(u),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'step-item'},[(0,n.createElementVNode)('span',w,'❖ '+(0,n.toDisplayString)(e.name)+':',1),(0,n.createElementVNode)('span',T,(0,n.toDisplayString)(e.description),1)]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',A,'（尚无法则）'))])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked']),(0,n.createCommentVNode)(' 神位 / 神国 '),(0,n.createVNode)(k,{title:'神位 / 神国',variant:'sub-section','default-open':!1,locked:!(0,n.unref)(y)},{title:(0,n.withCtx)(()=>[...t[3]||(t[3]=[(0,n.createTextVNode)(' 神位 / 神国 ',-1),(0,n.createElementVNode)('span',{class:'step-level-req'},'25级开启',-1)])]),default:(0,n.withCtx)(()=>[(0,n.unref)(y)?((0,n.openBlock)(),(0,n.createElementBlock)('div',I,[(0,n.createElementVNode)('div',null,[(0,n.createElementVNode)('div',L,[t[4]||(t[4]=(0,n.createElementVNode)('span',{class:'item-name'},'神位: ',-1)),(0,n.unref)(m).name?((0,n.openBlock)(),(0,n.createElementBlock)('span',F,(0,n.toDisplayString)((0,n.unref)(m).name),1)):((0,n.openBlock)(),(0,n.createElementBlock)('span',O,'（尚未登临）'))])]),(0,n.createElementVNode)('div',null,[(0,n.createElementVNode)('div',M,[t[5]||(t[5]=(0,n.createElementVNode)('span',{class:'item-name'},'神国: ',-1)),(0,n.unref)(m).kingdom?((0,n.openBlock)(),(0,n.createElementBlock)('span',j,(0,n.toDisplayString)((0,n.unref)(m).kingdom),1)):((0,n.openBlock)(),(0,n.createElementBlock)('span',P,'（尚未开辟）'))])])])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['locked'])]),_:1},8,['summary-details']))}}),W=(0,f.A)(H,[['__scopeId','data-v-0729fc4b']]),R={class:'character-info'},U={class:'info-section'},J={class:'property-name'},X={class:'value-main'},G={class:'info-section'},Z={class:'property-name'},K={class:'value-main'},Q={class:'destiny-section'},Y={class:'property-name'},ee={class:'value-main'},te={key:0,class:'affection-bar-container'},ae={class:'bond-skill-content'},le={key:0,class:'value-main'},ne={class:'skill-name'},oe={class:'skill-description'},re={key:2,class:'value-main'},ce=(0,n.defineComponent)({__name:'DestinyCharacter',props:{name:{},lifeLevel:{default:'未知'},level:{default:1},race:{default:'未知'},identity:{default:()=>[]},occupation:{default:()=>[]},personality:{default:'未知'},favorites:{default:'未知'},appearance:{default:'未知'},adornments:{default:'未知'},equipment:{default:'未知'},attributes:{default:()=>({})},ascension:{default:'未开启'},isTied:{default:'否'},affection:{default:0},evaluation:{default:''},backstory:{default:'未知'},bondSkill:{default:()=>({})}},setup(e){const t=e,a=(0,n.ref)(window.innerWidth),l=()=>{a.value=window.innerWidth};(0,n.onMounted)(()=>{window.addEventListener('resize',l)}),(0,n.onUnmounted)(()=>{window.removeEventListener('resize',l)});const o=e=>{if(!e)return!1;const t=e.length;return a.value<=600?t>20:a.value<=1e3?t>30:t>50},r=(0,n.computed)(()=>t.identity?'string'==typeof t.identity?t.identity:Array.isArray(t.identity)?0===t.identity.length?'未知':t.identity.join('，'):'未知':'未知'),s=(0,n.computed)(()=>t.occupation?'string'==typeof t.occupation?t.occupation:Array.isArray(t.occupation)?0===t.occupation.length?'未知':t.occupation.join('，'):'未知':'未知'),i=(0,n.computed)(()=>{const e=t.affection||0,a=1e3;return{current:e,max:a,text:`${e}/1000`,percentage:(e/a*100).toFixed(1)}}),u=(0,n.computed)(()=>{if('是'!==t.isTied||!t.bondSkill)return[];const e=c(t.bondSkill),a=Object.entries(e);return 0===a.length?[]:a.map(([e,t])=>({name:e,description:String(t)}))}),m=(0,n.computed)(()=>[{icon:'⚜️',label:'生命层级',value:t.lifeLevel},{icon:'🎯',label:'等级',value:String(t.level)},{icon:'🧬',label:'种族',value:t.race},{icon:'👑',label:'身份',value:r.value},{icon:'⚖️',label:'职业',value:s.value},{icon:'🎭',label:'性格',value:t.personality},{icon:'💖',label:'喜爱',value:t.favorites},{icon:'🌸',label:'外貌特质',value:t.appearance},{icon:'👗',label:'衣物装饰',value:t.adornments},{icon:'⚔️',label:'角色装备',value:t.equipment},{icon:'♾️',label:'登神长阶',value:t.ascension}]),d=(0,n.computed)(()=>{const e=t.attributes||{};return[{icon:'💪',label:'力量',value:String(e.力量??0)},{icon:'⚡',label:'敏捷',value:String(e.敏捷??0)},{icon:'🛡️',label:'体质',value:String(e.体质??0)},{icon:'🧠',label:'智力',value:String(e.智力??0)},{icon:'✨',label:'精神',value:String(e.精神??0)}]}),p=(0,n.computed)(()=>[{icon:'',label:'是否缔结红线',value:t.isTied},{icon:'❤️',label:'好感度',value:i.value.text,showBar:!0},{icon:'💭',label:'评价',value:t.evaluation||'暂无评价'},{icon:'📜',label:'背景故事',value:t.backstory}]);return(t,a)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:e.name,variant:'entry','default-open':!1,'summary-details':`❤️ ${(0,n.unref)(i).text}`,'custom-class':'destiny-character'},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',R,[(0,n.createCommentVNode)(' 基本信息区 '),(0,n.createElementVNode)('div',U,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(m),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.label,class:(0,n.normalizeClass)(['info-row',{'wrap-value':o(e.value)}])},[(0,n.createElementVNode)('span',J,(0,n.toDisplayString)(e.icon)+' '+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',X,(0,n.toDisplayString)(e.value),1)],2))),128))]),a[0]||(a[0]=(0,n.createElementVNode)('hr',{class:'divider'},null,-1)),(0,n.createCommentVNode)(' 五维属性区 '),(0,n.createElementVNode)('div',G,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(d),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.label,class:'info-row'},[(0,n.createElementVNode)('span',Z,(0,n.toDisplayString)(e.icon)+' '+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',K,(0,n.toDisplayString)(e.value),1)]))),128))]),a[1]||(a[1]=(0,n.createElementVNode)('hr',{class:'divider'},null,-1)),(0,n.createCommentVNode)(' 命运关系区 '),(0,n.createElementVNode)('div',Q,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(p),e=>((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:e.label},[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['info-row',{'wrap-value':o(e.value)}])},[(0,n.createElementVNode)('span',Y,(0,n.toDisplayString)(e.icon)+(0,n.toDisplayString)(e.icon?' ':'')+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',ee,(0,n.toDisplayString)(e.value),1)],2),e.showBar?((0,n.openBlock)(),(0,n.createElementBlock)('div',te,[(0,n.createElementVNode)('div',{class:'affection-bar-value',style:(0,n.normalizeStyle)({width:`${(0,n.unref)(i).percentage}%`})},null,4)])):(0,n.createCommentVNode)('v-if',!0)],64))),128))]),a[2]||(a[2]=(0,n.createElementVNode)('hr',{class:'divider'},null,-1)),(0,n.createCommentVNode)(' 羁绊技能区 '),(0,n.createVNode)(k,{title:'💞 羁绊技能',variant:'sub-section','default-open':!1,'custom-class':'bond-skill-section'},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',ae,['是'!==e.isTied?((0,n.openBlock)(),(0,n.createElementBlock)('p',le,'无羁绊技能')):(0,n.unref)(u).length>0?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:1},(0,n.renderList)((0,n.unref)(u),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.name,class:'skill-item'},[(0,n.createElementVNode)('div',ne,(0,n.toDisplayString)(e.name),1),(0,n.createElementVNode)('div',oe,(0,n.toDisplayString)(e.description),1)]))),128)):((0,n.openBlock)(),(0,n.createElementBlock)('p',re,'尚未觉醒'))])]),_:1})])]),_:1},8,['title','summary-details']))}}),se=(0,f.A)(ce,[['__scopeId','data-v-50d482ce']]),ie={class:'destiny-points'},ue={class:'value-main'},me={key:0,class:'characters-list'},de=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>t.value?r(t.value,'命运系统.命运点数',0):0),l=(0,n.computed)(()=>{if(!t.value)return[];const e=c(r(t.value,'命运系统.红线对象',{}));return Object.entries(e).map(([e,t])=>({name:e,lifeLevel:r(t,'生命层级',''),level:r(t,'等级',1),race:r(t,'种族',''),identity:r(t,'身份',[]),occupation:r(t,'职业',[]),personality:r(t,'性格',''),favorites:r(t,'喜爱',''),appearance:r(t,'外貌特质',''),adornments:r(t,'衣物装饰',''),equipment:r(t,'角色装备',''),attributes:r(t,'角色属性',{}),ascension:r(t,'登神长阶',''),isTied:r(t,'是否缔结红线','否'),affection:r(t,'好感度',0),evaluation:r(t,'评价',''),backstory:r(t,'背景故事',''),bondSkill:r(t,'羁绊技能',{})}))}),s=(0,n.computed)(()=>`FP: ${a.value} | 红线: ${l.value.length}人`),i=()=>{'function'==typeof triggerSlash?triggerSlash('/send 开始命运抽卡*5|/trigger'):console.error('triggerSlash function is not available.')};return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'💞 命运红线',variant:'section','default-open':!1,'summary-details':(0,n.unref)(s)},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 命运抽卡按钮 '),(0,n.createElementVNode)('button',{class:'gacha-button',onClick:i},'命运抽卡(5连/500点)'),(0,n.createCommentVNode)(' 命运点数显示 '),(0,n.createElementVNode)('div',ie,[t[0]||(t[0]=(0,n.createElementVNode)('span',{class:'property-name'},'💖 命运点数 FP:',-1)),(0,n.createElementVNode)('span',ue,(0,n.toDisplayString)((0,n.unref)(a)),1)]),(0,n.createCommentVNode)(' 红线角色列表 '),(0,n.unref)(l).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',me,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l),(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(se,{key:t,name:e.name,'life-level':e.lifeLevel,level:e.level,race:e.race,identity:e.identity,occupation:e.occupation,personality:e.personality,favorites:e.favorites,appearance:e.appearance,adornments:e.adornments,equipment:e.equipment,attributes:e.attributes,ascension:e.ascension,'is-tied':e.isTied,affection:e.affection,evaluation:e.evaluation,backstory:e.backstory,'bond-skill':e.bondSkill},null,8,['name','life-level','level','race','identity','occupation','personality','favorites','appearance','adornments','equipment','attributes','ascension','is-tied','affection','evaluation','backstory','bond-skill']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(' 空状态提示 '),t[1]||(t[1]=(0,n.createElementVNode)('p',{class:'empty-message value-main'},'尚未与任何人缔结深刻的命运联系',-1))],2112))]),_:1},8,['summary-details']))}}),pe=(0,f.A)(de,[['__scopeId','data-v-7482abfa']]),ve={唯一:7,神话:6,传说:5,史诗:4,稀有:3,优良:2,普通:1};function ye(e){return{唯一:'quality-unique',神话:'quality-mythic',传说:'quality-legendary',史诗:'quality-epic',稀有:'quality-rare',优良:'quality-uncommon',普通:'quality-common'}[e]||''}function fe(e){return ve[e]||0}function ke(e,t){return fe(t.quality)-fe(e.quality)}const ge={class:'equipment-details value-main'},Ne={class:'equipment-meta'},Ve={class:'equipment-meta'},Ee={class:'equipment-meta'},Be=(0,n.defineComponent)({__name:'EquipmentSlot',props:{equipmentName:{},quality:{default:''},tags:{default:''},effect:{default:''},description:{default:''},position:{default:''}},setup(e){const t=e,a=(0,n.computed)(()=>{let e=t.equipmentName;return t.quality&&(e+=`(${t.quality})`),e}),l=(0,n.computed)(()=>t.position?`位置: ${t.position}`:'');return(t,o)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:(0,n.unref)(a),variant:'entry','default-open':!1,'custom-class':'equipment-entry','summary-details':(0,n.unref)(l)},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['value-main',(0,n.unref)(ye)(e.quality)])},[(0,n.createTextVNode)((0,n.toDisplayString)(e.equipmentName),1),e.quality?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)('('+(0,n.toDisplayString)(e.quality)+')',1)],64)):(0,n.createCommentVNode)('v-if',!0)],2)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',ge,[(0,n.createElementVNode)('div',Ne,[o[0]||(o[0]=(0,n.createElementVNode)('strong',null,'标签：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.tags),1)]),(0,n.createElementVNode)('div',Ve,[o[1]||(o[1]=(0,n.createElementVNode)('strong',null,'效果：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.effect),1)]),(0,n.createElementVNode)('div',Ee,[o[2]||(o[2]=(0,n.createElementVNode)('strong',null,'描述：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.description),1)])])]),_:1},8,['title','summary-details']))}}),be=(0,f.A)(Be,[['__scopeId','data-v-897c0cc2']]),he={class:'equipment-section'},Ce={key:0,class:'equipment-grid'},xe={class:'equipment-category-title'},Se={key:0,class:'empty-category'},_e={key:1,class:'equipment-list'},qe={key:1,class:'empty-message value-main'},De=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=[{key:'武器',title:'🗡️ 武器'},{key:'防具',title:'🛡️ 防具'},{key:'饰品',title:'💍 饰品'}],l=(0,n.computed)(()=>{if(!t.value)return a.map(e=>({...e,items:[]}));const e=r(t.value,'财产.装备',{});return a.map(t=>{const a=r(e,t.key,{}),l=[];return Object.entries(a).forEach(([e,t])=>{if('$meta'===e)return;const a=t;l.push({name:e,quality:r(a,'品质',''),tags:r(a,'标签',''),effect:r(a,'效果',''),description:r(a,'描述',''),position:r(a,'位置','')})}),function(e){e.sort(ke)}(l),{...t,items:l}})}),c=(0,n.computed)(()=>l.value.reduce((e,t)=>e+t.items.length,0));return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'⚔️ 角色装备',variant:'section','default-open':!1,'summary-details':`共 ${(0,n.unref)(c)} 件装备`},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',he,[(0,n.unref)(c)>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ce,[(0,n.createCommentVNode)(' 按类别分栏显示 '),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(l),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.key,class:'equipment-column'},[(0,n.createElementVNode)('h3',xe,(0,n.toDisplayString)(e.title),1),0===e.items.length?((0,n.openBlock)(),(0,n.createElementBlock)('div',Se,'暂无'+(0,n.toDisplayString)(e.key),1)):((0,n.openBlock)(),(0,n.createElementBlock)('div',_e,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.items,e=>((0,n.openBlock)(),(0,n.createBlock)(be,{key:e.name,'equipment-name':e.name,quality:e.quality,tags:e.tags,effect:e.effect,description:e.description,position:e.position},null,8,['equipment-name','quality','tags','effect','description','position']))),128))]))]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',qe,'暂无装备'))])]),_:1},8,['summary-details']))}}),we=(0,f.A)(De,[['__scopeId','data-v-73547c70']]),Te={class:'item-details value-main'},Ae={key:0,class:'item-type'},Ie={key:1,class:'item-meta'},$e={class:'item-meta'},Le={class:'item-meta'},Fe=(0,n.defineComponent)({__name:'ItemEntry',props:{name:{},quality:{default:''},quantity:{},type:{default:'其它物品'},tags:{default:''},effect:{default:''},description:{default:'无'}},setup(e){const t=e,a=(0,n.computed)(()=>{let e=t.name;return t.quality&&(e+=`(${t.quality})`),e}),l=(0,n.computed)(()=>`数量: ${t.quantity}`),o=(0,n.computed)(()=>t.type&&'武器防具'!==t.type&&'消耗品'!==t.type&&'材料'!==t.type),r=(0,n.computed)(()=>t.tags&&'无'!==t.tags);return(t,c)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:(0,n.unref)(a),variant:'entry','default-open':!1,'custom-class':'item-entry','summary-details':(0,n.unref)(l)},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['value-main',(0,n.unref)(ye)(e.quality)])},[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1),e.quality?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)('('+(0,n.toDisplayString)(e.quality)+')',1)],64)):(0,n.createCommentVNode)('v-if',!0)],2)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',Te,[(0,n.unref)(o)?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ae,[c[0]||(c[0]=(0,n.createElementVNode)('strong',null,'类型：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.type),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ie,[c[1]||(c[1]=(0,n.createElementVNode)('strong',null,'标签：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.tags),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',$e,[c[2]||(c[2]=(0,n.createElementVNode)('strong',null,'效果：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.effect),1)]),(0,n.createElementVNode)('div',Le,[c[3]||(c[3]=(0,n.createElementVNode)('strong',null,'描述：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.description),1)])])]),_:1},8,['title','summary-details']))}}),Oe=(0,f.A)(Fe,[['__scopeId','data-v-5c53a144']]),Me={class:'currency-section'},je={class:'currency-display'},ze={class:'currency-item'},Pe={class:'value-main'},He={class:'currency-item'},We={class:'value-main'},Re={class:'currency-item'},Ue={class:'value-main'},Je={class:'items-section'},Xe={key:0,class:'items-grid'},Ge={class:'items-category-title'},Ze={class:'items-list'},Ke={key:1,class:'empty-message value-main'},Qe=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a={武器防具:4,其它物品:3,消耗品:2,材料:1},l=(0,n.computed)(()=>{if(!t.value)return{gold:0,silver:0,copper:0};const e=r(t.value,'财产.货币',{});return{gold:r(e,'金币',0),silver:r(e,'银币',0),copper:r(e,'铜币',0)}}),s=(0,n.computed)(()=>{if(!t.value)return[];const e=c(r(t.value,'财产.背包',{}));return Object.entries(e).map(([e,t])=>({name:e,quality:r(t,'品质','普通'),quantity:r(t,'数量',1),type:r(t,'类型','其它物品'),tags:r(t,'标签',''),effect:r(t,'效果',''),description:r(t,'描述','无描述')}))}),i=(0,n.computed)(()=>{const e={};return s.value.forEach(t=>{const a=t.type||'其它物品';e[a]||(e[a]=[]),e[a].push(t)}),Object.values(e).forEach(e=>{e.sort(ke)}),e}),u=(0,n.computed)(()=>Object.keys(i.value).sort((e,t)=>(a[t]||0)-(a[e]||0))),m=(0,n.computed)(()=>({types:u.value.length,total:s.value.length})),d=(0,n.computed)(()=>{const{gold:e,silver:t,copper:a}=l.value;return`金币: ${e} | 银币: ${t} | 铜币: ${a} | 物品: ${m.value.total}`});return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'🎒 角色背包',variant:'section','default-open':!1,'summary-details':(0,n.unref)(d)},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 货币显示 '),(0,n.createElementVNode)('div',Me,[t[3]||(t[3]=(0,n.createElementVNode)('p',{class:'property-name'},'💰 货币:',-1)),(0,n.createElementVNode)('div',je,[(0,n.createElementVNode)('span',ze,[t[0]||(t[0]=(0,n.createTextVNode)(' 🟡',-1)),(0,n.createElementVNode)('span',Pe,(0,n.toDisplayString)((0,n.unref)(l).gold),1)]),(0,n.createElementVNode)('span',He,[t[1]||(t[1]=(0,n.createTextVNode)(' ⚪',-1)),(0,n.createElementVNode)('span',We,(0,n.toDisplayString)((0,n.unref)(l).silver),1)]),(0,n.createElementVNode)('span',Re,[t[2]||(t[2]=(0,n.createTextVNode)(' 🟤',-1)),(0,n.createElementVNode)('span',Ue,(0,n.toDisplayString)((0,n.unref)(l).copper),1)])])]),t[5]||(t[5]=(0,n.createElementVNode)('hr',{class:'thin-divider'},null,-1)),(0,n.createCommentVNode)(' 物品列表 '),(0,n.createElementVNode)('div',Je,[t[4]||(t[4]=(0,n.createElementVNode)('p',{class:'property-name'},'📦 物品列表:',-1)),(0,n.unref)(m).total>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Xe,[(0,n.createCommentVNode)(' 按类型分栏显示 '),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(u),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e,class:'items-column'},[(0,n.createElementVNode)('h3',Ge,(0,n.toDisplayString)(e),1),(0,n.createElementVNode)('div',Ze,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(i)[e],(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(Oe,{key:t,name:e.name,quality:e.quality,quantity:e.quantity,type:e.type,tags:e.tags,effect:e.effect,description:e.description},null,8,['name','quality','quantity','type','tags','effect','description']))),128))])]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',Ke,'背包空空如也'))])]),_:1},8,['summary-details']))}}),Ye=(0,f.A)(Qe,[['__scopeId','data-v-3f42996a']]),et={class:'news-content value-main'},tt=(0,n.defineComponent)({__name:'NewsSection',props:{title:{},content:{default:''},emptyMessage:{default:'（暂无内容）'},titleClass:{default:''}},setup(e){const t=e,a=(0,n.computed)(()=>t.content&&''!==t.content.trim()?t.content.replace(/\|/g,'\n'):t.emptyMessage);return(t,l)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:e.title,variant:'sub-section','default-open':!0,'custom-class':'news-section'},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(e.titleClass)},(0,n.toDisplayString)(e.title),3)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',et,(0,n.toDisplayString)((0,n.unref)(a)),1)]),_:1},8,['title']))}}),at=(0,f.A)(tt,[['__scopeId','data-v-337535f6']]),lt=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>r(t.value,'每日新闻.阿斯塔利亚快讯','')),l=(0,n.computed)(()=>r(t.value,'每日新闻.酒馆留言板','')),c=(0,n.computed)(()=>r(t.value,'每日新闻.午后茶会','')),s=()=>{'function'==typeof triggerSlash?triggerSlash('/send 更新"每日新闻"|/trigger'):console.error('triggerSlash function is not available.')};return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'🌍 每日新闻',variant:'section','default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 更新新闻按钮 '),(0,n.createElementVNode)('button',{class:'update-button',onClick:s},'更新每日新闻'),(0,n.createCommentVNode)(' 阿斯塔利亚快讯 '),(0,n.createVNode)(at,{title:'📰 阿斯塔利亚快讯',content:(0,n.unref)(a),'empty-message':'暂无最新快讯','title-class':'news-gold-lion'},null,8,['content']),(0,n.createCommentVNode)(' 酒馆留言板 '),(0,n.createVNode)(at,{title:'🍻 酒馆留言板',content:(0,n.unref)(l),'empty-message':'留言板上空空如也','title-class':'news-tavern'},null,8,['content']),(0,n.createCommentVNode)(' 红线助手的午后茶会 '),(0,n.createVNode)(at,{title:'☕ 午后茶会',content:(0,n.unref)(c),'empty-message':'茶会上没什么新八卦','title-class':'news-tea-party'},null,8,['content'])]),_:1}))}}),nt=(0,f.A)(lt,[['__scopeId','data-v-133ab360']]),ot={class:'skill-description value-main'},rt={key:0,class:'skill-type'},ct={class:'skill-meta'},st={class:'skill-meta'},it={class:'skill-meta'},ut=(0,n.defineComponent)({__name:'SkillItem',props:{name:{},quality:{default:''},cost:{default:''},tags:{default:''},effect:{default:''},description:{},type:{},otherTypeName:{default:'其它'}},setup(e){const t=e,a=(0,n.computed)(()=>{let e=t.name;return t.quality&&(e+=`(${t.quality})`),e}),l=(0,n.computed)(()=>'active'!==t.type&&'other'!==t.type||!t.cost?'':`消耗: ${t.cost}`);return(t,o)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:(0,n.unref)(a),variant:'entry','default-open':!1,'custom-class':'skill-item','summary-details':(0,n.unref)(l)},{title:(0,n.withCtx)(()=>[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['value-main',(0,n.unref)(ye)(e.quality)])},[(0,n.createTextVNode)((0,n.toDisplayString)(e.name),1),e.quality?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)('('+(0,n.toDisplayString)(e.quality)+')',1)],64)):(0,n.createCommentVNode)('v-if',!0)],2)]),default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',ot,['other'===e.type&&e.otherTypeName?((0,n.openBlock)(),(0,n.createElementBlock)('div',rt,[o[0]||(o[0]=(0,n.createElementVNode)('strong',null,'类型：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.otherTypeName),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',ct,[o[1]||(o[1]=(0,n.createElementVNode)('strong',null,'标签：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.tags),1)]),(0,n.createElementVNode)('div',st,[o[2]||(o[2]=(0,n.createElementVNode)('strong',null,'效果：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.effect),1)]),(0,n.createElementVNode)('div',it,[o[3]||(o[3]=(0,n.createElementVNode)('strong',null,'描述：',-1)),(0,n.createTextVNode)((0,n.toDisplayString)(e.description),1)])])]),_:1},8,['title','summary-details']))}}),mt=(0,f.A)(ut,[['__scopeId','data-v-6ef8755d']]),dt={class:'skills-column'},pt={key:0,class:'skills-list'},vt={key:1,class:'empty-message value-main'},yt={class:'skills-column'},ft={key:0,class:'skills-list'},kt={key:1,class:'empty-message value-main'},gt={key:0,class:'skills-column'},Nt={class:'skills-list'},Vt=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>{const e=c(r(t.value,'技能列表',{})),a=[],l=[],n=[];return Object.entries(e).forEach(([e,t])=>{const o=r(t,'类型',''),c={key:e,name:e,quality:r(t,'品质',''),cost:r(t,'消耗',''),tags:r(t,'标签',''),effect:r(t,'效果',''),description:r(t,'描述',''),type:o};'主动'===o?a.push(c):'被动'===o?l.push(c):o&&n.push(c)}),a.sort(ke),l.sort(ke),n.sort(ke),{active:a,passive:l,other:n}});return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'💫 角色技能',variant:'section','default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['skills-grid',{'has-other':(0,n.unref)(a).other.length>0}])},[(0,n.createCommentVNode)(' 主动技能列 '),(0,n.createElementVNode)('div',dt,[t[0]||(t[0]=(0,n.createElementVNode)('h3',{class:'skills-category-title'},'🌀 主动技能',-1)),(0,n.unref)(a).active.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',pt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(a).active,e=>((0,n.openBlock)(),(0,n.createBlock)(mt,{key:e.key,name:e.name,quality:e.quality,cost:e.cost,tags:e.tags,effect:e.effect,description:e.description,type:'active'},null,8,['name','quality','cost','tags','effect','description']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',vt,'尚未习得任何主动技能'))]),(0,n.createCommentVNode)(' 被动技能列 '),(0,n.createElementVNode)('div',yt,[t[1]||(t[1]=(0,n.createElementVNode)('h3',{class:'skills-category-title'},'📌 被动技能',-1)),(0,n.unref)(a).passive.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',ft,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(a).passive,e=>((0,n.openBlock)(),(0,n.createBlock)(mt,{key:e.key,name:e.name,quality:e.quality,tags:e.tags,effect:e.effect,description:e.description,type:'passive'},null,8,['name','quality','tags','effect','description']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',kt,'尚未拥有任何被动技能'))]),(0,n.createCommentVNode)(' 其他技能列 '),(0,n.unref)(a).other.length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',gt,[t[2]||(t[2]=(0,n.createElementVNode)('h3',{class:'skills-category-title'},'✨ 其他技能',-1)),(0,n.createElementVNode)('div',Nt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(a).other,e=>((0,n.openBlock)(),(0,n.createBlock)(mt,{key:e.key,name:e.name,quality:e.quality,cost:e.cost,tags:e.tags,effect:e.effect,description:e.description,'other-type-name':e.type,type:'other'},null,8,['name','quality','cost','tags','effect','description','other-type-name']))),128))])])):(0,n.createCommentVNode)('v-if',!0)],2)]),_:1}))}}),Et=(0,f.A)(Vt,[['__scopeId','data-v-9604e0e2']]),Bt={key:0,class:'tasks-container'},bt={class:'task-content'},ht={class:'task-field'},Ct={class:'value-main'},xt={class:'task-field'},St={class:'value-main'},_t={class:'task-field'},qt={class:'value-main'},Dt={key:1,class:'empty-message value-main'},wt=(0,n.defineComponent)({__name:'Task',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>{const e=c(r(t.value,'任务列表',{}));return Object.entries(e).map(([e,t])=>({key:e,title:e,intro:r(t,'简介',''),target:r(t,'目标',''),reward:r(t,'奖励','')}))}),l=(0,n.computed)(()=>a.value.length),s=(0,n.computed)(()=>`进行中: ${l.value}个`);return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'📜 当前任务',variant:'section','summary-details':(0,n.unref)(s),'default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.unref)(l)>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Bt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(a),e=>((0,n.openBlock)(),(0,n.createBlock)(k,{key:e.key,title:`🚩 ${e.title}`,variant:'entry','default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',bt,[(0,n.createElementVNode)('p',ht,[t[0]||(t[0]=(0,n.createElementVNode)('span',{class:'field-label'},'📖 简介:',-1)),(0,n.createElementVNode)('span',Ct,(0,n.toDisplayString)(e.intro),1)]),(0,n.createElementVNode)('p',xt,[t[1]||(t[1]=(0,n.createElementVNode)('span',{class:'field-label'},'🎯 目标:',-1)),(0,n.createElementVNode)('span',St,(0,n.toDisplayString)(e.target),1)]),(0,n.createElementVNode)('p',_t,[t[2]||(t[2]=(0,n.createElementVNode)('span',{class:'field-label'},'🏆 奖励:',-1)),(0,n.createElementVNode)('span',qt,(0,n.toDisplayString)(e.reward),1)])])]),_:2},1032,['title']))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('p',Dt,'暂无任务'))]),_:1},8,['summary-details']))}}),Tt=(0,f.A)(wt,[['__scopeId','data-v-2accb5ef']]),At={id:'default',name:'经典羊皮纸',colors:{background:'#f0e6d2',backgroundOpacity:1,mainBorder:'#785a4e',mainBorderWidth:2,backgroundSecondary:'#e8ddcb',backgroundTertiary:'#fdfaf5',backgroundTertiaryOpacity:.9,borderLight:'#d3c5b3',borderDark:'#c6b8a5',textPrimary:'#4a3b31',textSecondary:'#6a514d',textTertiary:'#5d4037',textMuted:'#7a655d',qualityUnique:'#ff6f00',qualityMythic:'#d32f2f',qualityLegendary:'#9e7121',qualityEpic:'#9c27b0',qualityRare:'#193c96',qualityUncommon:'#388e3c',resourceHp:'#D32F2F',resourceMp:'#1976D2',resourceSp:'#388E3C',resourceExp:'#FFA000',buttonBg:'#8d6e63',buttonBgHover:'#6d4c41',buttonText:'#ffffff',progressBarBg:'#c8bbaf',progressBarFill:'#bfa996',starActive:'#f7d75a',starInactive:'#a39281',affectionBar:'#ec407a',newsImportant:'#b9892d',newsNormal:'#6d4c41',newsMinor:'#c2185b',disabledBg:'#e8e4e0',disabledText:'#b5aaa2',titleBg:'#d7c8b6',titleBgHover:'#cbb8a5',openBg:'#bfa996',openBorderColor:'#a39281'}},It=t('status-bar-theme',()=>{const e=(0,n.ref)(JSON.parse(JSON.stringify(At))),t=(0,n.ref)(null),a=(0,n.ref)(!1),l=(0,n.computed)(()=>t.value?{...e.value.colors,...t.value}:e.value.colors),o=async()=>{try{await insertOrAssignVariables({status_bar_theme:t.value||{}},{type:'character'})}catch(e){console.error('保存主题配置失败:',e)}};return{currentTheme:e,userTheme:t,themeLoaded:a,effectiveColors:l,loadThemeFromTavern:()=>{try{const e=getVariables({type:'character'}),l=_.get(e,'status_bar_theme',null);l&&'object'==typeof l&&(t.value=l),a.value=!0}catch(e){console.error('加载主题配置失败:',e),a.value=!0}},saveThemeToTavern:o,updateColor:(e,a)=>{t.value||(t.value={}),t.value[e]=a},updateColors:e=>{t.value||(t.value={}),Object.assign(t.value,e)},resetToDefault:async()=>{t.value=JSON.parse(JSON.stringify(At.colors));try{await o()}catch(e){console.error('重置主题配置失败:',e)}},getThemeInfo:()=>({name:e.value.name,id:e.value.id,isCustomized:null!==t.value&&Object.keys(t.value).length>0}),applyCssVariables:()=>{const e=l.value,t=document.documentElement;Object.entries(e).forEach(([e,a])=>{const l=`--theme-${e.replace(/([A-Z])/g,'-$1').toLowerCase()}`;let n=String(a);'mainBorderWidth'===e&&'number'==typeof a&&(n=`${a}px`),t.style.setProperty(l,n)})}}}),$t={class:'theme-panel'},Lt={class:'theme-info'},Ft={class:'info-content'},Ot={key:0,class:'customized-tag'},Mt={key:1,class:'theme-name'},jt={key:0,class:'editing-panel'},zt={class:'group-selector'},Pt=['onClick'],Ht={class:'color-editor'},Wt={class:'color-items'},Rt={class:'input-group'},Ut=['value','min','max','step','onInput'],Jt={class:'value-display'},Xt=['value','onInput'],Gt=['value','onInput'],Zt=(0,n.defineComponent)({__name:'ThemePanel',setup(e){const t=It(),a=(0,n.ref)(!1),l=(0,n.ref)('main'),o={main:{label:'主题背景与边框',keys:['background','backgroundOpacity','mainBorder','mainBorderWidth','backgroundSecondary','backgroundTertiary','backgroundTertiaryOpacity']},borders:{label:'边框颜色',keys:['borderLight','borderDark']},text:{label:'文本颜色',keys:['textPrimary','textSecondary','textTertiary','textMuted']},quality:{label:'品质颜色',keys:['qualityMythic','qualityLegendary','qualityEpic','qualityRare','qualityUncommon']},resources:{label:'状态条颜色',keys:['resourceHp','resourceMp','resourceSp','resourceExp']},button:{label:'按钮颜色',keys:['buttonBg','buttonBgHover','buttonText']},progress:{label:'进度条颜色',keys:['progressBarBg','progressBarFill']},special:{label:'特殊元素',keys:['starActive','starInactive','affectionBar','newsImportant','newsNormal','newsMinor']},status:{label:'状态颜色',keys:['disabledBg','disabledText','titleBg','titleBgHover','openBg','openBorderColor']}},r={background:'主背景色',backgroundOpacity:'主背景透明度',mainBorder:'主边框色',mainBorderWidth:'主边框宽度',backgroundSecondary:'次级背景色',backgroundTertiary:'三级背景色',backgroundTertiaryOpacity:'三级背景透明度',borderLight:'浅色边框',borderDark:'深色边框',textPrimary:'主文本色',textSecondary:'次文本色',textTertiary:'三级文本色',textMuted:'淡化文本色',qualityMythic:'神话品质',qualityLegendary:'传说品质',qualityEpic:'史诗品质',qualityRare:'稀有品质',qualityUncommon:'精良品质',resourceHp:'生命值',resourceMp:'法力值',resourceSp:'体力值',resourceExp:'经验值',buttonBg:'按钮背景',buttonBgHover:'按钮悬停',buttonText:'按钮文字',progressBarBg:'进度条背景',progressBarFill:'进度条填充',starActive:'激活星标',starInactive:'非激活星标',affectionBar:'好感度进度条',newsImportant:'阿斯塔利亚快讯',newsNormal:'酒馆留言板',newsMinor:'午后茶会',disabledBg:'禁用背景',disabledText:'禁用文本',titleBg:'标题背景',titleBgHover:'标题悬停',openBg:'打开背景',openBorderColor:'打开边框'},c=(0,n.computed)(()=>{const e=o[l.value],a=t.effectiveColors;return e.keys.map(e=>({key:e,label:r[e],value:a[e]}))}),s=e=>'backgroundOpacity'===e||'backgroundTertiaryOpacity'===e?{min:0,max:1,step:.1}:'mainBorderWidth'===e?{min:1,max:10,step:1}:{min:0,max:100,step:1},i=(e,a)=>{t.updateColor(e,a)},u=async()=>{await t.saveThemeToTavern(),a.value=!1},m=async()=>{confirm('确定要重置为默认主题吗？')&&await t.resetToDefault()};return(e,r)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',$t,[(0,n.createCommentVNode)(' 主题信息 '),(0,n.createElementVNode)('div',Lt,[(0,n.createElementVNode)('div',Ft,[(0,n.createElementVNode)('h3',null,[r[1]||(r[1]=(0,n.createTextVNode)(' 🎨 主题设置 ',-1)),(0,n.unref)(t).getThemeInfo().isCustomized?((0,n.openBlock)(),(0,n.createElementBlock)('span',Ot,' 自定义 ')):((0,n.openBlock)(),(0,n.createElementBlock)('span',Mt,(0,n.toDisplayString)((0,n.unref)(t).getThemeInfo().name),1))])]),(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['toggle-btn',{active:a.value}]),onClick:r[0]||(r[0]=e=>a.value=!a.value)},(0,n.toDisplayString)(a.value?'折叠编辑':'📝 编辑'),3)]),(0,n.createCommentVNode)(' 编辑面板 '),a.value?((0,n.openBlock)(),(0,n.createElementBlock)('div',jt,[(0,n.createCommentVNode)(' 颜色分组选择 '),(0,n.createElementVNode)('div',zt,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o,(e,t)=>(0,n.createElementVNode)('button',{key:t,class:(0,n.normalizeClass)(['group-btn',{active:l.value===t}]),onClick:e=>l.value=t},(0,n.toDisplayString)(e.label),11,Pt)),64))]),(0,n.createCommentVNode)(' 颜色编辑区域 '),(0,n.createElementVNode)('div',Ht,[(0,n.createElementVNode)('h4',null,(0,n.toDisplayString)(o[l.value].label),1),(0,n.createElementVNode)('div',Wt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(c.value,e=>{return(0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.key,class:'color-item'},[(0,n.createElementVNode)('label',null,(0,n.toDisplayString)(e.label),1),(0,n.createElementVNode)('div',Rt,[(t=e.key,'backgroundOpacity'===t||'backgroundTertiaryOpacity'===t||'mainBorderWidth'===t?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createElementVNode)('input',{type:'range',class:'slider',value:e.value,min:s(e.key).min,max:s(e.key).max,step:s(e.key).step,onInput:t=>i(e.key,parseFloat(t.target.value))},null,40,Ut),(0,n.createElementVNode)('span',Jt,(0,n.toDisplayString)(e.value),1)],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)('input',{type:'color',class:'color-input',value:e.value,onInput:t=>i(e.key,t.target.value)},null,40,Xt),(0,n.createElementVNode)('input',{type:'text',class:'text-input',value:e.value,onInput:t=>i(e.key,t.target.value)},null,40,Gt)],64)))])]);var t}),128))])]),(0,n.createCommentVNode)(' 操作按钮 '),(0,n.createElementVNode)('div',{class:'actions'},[(0,n.createElementVNode)('button',{class:'btn-primary',onClick:u},'💾 保存'),(0,n.createElementVNode)('button',{class:'btn-secondary',onClick:m},'🔄 重置为默认')])])):(0,n.createCommentVNode)('v-if',!0)]))}}),Kt=(0,f.A)(Zt,[['__scopeId','data-v-44a141fa']]),Qt={class:'property-item'},Yt={class:'property-name'},ea={class:'value-main'},ta=(0,n.defineComponent)({__name:'PropertyItem',props:{label:{},icon:{},value:{}},setup:e=>(t,a)=>((0,n.openBlock)(),(0,n.createElementBlock)('p',Qt,[(0,n.createElementVNode)('span',Yt,[e.icon?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)(e.icon),1)],64)):(0,n.createCommentVNode)('v-if',!0),(0,n.createTextVNode)((0,n.toDisplayString)(e.label)+': ',1)]),(0,n.createElementVNode)('span',ea,(0,n.toDisplayString)(e.value),1)]))}),aa=(0,f.A)(ta,[['__scopeId','data-v-4560ba30']]),la={class:'resource-item'},na={class:'resource-label'},oa={class:'property-name'},ra={class:'value-main'},ca={class:'value-main'},sa={class:'progress-bar-container'},ia=(0,n.defineComponent)({__name:'ResourceBar',props:{label:{},icon:{},current:{},max:{},color:{}},setup:e=>(t,a)=>{return(0,n.openBlock)(),(0,n.createElementBlock)('div',la,[(0,n.createElementVNode)('div',na,[(0,n.createElementVNode)('span',oa,(0,n.toDisplayString)(e.icon)+' '+(0,n.toDisplayString)(e.label)+':',1),(0,n.createElementVNode)('span',ra,(0,n.toDisplayString)(e.current),1),a[0]||(a[0]=(0,n.createTextVNode)(' / ',-1)),(0,n.createElementVNode)('span',ca,(0,n.toDisplayString)(e.max),1)]),(0,n.createElementVNode)('div',sa,[(0,n.createElementVNode)('div',{class:'progress-bar-value',style:(0,n.normalizeStyle)({width:`${l=e.current,o=e.max,Math.min(100,l/o*100)}%`,backgroundColor:e.color})},null,4)])]);var l,o}}),ua=(0,f.A)(ia,[['__scopeId','data-v-10a80049']]),ma={class:'resources-section'},da={class:'status-grid'},pa={class:'status-grid-left'},va={class:'status-grid-right'},ya=(0,n.defineComponent)({__name:'index',setup(e){const{statData:t}=o(),a=It(),l=(0,n.computed)(()=>{if(!t.value)return{hp:{current:0,max:0},mp:{current:0,max:0},sp:{current:0,max:0},exp:{current:0,needed:0}};const e=r(t.value,'角色.资源',{}),a=r(t.value,'角色.状态',{});return{hp:{current:r(e,'生命值',0),max:r(e,'生命值上限',0)},mp:{current:r(e,'法力值',0),max:r(e,'法力值上限',0)},sp:{current:r(e,'体力值',0),max:r(e,'体力值上限',0)},exp:{current:r(a,'累计经验值',0),needed:r(a,'升级所需经验',0)}}}),c=(0,n.computed)(()=>{if(!t.value)return{lifeLevel:'第一层级/普通层级',level:1,race:'未知',identity:'暂无',occupation:'暂无',adventurerRank:'未评级'};const e=r(t.value,'角色',{}),a=r(e,'状态',{}),l=s(r(e,'身份',[])),n=s(r(e,'职业',[]));return{lifeLevel:r(a,'生命层级','第一层级/普通层级'),level:r(a,'等级',1),race:r(e,'种族','未知'),identity:Array.isArray(l)?l.length>0?l.join(', '):'暂无':l||'暂无',occupation:Array.isArray(n)?n.length>0?n.join(', '):'暂无':n||'暂无',adventurerRank:r(a,'冒险者等级','未评级')}}),i=(0,n.computed)(()=>{if(!t.value)return{ap:0,str:0,agi:0,con:0,int:0,spi:0};const e=r(t.value,'角色.属性',{});return{ap:r(e,'属性点',0),str:r(e,'力量',0),agi:r(e,'敏捷',0),con:r(e,'体质',0),int:r(e,'智力',0),spi:r(e,'精神',0)}}),u=(0,n.computed)(()=>`${c.value.lifeLevel} | 等级: ${c.value.level} | HP: ${l.value.hp.current}/${l.value.hp.max} | MP: ${l.value.mp.current}/${l.value.mp.max} | SP: ${l.value.sp.current}/${l.value.sp.max}`);return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(k,{title:'👤 角色信息与状态',variant:'section','summary-details':(0,n.unref)(u),'default-open':!1},{default:(0,n.withCtx)(()=>[(0,n.createCommentVNode)(' 资源条区域 '),(0,n.createElementVNode)('div',ma,[(0,n.createVNode)(ua,{label:'HP',icon:'❤️',current:(0,n.unref)(l).hp.current,max:(0,n.unref)(l).hp.max,color:(0,n.unref)(a).effectiveColors.resourceHp},null,8,['current','max','color']),(0,n.createVNode)(ua,{label:'MP',icon:'🔮',current:(0,n.unref)(l).mp.current,max:(0,n.unref)(l).mp.max,color:(0,n.unref)(a).effectiveColors.resourceMp},null,8,['current','max','color']),(0,n.createVNode)(ua,{label:'SP',icon:'⚡',current:(0,n.unref)(l).sp.current,max:(0,n.unref)(l).sp.max,color:(0,n.unref)(a).effectiveColors.resourceSp},null,8,['current','max','color']),(0,n.createVNode)(ua,{label:'累计经验',icon:'⭐',current:(0,n.unref)(l).exp.current,max:(0,n.unref)(l).exp.needed,color:(0,n.unref)(a).effectiveColors.resourceExp},null,8,['current','max','color'])]),(0,n.createCommentVNode)(' 状态网格布局 '),(0,n.createElementVNode)('div',da,[(0,n.createCommentVNode)(' 左侧：生命层级、等级、种族、身份、职业、状态、称号等 '),(0,n.createElementVNode)('div',pa,[(0,n.createVNode)(aa,{label:'⚜️ 生命层级',value:(0,n.unref)(c).lifeLevel},null,8,['value']),(0,n.createVNode)(aa,{label:'✨ 等级',value:(0,n.unref)(c).level},null,8,['value']),(0,n.createVNode)(aa,{label:'🧬 种族',value:(0,n.unref)(c).race},null,8,['value']),(0,n.createVNode)(aa,{label:'👑 身份',value:(0,n.unref)(c).identity},null,8,['value']),(0,n.createVNode)(aa,{label:'⚖️ 职业',value:(0,n.unref)(c).occupation},null,8,['value']),(0,n.createVNode)(aa,{label:'🔥 冒险者等级',value:(0,n.unref)(c).adventurerRank},null,8,['value'])]),(0,n.createCommentVNode)(' 右侧：属性点和五维属性 '),(0,n.createElementVNode)('div',va,[(0,n.createVNode)(aa,{icon:'🎯',label:'属性点 AP',value:(0,n.unref)(i).ap},null,8,['value']),(0,n.createVNode)(aa,{icon:'💪',label:'力量 STR',value:(0,n.unref)(i).str},null,8,['value']),(0,n.createVNode)(aa,{icon:'🤸',label:'敏捷 AGI',value:(0,n.unref)(i).agi},null,8,['value']),(0,n.createVNode)(aa,{icon:'🏋️',label:'体质 CON',value:(0,n.unref)(i).con},null,8,['value']),(0,n.createVNode)(aa,{icon:'🧠',label:'智力 INT',value:(0,n.unref)(i).int},null,8,['value']),(0,n.createVNode)(aa,{icon:'🧘',label:'精神 SPI',value:(0,n.unref)(i).spi},null,8,['value'])])])]),_:1},8,['summary-details']))}}),fa=(0,f.A)(ya,[['__scopeId','data-v-c4fd4752']]),ka={class:'world-status'},ga={class:'world-info'},Na={class:'value-main'},Va={class:'world-info'},Ea={class:'value-main'},Ba=(0,n.defineComponent)({__name:'WorldStatus',setup(e){const{statData:t}=o(),a=(0,n.computed)(()=>r(t.value,'世界.时间','未知时间')),l=(0,n.computed)(()=>r(t.value,'世界.地点','未知地点'));return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',ka,[(0,n.createElementVNode)('p',ga,[t[0]||(t[0]=(0,n.createElementVNode)('span',{class:'info-icon'},'⏳️',-1)),t[1]||(t[1]=(0,n.createElementVNode)('span',{class:'info-label'},'时间:',-1)),(0,n.createElementVNode)('span',Na,(0,n.toDisplayString)((0,n.unref)(a)),1)]),(0,n.createElementVNode)('p',Va,[t[2]||(t[2]=(0,n.createElementVNode)('span',{class:'info-icon'},'📍',-1)),t[3]||(t[3]=(0,n.createElementVNode)('span',{class:'info-label'},'地点:',-1)),(0,n.createElementVNode)('span',Ea,(0,n.toDisplayString)((0,n.unref)(l)),1)])]))}}),ba=(0,f.A)(Ba,[['__scopeId','data-v-77b8dafd']]);const ha={class:'layout'},Ca=(0,n.defineComponent)({__name:'App',setup(e){const{themeStore:t}=function(){const e=It();return(0,n.watch)(()=>e.effectiveColors,()=>{e.applyCssVariables()},{deep:!0}),{themeStore:e}}();return(0,n.onMounted)(()=>{t.loadThemeFromTavern(),t.applyCssVariables()}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',ha,[(0,n.createVNode)(Kt),(0,n.createVNode)(ba),(0,n.createVNode)(W),(0,n.createVNode)(Tt),(0,n.createVNode)(fa),(0,n.createVNode)(we),(0,n.createVNode)(Et),(0,n.createVNode)(Ye),(0,n.createVNode)(pe),(0,n.createVNode)(nt)]))}}),xa=(0,f.A)(Ca,[['__scopeId','data-v-4aab5234']]),Sa=e();$(()=>{const e=(0,n.createApp)(xa);e.use(Sa),e.mount('#app')});</script><style>.details-status[data-v-5a0c4dec]{margin-bottom:6px;border:1px solid var(--theme-border-light);border-radius:4px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:all .3s ease-in-out}.details-status[data-v-5a0c4dec]:hover{transform:translateY(-3px);box-shadow:0 6px 15px rgba(0,0,0,.25)}.details-status.locked .summary[data-v-5a0c4dec]{background-color:var(--theme-disabled-bg);color:var(--theme-disabled-text);cursor:not-allowed}.details-status.locked .summary .icon-star[data-v-5a0c4dec]{color:var(--theme-disabled-text)}.summary[data-v-5a0c4dec]{font-family:"Cinzel",serif;font-weight:700;color:var(--theme-text-tertiary);background-color:var(--theme-title-bg);padding:4px 15px;cursor:pointer;list-style:none;border-bottom:1px solid var(--theme-border-dark);text-align:left;transition:background-color .2s ease,color .2s ease}.summary[data-v-5a0c4dec]:hover{background-color:var(--theme-title-bg-hover);color:var(--theme-text-primary)}.is-open .summary[data-v-5a0c4dec]{background-color:var(--theme-open-bg);border-bottom-color:var(--theme-open-border-color)}.summary.has-wrapped-summary[data-v-5a0c4dec]{padding-bottom:8px}.summary-main-line[data-v-5a0c4dec]{display:flex;align-items:center;width:100%}.icon-star[data-v-5a0c4dec]{font-size:1.1em;color:var(--theme-star-inactive);text-shadow:none;margin-right:12px;flex-shrink:0;transform-origin:center center;transition:transform .4s cubic-bezier(0.68,-0.55,0.27,1.55),color .4s ease,text-shadow .4s ease}.icon-star.is-open[data-v-5a0c4dec]{transform:rotate(360deg);color:var(--theme-star-active);text-shadow:0 0 3px hsla(0,0%,100%,.8),0 0 6px var(--theme-star-active),0 0 10px #e5a50a}.summary-title[data-v-5a0c4dec]{flex:1}.summary-details[data-v-5a0c4dec]{margin-left:auto;padding-right:15px;font-family:"Noto Sans SC","Courier New",monospace;font-weight:500;font-size:.8em;color:var(--theme-text-secondary);letter-spacing:.5px;text-shadow:0 0 1px rgba(0,0,0,.05);align-self:center;flex-shrink:0}.summary-wrapped-details[data-v-5a0c4dec]{margin-top:6px;padding-left:22px;padding-right:10px;font-family:"Noto Sans SC","Courier New",monospace;font-weight:500;font-size:.8em;color:var(--theme-text-secondary);letter-spacing:.5px;text-shadow:0 0 1px rgba(0,0,0,.05);line-height:1.4;word-break:auto-phrase}.arrow-toggle[data-v-5a0c4dec]{transition:transform .2s ease-in-out;font-size:.8em;padding-left:5px;margin-left:auto;flex-shrink:0}.arrow-toggle.rotated[data-v-5a0c4dec]{transform:rotate(90deg)}.details-content[data-v-5a0c4dec]{background-color:var(--theme-background-tertiary);opacity:var(--theme-background-tertiary-opacity);transition:height .2s ease-in-out;overflow:hidden}.details-content-inner[data-v-5a0c4dec]{padding:15px;text-align:left;font-size:.9em}.collapse-enter-active[data-v-5a0c4dec],.collapse-leave-active[data-v-5a0c4dec]{transition:height .2s ease-in-out;overflow:hidden}.collapse-enter-from[data-v-5a0c4dec],.collapse-leave-to[data-v-5a0c4dec]{height:0 !important}.details-sub-section .details-content-inner[data-v-5a0c4dec]{padding-top:5px;padding-bottom:5px}.details-entry .summary[data-v-5a0c4dec]{padding-top:.8px;padding-bottom:.8px;font-size:.9em}.details-entry .details-content-inner[data-v-5a0c4dec]{padding:10px 15px}
.step-level-req[data-v-0729fc4b]{font-size:.8em;color:var(--theme-text-muted);font-style:italic;margin-left:15px}.step-items-container[data-v-0729fc4b]{display:flex;flex-direction:column;gap:8px}.step-item[data-v-0729fc4b]{margin-bottom:5px;line-height:1.6}.item-name[data-v-0729fc4b]{font-weight:bold;color:var(--theme-text-tertiary)}.item-desc[data-v-0729fc4b]{font-size:.9em;font-style:italic;color:var(--theme-text-muted);margin-left:20px;display:block}.empty-slot[data-v-0729fc4b]{color:var(--theme-text-muted);font-style:italic;margin:0}.god-tier-grid[data-v-0729fc4b]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width:768px){.god-tier-grid[data-v-0729fc4b]{grid-template-columns:1fr;gap:10px}}
.destiny-character[data-v-50d482ce]{margin-bottom:6px}.character-info[data-v-50d482ce]{display:flex;flex-direction:column;gap:12px}.info-section[data-v-50d482ce],.destiny-section[data-v-50d482ce]{display:flex;flex-direction:column;gap:8px}.info-row[data-v-50d482ce]{display:flex;gap:8px;line-height:1.6;align-items:baseline}.info-row .property-name[data-v-50d482ce]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);flex-shrink:0}.info-row .value-main[data-v-50d482ce]{color:var(--theme-text-primary);word-break:break-word}.info-row.wrap-value[data-v-50d482ce]{flex-direction:column;gap:2px;align-items:flex-start}.info-row.wrap-value .value-main[data-v-50d482ce]{padding-left:1.5em}.divider[data-v-50d482ce]{border:0;border-top:1px solid var(--theme-border-dark);width:100%}.affection-bar-container[data-v-50d482ce]{background-color:var(--theme-progress-bar-bg);border-radius:9px;height:18px;margin-top:4px;margin-bottom:8px;overflow:hidden;border:1px solid rgba(0,0,0,.15);box-shadow:inset 0 1px 4px rgba(0,0,0,.2)}.affection-bar-value[data-v-50d482ce]{height:100%;transition:width .8s ease-out;border-radius:9px;background-color:var(--theme-affection-bar);background-image:linear-gradient(to bottom,rgba(255,255,255,0.15),rgba(0,0,0,0.1));box-shadow:inset 0 -1px 3px rgba(0,0,0,.1)}.bond-skill-section[data-v-50d482ce]{margin-top:10px}.bond-skill-content[data-v-50d482ce]{white-space:pre-wrap;line-height:1.6}.skill-item+.skill-item[data-v-50d482ce]{margin-top:8px}.skill-name[data-v-50d482ce]{font-weight:bold;color:var(--theme-text-tertiary)}.skill-description[data-v-50d482ce]{font-size:.9em;color:var(--theme-text-muted);padding-left:1em}
.gacha-button[data-v-7482abfa]{background-color:var(--theme-button-bg);color:var(--theme-button-text);border:none;padding:8px 12px;border-radius:4px;cursor:pointer;font-family:"Noto Sans SC",sans-serif;font-size:.9em;margin-bottom:10px;box-shadow:0 2px 5px rgba(0,0,0,.2);transition:all .2s ease}.gacha-button[data-v-7482abfa]:hover{background-color:var(--theme-button-bg-hover);box-shadow:0 4px 10px rgba(0,0,0,.3);transform:translateY(-2px)}.gacha-button[data-v-7482abfa]:active{transform:translateY(1px);box-shadow:0 1px 3px rgba(0,0,0,.2)}.destiny-points[data-v-7482abfa]{margin-bottom:12px;line-height:1.6}.destiny-points .property-name[data-v-7482abfa]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08)}.destiny-points .value-main[data-v-7482abfa]{color:var(--theme-text-primary)}.characters-list[data-v-7482abfa]{display:flex;flex-direction:column;gap:6px}.empty-message[data-v-7482abfa]{color:var(--theme-text-muted);font-style:italic;margin:0}
.equipment-entry[data-v-897c0cc2] .summary-title{display:flex;align-items:center;gap:4px}.equipment-details[data-v-897c0cc2]{color:var(--theme-text-primary);line-height:1.6;display:flex;flex-direction:column;gap:8px}.equipment-meta[data-v-897c0cc2]{color:var(--theme-text-secondary);font-size:.95em}.equipment-meta strong[data-v-897c0cc2]{color:var(--theme-text-tertiary)}
.equipment-section .property-name[data-v-73547c70]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);margin-bottom:12px}.equipment-grid[data-v-73547c70]{display:flex;flex-direction:column;gap:20px}.equipment-column[data-v-73547c70]{display:flex;flex-direction:column;gap:10px}.equipment-category-title[data-v-73547c70]{font-family:"Cinzel",serif;font-size:1em;font-weight:700;color:var(--theme-text-tertiary);padding-bottom:8px;border-bottom:1px solid var(--theme-border-light);margin-bottom:6px}.equipment-list[data-v-73547c70]{display:flex;flex-direction:column;gap:8px}.empty-category[data-v-73547c70]{color:var(--theme-text-muted);font-style:italic;font-size:.9em;padding:5px 10px}.empty-message[data-v-73547c70]{color:var(--theme-text-muted);font-style:italic;margin:0;padding-left:15px}
.item-entry[data-v-5c53a144] .summary-title{display:flex;align-items:center;gap:4px}.item-details[data-v-5c53a144]{color:var(--theme-text-primary);line-height:1.6;display:flex;flex-direction:column;gap:8px}.item-type[data-v-5c53a144],.item-meta[data-v-5c53a144]{color:var(--theme-text-secondary);font-size:.95em}.item-type strong[data-v-5c53a144],.item-meta strong[data-v-5c53a144]{color:var(--theme-text-tertiary)}
.currency-section[data-v-3f42996a]{margin-bottom:8px}.currency-section .property-name[data-v-3f42996a]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);margin-bottom:8px}.currency-display[data-v-3f42996a]{display:flex;flex-direction:row;flex-wrap:nowrap;gap:16px;padding-left:15px;align-items:center}.currency-item[data-v-3f42996a]{display:inline-flex;align-items:center;gap:4px;font-size:.95em}.currency-item .value-main[data-v-3f42996a]{font-weight:500}.thin-divider[data-v-3f42996a]{border:0;border-top:2px solid var(--theme-border-dark);margin:10px 0;width:100%}.items-section .property-name[data-v-3f42996a]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);margin-bottom:12px}.items-grid[data-v-3f42996a]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;align-items:start}.items-column[data-v-3f42996a]{display:flex;flex-direction:column;gap:10px}.items-category-title[data-v-3f42996a]{font-family:"Cinzel",serif;font-size:1em;font-weight:700;color:var(--theme-text-tertiary);padding-bottom:8px;border-bottom:1px solid var(--theme-border-light);margin-bottom:6px}.items-list[data-v-3f42996a]{display:flex;flex-direction:column;gap:6px}.empty-message[data-v-3f42996a]{color:var(--theme-text-muted);font-style:italic;margin:0;padding-left:15px}@media (max-width:768px){.items-grid[data-v-3f42996a]{grid-template-columns:1fr;gap:15px}.currency-display[data-v-3f42996a]{flex-wrap:wrap;gap:8px}}
.news-content[data-v-337535f6]{white-space:pre-wrap;line-height:1.6;color:var(--theme-text-primary)}
.update-button[data-v-133ab360]{background-color:var(--theme-button-bg);color:var(--theme-button-text);border:none;padding:8px 12px;border-radius:4px;cursor:pointer;font-family:"Noto Sans SC",sans-serif;font-size:.9em;margin-bottom:10px;box-shadow:0 2px 5px rgba(0,0,0,.2);transition:all .2s ease}.update-button[data-v-133ab360]:hover{background-color:var(--theme-button-bg-hover);box-shadow:0 4px 10px rgba(0,0,0,.3);transform:translateY(-2px)}.update-button[data-v-133ab360]:active{transform:translateY(1px);box-shadow:0 1px 3px rgba(0,0,0,.2)}[data-v-133ab360] .news-gold-lion{font-family:"Cinzel",serif;color:var(--theme-news-important);font-weight:700}[data-v-133ab360] .news-tavern{font-family:"Merriweather",serif;color:var(--theme-news-normal);font-weight:700}[data-v-133ab360] .news-tea-party{font-family:"Cinzel",serif;color:var(--theme-news-minor);font-weight:700}
.skill-item[data-v-6ef8755d] .summary-title{display:flex;align-items:center;gap:4px}.skill-description[data-v-6ef8755d]{color:var(--theme-text-primary);line-height:1.6;display:flex;flex-direction:column;gap:8px}.skill-type[data-v-6ef8755d],.skill-meta[data-v-6ef8755d]{color:var(--theme-text-secondary);font-size:.95em}.skill-type strong[data-v-6ef8755d],.skill-meta strong[data-v-6ef8755d]{color:var(--theme-text-tertiary)}
.skills-grid[data-v-9604e0e2]{display:grid;grid-template-columns:1fr auto 1fr;gap:20px;align-items:start}.skills-grid[data-v-9604e0e2]::before{content:"";grid-column:2;grid-row:1;width:1px;height:100%;background-color:var(--theme-border-light);justify-self:center}.skills-grid.has-other[data-v-9604e0e2]{grid-template-columns:1fr;gap:20px}.skills-grid.has-other[data-v-9604e0e2]::before{display:none}.skills-grid.has-other .skills-column[data-v-9604e0e2]{grid-column:1}.skills-grid.has-other .skills-column[data-v-9604e0e2]:not(:first-child){padding-top:15px;border-top:1px solid var(--theme-border-light)}.skills-column[data-v-9604e0e2]{display:flex;flex-direction:column;gap:10px}.skills-column[data-v-9604e0e2]:first-child{grid-column:1}.skills-column[data-v-9604e0e2]:last-child{grid-column:3}.skills-category-title[data-v-9604e0e2]{font-family:"Cinzel",serif;font-size:1em;font-weight:700;color:var(--theme-text-tertiary);padding-bottom:8px}.skills-list[data-v-9604e0e2]{display:flex;flex-direction:column;gap:6px}.empty-message[data-v-9604e0e2]{color:var(--theme-text-muted);font-style:italic;margin:0}@media (max-width:768px){.skills-grid[data-v-9604e0e2]{grid-template-columns:1fr;gap:20px}.skills-grid[data-v-9604e0e2]::before,.skills-grid[data-v-9604e0e2]::after{display:none}.skills-column[data-v-9604e0e2]{grid-column:1 !important}.skills-column[data-v-9604e0e2]:not(:first-child){padding-top:10px;border-top:1px solid var(--theme-border-light)}}
>>>>>>> 45d06f7 (fix: equipments rarity sort)
.tasks-container[data-v-2accb5ef]{display:flex;flex-direction:column;gap:6px}.task-content[data-v-2accb5ef]{display:flex;flex-direction:column;gap:8px}.task-field[data-v-2accb5ef]{margin:0;line-height:1.6}.field-label[data-v-2accb5ef]{font-weight:bold;color:var(--theme-text-secondary);margin-right:4px}.empty-message[data-v-2accb5ef]{color:var(--theme-text-muted);font-style:italic;margin:0}
.theme-panel[data-v-1c73130a]{background-color:var(--theme-background-secondary);border:1px solid var(--theme-border-light);border-radius:6px;padding:8px 14px;margin-bottom:15px}.theme-info[data-v-1c73130a]{display:flex;justify-content:space-between;align-items:center;gap:12px}.theme-info .info-content h3[data-v-1c73130a]{margin:0;font-size:.95em;color:var(--theme-text-secondary);font-weight:700;display:flex;align-items:center;gap:4px}.theme-info .info-content .theme-name[data-v-1c73130a]{font-weight:400;color:var(--theme-text-muted)}.theme-info .info-content .customized-tag[data-v-1c73130a]{font-weight:400;color:var(--theme-button-bg)}.theme-info .toggle-btn[data-v-1c73130a]{padding:6px 12px;background-color:var(--theme-button-bg);color:var(--theme-button-text);border:none;border-radius:4px;cursor:pointer;font-size:.85em;transition:background-color .2s ease;white-space:nowrap}.theme-info .toggle-btn[data-v-1c73130a]:hover{background-color:var(--theme-button-bg-hover)}.theme-info .toggle-btn.active[data-v-1c73130a]{background-color:var(--theme-button-bg-hover)}.editing-panel[data-v-1c73130a]{margin-top:12px;padding-top:12px;border-top:1px solid var(--theme-border-light)}.group-selector[data-v-1c73130a]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}.group-selector .group-btn[data-v-1c73130a]{padding:6px 10px;background-color:var(--theme-background-tertiary);color:var(--theme-text-secondary);border:1px solid var(--theme-border-light);border-radius:4px;cursor:pointer;font-size:.8em;transition:all .2s ease}.group-selector .group-btn[data-v-1c73130a]:hover{background-color:var(--theme-title-bg-hover);border-color:var(--theme-border-dark)}.group-selector .group-btn.active[data-v-1c73130a]{background-color:var(--theme-button-bg);color:var(--theme-button-text);border-color:var(--theme-button-bg)}.color-editor[data-v-1c73130a]{margin-bottom:12px}.color-editor h4[data-v-1c73130a]{margin:0 0 10px 0;font-size:.9em;color:var(--theme-text-secondary);font-weight:600}.color-items[data-v-1c73130a]{display:flex;flex-direction:column;gap:10px;max-height:350px;overflow-y:auto;padding-right:6px}.color-items[data-v-1c73130a]::-webkit-scrollbar{width:6px}.color-items[data-v-1c73130a]::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.color-items[data-v-1c73130a]::-webkit-scrollbar-thumb{background:var(--theme-border-light);border-radius:3px}.color-items[data-v-1c73130a]::-webkit-scrollbar-thumb:hover{background:var(--theme-border-dark)}.color-item[data-v-1c73130a]{display:flex;flex-direction:column;gap:6px}.color-item label[data-v-1c73130a]{font-size:.8em;color:var(--theme-text-secondary);font-weight:600}.color-item .input-group[data-v-1c73130a]{display:flex;gap:8px;align-items:center}.color-item .input-group .color-input[data-v-1c73130a]{width:50px;height:32px;border:1px solid var(--theme-border-light);border-radius:4px;cursor:pointer}.color-item .input-group .text-input[data-v-1c73130a]{flex:1;padding:6px 8px;border:1px solid var(--theme-border-light);border-radius:4px;font-size:.8em;color:var(--theme-text-primary);background-color:var(--theme-background-tertiary)}.color-item .input-group .text-input[data-v-1c73130a]:focus{outline:none;border-color:var(--theme-button-bg)}.color-item .input-group .slider[data-v-1c73130a]{flex:1;cursor:pointer}.color-item .input-group .value-display[data-v-1c73130a]{min-width:45px;font-size:.8em;color:var(--theme-text-muted);text-align:right}.actions[data-v-1c73130a]{display:flex;gap:8px;margin-top:12px;padding-top:12px;border-top:1px solid var(--theme-border-light)}.actions button[data-v-1c73130a]{flex:1;padding:8px 12px;border:none;border-radius:4px;font-size:.85em;font-weight:600;cursor:pointer;transition:all .2s ease}.actions .btn-primary[data-v-1c73130a]{background-color:var(--theme-button-bg);color:var(--theme-button-text)}.actions .btn-primary[data-v-1c73130a]:hover{background-color:var(--theme-button-bg-hover)}.actions .btn-secondary[data-v-1c73130a]{background-color:var(--theme-background-secondary);color:var(--theme-text-secondary);border:1px solid var(--theme-border-light)}.actions .btn-secondary[data-v-1c73130a]:hover{background-color:var(--theme-title-bg-hover);border-color:var(--theme-border-dark)}
.property-item[data-v-4560ba30]{margin:0;line-height:1.6}.property-name[data-v-4560ba30]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08)}
.resource-item[data-v-10a80049]{display:flex;flex-direction:column;gap:4px}.resource-label[data-v-10a80049]{line-height:1.6}.property-name[data-v-10a80049]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08);margin-right:4px}.progress-bar-container[data-v-10a80049]{background-color:var(--theme-progress-bar-bg);border-radius:9px;height:18px;overflow:hidden;border:1px solid rgba(0,0,0,.15);box-shadow:inset 0 1px 4px rgba(0,0,0,.2)}.progress-bar-value[data-v-10a80049]{height:100%;transition:width .8s ease-out;border-radius:9px;background-image:linear-gradient(to bottom,rgba(255,255,255,0.15),rgba(0,0,0,0.1));box-shadow:inset 0 -1px 3px rgba(0,0,0,.1)}
.resources-section[data-v-c4fd4752]{display:flex;flex-direction:column;gap:12px;margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid var(--theme-border-light)}.status-grid[data-v-c4fd4752]{display:grid;grid-template-columns:1fr auto 1fr;gap:20px;align-items:start}.status-grid[data-v-c4fd4752]::before{content:"";grid-column:2;grid-row:1;width:1px;height:100%;background-color:var(--theme-border-light);justify-self:center}.status-grid-left[data-v-c4fd4752],.status-grid-right[data-v-c4fd4752]{display:flex;flex-direction:column;gap:8px}.status-grid-left[data-v-c4fd4752]{grid-column:1}.status-grid-right[data-v-c4fd4752]{grid-column:3}.property-name[data-v-c4fd4752]{font-weight:bold;color:var(--theme-text-secondary);text-shadow:0 0 1px rgba(0,0,0,.08)}@media (max-width:768px){.status-grid[data-v-c4fd4752]{grid-template-columns:1fr;gap:10px}.status-grid[data-v-c4fd4752]::before{display:none}.status-grid-left[data-v-c4fd4752],.status-grid-right[data-v-c4fd4752]{grid-column:1}.status-grid-right[data-v-c4fd4752]{padding-top:10px;border-top:1px solid var(--theme-border-light)}}
.world-status[data-v-77b8dafd]{display:flex;flex-direction:column;gap:8px;background-color:var(--theme-background-secondary);padding:10px 15px;margin-bottom:15px;border:1px solid var(--theme-border-dark);border-radius:4px;box-shadow:0 2px 5px rgba(0,0,0,.1);transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.world-status[data-v-77b8dafd]:hover{transform:translateY(-3px);box-shadow:0 4px 10px rgba(0,0,0,.2)}.world-info[data-v-77b8dafd]{margin:0;display:flex;align-items:center;gap:6px;line-height:1.6}.info-icon[data-v-77b8dafd]{flex-shrink:0;line-height:1}.info-label[data-v-77b8dafd]{font-weight:500;color:var(--theme-text-primary);flex-shrink:0;line-height:1}
.layout[data-v-4aab5234]{display:flex;flex-direction:column;padding:15px;background-color:var(--theme-background);opacity:var(--theme-background-opacity);border:var(--theme-main-border-width) solid var(--theme-main-border);border-radius:8px;overflow:hidden}
*{margin:0;padding:0;box-sizing:border-box}.value-main{color:var(--theme-text-primary);font-weight:500;font-family:"Noto Sans SC","Courier New",monospace;text-shadow:0 0 2px rgba(0,0,0,.15),0 0 5px hsla(0,0%,100%,.3)}.quality-unique{color:var(--theme-quality-unique);font-weight:bold;text-shadow:0 0 3px rgba(255,111,0,.3)}.quality-mythic{color:var(--theme-quality-mythic);font-weight:bold}.quality-legendary{color:var(--theme-quality-legendary);font-weight:bold}.quality-epic{color:var(--theme-quality-epic);font-weight:bold}.quality-rare{color:var(--theme-quality-rare);font-weight:bold}.quality-uncommon{color:var(--theme-quality-uncommon);font-weight:bold}
</style></head><body><div id="app"></div></body>